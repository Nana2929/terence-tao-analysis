\section{Basic definitions}\label{sec 10}

\begin{note}
    We can now define derivatives analyti cally, using limits, in contrast to the geometric definition of derivatives, which uses tangents.
    The advantage of working analytically is that
    (a) we do not need to know the axioms of geometry, and
    (b) these definitions can be modified to handle functions of several variables, or functions whose values are vectors instead of scalar.
    Furthermore, one's geometric intuition becomes difficult to rely on once one has more than three dimensions in play.
    (Conversely, one can use one's experience in analytic rigour to extend one's geometric intuition to such abstract settings;
    as mentioned earlier, the two viewpoints complement rather than oppose each other.)
\end{note}

\begin{definition}[Differentiability at a point]\label{10.1.1}
    Let \(X\) be a subset of \(\mathbf{R}\), and let \(x_0 \in X\) be an element of \(X\) which is also a limit point of \(X\).
    Let \(f : X \to \mathbf{R}\) be a function.
    If the limit
    \[
        \lim_{x \to x_0 ; x \in X \setminus \{x_0\}} \frac{f(x) - f(x_0)}{x - x_0}
    \]
    converges to some real number \(L\), then we say that \(f\) is \emph{differentiable at \(x_0\) on \(X\) with derivative \(L\)}, and write \(f'(x_0) \coloneqq L\).
    If the limit does not exist, or if \(x_0\) is not an element of \(X\) or not a limit point of \(X\), we leave \(f'(x_0)\) undefined, and say that \(f\) is \emph{not differentiable at \(x_0\) on \(X\)}.
\end{definition}

\begin{remark}\label{10.1.2}
    Note that we need \(x_0\) to be a limit point in order for \(x_0\) to be adherent to \(X \setminus \{x_0\}\), otherwise the limit
    \[
        \lim_{x \to x_0 ; x \in X \setminus \{x_0\}} \frac{f(x) - f(x_0)}{x - x_0}
    \]
    would automatically be undefined.
    In particular, we do not define the derivative of a function at an isolated point;
    In practice, the domain \(X\) will almost always be an interval, and so by Lemma \ref{9.1.21} all elements \(x_0\) of \(X\) will automatically be limit points and we will not have to care much about these issues.
\end{remark}

\setcounter{theorem}{3}
\begin{remark}\label{10.1.4}
    This point is trivial, but it is worth mentioning:
    if \(f : X \to \mathbf{R}\) is differentiable at \(x_0\), and \(g : X \to \mathbf{R}\) is equal to \(f\) (i.e., \(g(x) = f(x)\) for all \(x \in X\)), then \(g\) is also differentiable at \(x_0\) and \(g'(x_0) = f'(x_0)\).
    However, if two functions \(f\) and \(g\) merely have the same value at \(x_0\), i.e., \(g(x_0) = f(x_0)\), this does not imply that \(g'(x_0) = f'(x_0)\).
    Thus there is a big difference between two functions being equal on their whole domain, and merely being equal at one point.
\end{remark}

\begin{remark}\label{10.1.5}
    One sometimes writes \(\frac{df}{dx}\) instead of \(f'\).
    This notation is of course very familiar and convenient, but one has to be a little careful, because it is only safe to use as long as \(x\) is the only variable used to represent the input for \(f\);
    otherwise one can get into all sorts of trouble.
    Because of this possible source of confusion, we will refrain from using the notation \(\frac{df}{dx}\) whenever it could possibly lead to confusion.
    (This confusion becomes even worse in the calculus of several variables, and the standard notation of \(\frac{\partial f}{\partial x}\) can lead to some serious ambiguities.
    There are ways to resolve these ambiguities, most notably by introducing the notion of differentiation along vector fields, but this is beyond the scope of this text.)
\end{remark}

\begin{example}\label{10.1.6}
    Let \(f : \mathbf{R} \to \mathbf{R}\) be the function \(f(x) \coloneqq \abs*{x}\), and let \(x_0 = 0\).
    To see whether \(f\) is differentiable at \(0\) on \(\mathbf{R}\), we compute the limit
    \[
        \lim_{x \to 0 ; x \in \mathbf{R} \setminus \{0\}} \frac{f(x) - f(0)}{x - 0} = \lim_{x \to 0 ; x \in \mathbf{R} \setminus \{0\}} \frac{\abs*{x}}{x}.
    \]
    Now we take left limits and right limits.
    The right limit is
    \[
        \lim_{x \to 0 ; x \in (0, \infty)} \frac{\abs*{x}}{x} = \lim_{x \to 0 ; x \in (0, \infty)} \frac{x}{x} = \lim_{x \to 0 ; x \in (0, \infty)} 1 = 1,
    \]
    while the left limit is
    \[
        \lim_{x \to 0 ; x \in (-\infty, 0)} \frac{\abs*{x}}{x} = \lim_{x \to 0 ; x \in (-\infty, 0)} \frac{-x}{x} = \lim_{x \to 0 ; x \in (-\infty, 0)} -1 = -1,
    \]
    and these limits do not match.
    Thus \(\lim_{x \to 0 ; x \in (0, \infty)} \frac{\abs*{x}}{x}\) does not exist, and \(f\) is not differentiable at \(0\) on \(\mathbf{R}\).
    However, if one restricts \(f\) to \([0, \infty)\), then the restricted function \(f|_{[0, \infty)}\) is differentiable at \(0\) on \([0, \infty)\), with derivative \(1\):
    \[
    \lim_{x \to 0 ; x \in [0, \infty) \setminus \{0\}} \frac{f(x) - f(0)}{x - 0} = \lim_{x \to 0 ; x \in (0, \infty)} \frac{\abs*{x}}{x} = 1.
        \]
        Similarly, when one restricts \(f\) to \((-\infty, 0]\), the restricted function \(f|_{(-\infty, 0]}\) is differentiable at \(0\) on \((-\infty, 0]\), with derivative \(-1\).
    Thus even when a function is not differentiable, it is sometimes possible to restore the differentiability by restricting the domain of the function.
\end{example}