\section{Partitions}\label{sec 11.1}

\begin{definition}\label{11.1.1}
    Let \(X\) be a subset of \(\mathbf{R}\).
    We say that \(X\) is \emph{connected} iff the following property is true:
    whenever \(x, y\) are elements in \(X\) such that \(x < y\), the bounded interval \([x, y]\) is a subset of \(X\)
    (i.e., every number between \(x\) and \(y\) is also in \(X\)).
\end{definition}

\setcounter{theorem}{3}
\begin{lemma}\label{11.1.4}
    Let \(X\) be a subset of the real line.
    Then the following two statements are logically equivalent:
    \begin{enumerate}
        \item \(X\) is bounded and connected.
        \item \(X\) is a bounded interval.
    \end{enumerate}
\end{lemma}

\begin{proof}
    Both statements are logically equivalent when \(X = \emptyset\) (which is vacuously true).
    So suppose that \(X \neq \emptyset\).

    We first show that \(X\) is bounded and connected implies \(X\) is a bounded interval.
    Since \(X\) is bounded, by Theorem \ref{5.5.9} we know that \(\inf(X), \sup(X) \in \mathbf{R}\).
    Thus \(X \subseteq [\inf(X), \sup(X)]\).
    Let \(x \in X\).
    Then we must have \(\exists\ a, b \in X\) such that
    \[
        \inf(X) < a \leq x \leq b < \sup(X),
    \]
    otherwise contradict to the existence of \(\inf(X)\) and \(\sup(X)\).
    Since \(X\) is connected, by Definition \ref{11.1.1} we know that \([a, b] \subseteq X\).
    Since \(\inf(X) < a\) and \(b < \sup(X)\), we have \((\inf(X), \sup(X)) \subseteq [a, b] \subseteq X\).
    Thus \(X\) is a bounded interval.

    Now we show that \(X\) is a bounded interval implies \(X\) is bounded and connected.
    Obviously \(X\) is bounded.
    Let \(a, b \in \mathbf{R}\).
    Then \(X\) can be one of \((a, b), [a, b], (a, b], [a, b)\), and by Definition \ref{11.1.1} all of which are connected.
\end{proof}

\begin{remark}\label{11.1.5}
    Recall that intervals are allowed to be singleton points, or even the empty set.
\end{remark}

\begin{corollary}\label{11.1.6}
    If \(I\) and \(J\) are bounded intervals, then the intersection \(I \cap J\) is also a bounded interval.
\end{corollary}

\begin{proof}
    Since \(I, J\) are bounded intervals, by Lemma \ref{11.1.4} we know that \(I, J\) are bounded and connected.
    Since \(I, J\) are bounded, \(\exists\ M_1, M_2 \in \mathbf{R}\) such that \(I \subseteq [-M_1, M_1]\) and \(J \subseteq [-M_2, M_2]\).
    Let \(M = \min(M_1, M_2)\).
    Then we have \(I \cap J \subseteq [-M, M]\) and thus \(I \cap J\) is bounded.
    Let \(x, y \in I \cap J\) and \(x < y\).
    Since \(I\) is connected and \(I \cap J \subseteq I\), we have \([x, y] \subseteq I\).
    Similarly since \(J\) is connected and \(I \cap J \subseteq J\), we have \([x, y] \subseteq J\).
    Thus \([x, y] \subseteq I \cap J\) and by Definition \ref{11.1.1} \(I \cap J\) is connected.
    Since \(I \cap J\) is bounded and connected, by Lemma \ref{11.1.4} \(I \cap J\) is bounded interval.
\end{proof}

\setcounter{theorem}{7}
\begin{definition}[Length of intervals]\label{11.1.8}
    If \(I\) is a bounded interval, we define the \emph{length} of \(I\), denoted \(\abs*{I}\) as follows.
    If \(I\) is one of the intervals \([a, b]\), \((a, b)\), \([a, b)\), or \((a, b]\) for some real numbers \(a < b\), then we define \(\abs*{I} \coloneqq b - a\).
    Otherwise, if \(I\) is a point or the empty set, we define \(\abs*{I} = 0\).
\end{definition}

\setcounter{theorem}{9}
\begin{definition}[Partitions]\label{11.1.10}
    Let \(I\) be a bounded interval.
    A \emph{partition} of \(I\) is a finite set \(\mathbf{P}\) of bounded intervals contained in \(I\), such that every \(x\) in \(I\) lies in exactly one of the bounded intervals \(J\) in \(\mathbf{P}\).
\end{definition}

\begin{remark}\label{11.1.11}
    Note that a partition is a set of intervals, while each interval is itself a set of real numbers.
    Thus a partition is a set consisting of other sets.
\end{remark}

\setcounter{theorem}{12}
\begin{theorem}[Length is finitely additive]\label{11.1.13}
    Let \(I\) be a bounded interval, \(n\) be a natural number, and let \(\mathbf{P}\) be a partition of \(I\) of cardinality \(n\).
    Then
    \[
        \abs*{I} = \sum_{J \in \mathbf{P}} \abs*{J}.
    \]
\end{theorem}

\begin{proof}
    We prove this by induction on \(n\).
    More precisely, we let \(P(n)\) be the property that whenever \(I\) is a bounded interval, and whenever \(\mathbf{P}\) is a partition of \(I\) with cardinality \(n\), that \(\abs*{I} = \sum_{J \in \mathbf{P}} \abs*{J}\).

    The base case \(P(0)\) is trivial;
    the only way that \(I\) can be partitioned into an empty partition is if \(I\) is itself empty, at which point the claim is easy.
    The case \(P(1)\) is also very easy;
    the only way that \(I\) can be partitioned into a singleton set \(\{J\}\) is if \(J = I\), at which point the claim is again very easy.

    Now suppose inductively that \(P(n)\) is true for some \(n \geq 1\), and now we prove \(P(n + 1)\).
    Let \(I\) be a bounded interval, and let \(\mathbf{P}\) be a partition of \(I\) of cardinality \(n + 1\).

    If \(I\) is the empty set or a point, then all the intervals in \(\mathbf{P}\) must also be either the empty set or a point, and so every interval has length zero and the claim is trivial.
    Thus we will assume that \(I\) is an interval of the form \((a, b)\), \((a, b]\), \([a, b)\), or \([a, b]\).

            Let us first suppose that \(b \in I\), i.e., \(I\) is either \((a, b]\) or \([a, b]\).
    Since \(b \in I\), we know that one of the intervals \(K\) in \(\mathbf{P}\) contains \(b\).
    Since \(K\) is contained in \(I\), it must therefore be of the form \((c, b]\), \([c, b]\), or \(\{b\}\) for some real number \(c\), with \(a \leq c \leq b\) (in the latter case of \(K = \{b\}\), we set \(c \coloneqq b\)).
    In particular, this means that the set \(I \setminus K\) is also an interval of the form \([a, c]\), \((a, c)\), \((a, c]\), \([a, c)\) when \(c > a\), or a point or empty set when \(a = c\).
    Either way, we easily see that
    \[
        \abs*{I} = \abs*{K} + \abs*{I - K}.
    \]
    On the other hand, since \(\mathbf{P}\) forms a partition of \(I\), we see that \(\mathbf{P} \setminus \{K\}\) forms a partition of \(I \setminus K\).
    By the induction hypothesis, we thus have
    \[
        \abs*{I - K} = \sum_{J \in \mathbf{P} \setminus \{K\}} \abs*{J}.
    \]
    Combining these two identities (and using the laws of addition for finite sets, see Proposition \ref{7.1.11}(e)) we obtain
    \[
        \abs*{I} = \sum_{J \in \mathbf{P}} \abs*{J}
    \]
    as desired.

    Now suppose that \(b \notin I\), i.e., \(I\) is either \((a, b)\) or \([a, b)\).
    Then one of the intervals \(K\) also is of the form \((c, b)\) or \([c, b)\) (see Exercise \ref{ex 11.1.3}).
            In particular, this means that the set \(I \setminus K\) is also an interval of the form \([a, c]\), \((a, c)\), \((a, c]\), \([a, c)\) when \(c > a\), or a point or empty set when \(a = c\).
    The rest of the argument then proceeds as above.
\end{proof}

\begin{definition}[Finer and coarser partitions]\label{11.1.14}
    Let \(I\) be a bounded interval, and let \(\mathbf{P}\) and \(\mathbf{P}'\) be two partitions of \(I\).
    We say that \(\mathbf{P}'\) is \emph{finer} than \(\mathbf{P}\) (or equivalently, that \(\mathbf{P}\) is \emph{coarser} than \(\mathbf{P}'\)) if for every \(J\) in \(\mathbf{P}'\), there exists a \(K\) in \(\mathbf{P}\) such that \(J \subseteq K\).
\end{definition}

\begin{exercise}\label{ex 11.1.3}

\end{exercise}