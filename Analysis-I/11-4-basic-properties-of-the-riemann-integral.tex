\section{Basic properties of the Riemann integral}\label{sec 11.4}

\begin{theorem}[Laws of Riemann integration]\label{11.4.1}
    Let \(I\) be a bounded interval, and let \(f : I \to \mathbf{R}\) and \(g : I \to \mathbf{R}\) be Riemann integrable functions on \(I\).
    \begin{enumerate}
        \item The function \(f + g\) is Riemann integrable, and we have \(\int_I f + \int_I g\).
        \item For any real number \(c\), the function \(cf\) is Riemann integrable, and we have \(\int_I (cf) = c(\int_I f)\).
        \item The function \(f - g\) is Riemann integrable, and we have \(\int_I (f - g) = \int_I f - \int_I g\).
        \item If \(f(x) \geq 0\) for all \(x \in I\), then \(\int_I f \geq 0\).
        \item If \(f(x) \geq g(x)\) for all \(x \in I\), then \(\int_I f \geq \int_I g\).
        \item If \(f\) is the constant function \(f(x) = c\) for all \(x \in I\), then \(\int_I f = c \abs*{I}\).
        \item Let \(J\) be a bounded interval containing \(I\) (i.e., \(I \subseteq J\)), and let \(F : J \to \mathbf{R}\) be the function
              \[
                  F(x) \coloneqq \begin{cases}
                      f(x) & \text{if } x \in I    \\
                      0    & \text{if } x \notin I \\
                  \end{cases}
              \]
              Then \(F\) is Riemann integrable on \(J\), and \(\int_J F = \int_I f\).
        \item Suppose that \(\{J, K\}\) is a partition of \(I\) into two intervals \(J\) and \(K\).
              Then the functions \(f|_J : J \to \mathbf{R}\) and \(f|_K : K \to \mathbf{R}\) are Riemann integrable on \(J\) and \(K\) respectively, and we have
              \[
                  \int_I f = \int_J f|_J + \int_K f|_K.
              \]
    \end{enumerate}
\end{theorem}

\begin{proof}{(a)}
    Since \(f, g\) are Riemann integrable, by Definition \ref{11.3.4} we have
    \[
        \int_I f = \overline{\int}_I f = \underline{\int}_I f
    \]
    and
    \[
        \int_I g = \overline{\int}_I g = \underline{\int}_I g.
    \]
    Let \(f_U : I \to \mathbf{R}\) and \(g_U : I \to \mathbf{R}\) be piecewise constant functions on \(I\) which majorizes \(f\) and \(g\) respectively.
    Let \(f_L : I \to \mathbf{R}\) and \(g_L : I \to \mathbf{R}\) be piecewise constant functions on \(I\) which minorizes \(f\) and \(g\) respectively.
    \(f_U, g_U, f_L, g_L\) are well-defined since by Definition \ref{11.3.4} \(f, g\) are bounded functions on a bounded interval \(I\).
    By Definition \ref{11.3.2} we have
    \[
        p.c. \int_I f_L \leq \underline{\int}_I f = \int_I f = \overline{\int}_I f \leq p.c. \int_I f_U
    \]
    and
    \[
        p.c. \int_I g_L \leq \underline{\int}_I g = \int_I g = \overline{\int}_I g \leq p.c. \int_I g_U.
    \]
    By Definition \ref{11.3.4} both \(f, g\) are bounded functions, so \(f + g\) is bounded function, and \(\underline{\int}_I (f + g), \overline{\int}_I (f + g)\) are well-defined (by Definition \ref{11.3.2}).
    By Exercise \ref{ex 11.3.2} we know that \(f_U + g_U\) majorizes \(f + g_U\) and \(f + g_U\) majorizes \(f + g\), thus \(f_U + g_U\) majorizes \(f + g\).
    Similarly \(f_L + g_L\) minorizes \(f + g\).
    Then we have
    \begin{align*}
                 & \overline{\int}_I (f + g) \leq p.c. \int_I (f + g)                       & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_I (f + g) \leq p.c. \int_I f_U + p.c. \int_I g_U         & \text{(by Theorem \ref{11.2.16}(a))} \\
        \implies & \overline{\int}_I (f + g) - p.c. \int_I g_U \leq p.c. \int_I f_U                                                \\
        \implies & \overline{\int}_I (f + g) - p.c. \int_I g_U \leq \overline{\int}_I f     & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_I (f + g) - \overline{\int}_I f \leq p.c. \int_I g_U                                            \\
        \implies & \overline{\int}_I (f + g) - \overline{\int}_I f \leq \overline{\int}_I g & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_I (f + g) \leq \overline{\int}_I f + \overline{\int}_I g &                                      \\
        \implies & \overline{\int}_I (f + g) \leq \int_I f + \int_I g                       & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    and
    \begin{align*}
                 & \underline{\int}_I (f + g) \geq p.c. \int_I (f + g)                         & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_I (f + g) \geq p.c. \int_I f_L + p.c. \int_I g_L           & \text{(by Theorem \ref{11.2.16}(a))} \\
        \implies & \underline{\int}_I (f + g) - p.c. \int_I g_L \geq p.c. \int_I f_L                                                  \\
        \implies & \underline{\int}_I (f + g) - p.c. \int_I g_L \geq \underline{\int}_I f      & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_I (f + g) - \underline{\int}_I f \geq p.c. \int_I g_L                                             \\
        \implies & \underline{\int}_I (f + g) - \underline{\int}_I f \geq \underline{\int}_I g & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_I (f + g) \geq \underline{\int}_I f + \underline{\int}_I g &                                      \\
        \implies & \underline{\int}_I (f + g) \geq \int_I f + \int_I g.                        & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    By Lemma \ref{11.3.3} we have
    \[
        \int_I f + \int_I g \leq \underline{\int}_I (f + g) \leq \overline{\int}_I (f + g) \leq \int_I f + \int_I g
    \]
    and thus by Definition \ref{11.3.4} we have
    \[
        \int_I (f + g) = \underline{\int}_I (f + g) = \overline{\int}_I (f + g) = \int_I f + \int_I g.
    \]
\end{proof}

\begin{proof}{(b)}
    Since \(f\) is Riemann integrable, by Definition \ref{11.3.4} we have
    \[
        \int_I f = \overline{\int}_I f = \underline{\int}_I f.
    \]
    First suppose that \(c = 0\).
    Then we have \((cf)(x) = 0\) for all \(x \in 0\), thus we have
    \begin{align*}
        \int_I (cf) & = p.c. \int_I (cf) & \text{(by Lemma \ref{11.3.7})} \\
                    & = 0                                                 \\
                    & = c \int_I f.
    \end{align*}

    Next suppose that \(c > 0\).
    Let \(f_U : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which majorizes \(f\).
    Let \(f_L : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which minorizes \(f\).
    \(f_U, f_L\) are well-defined since by Definition \ref{11.3.4} \(f\) is a bounded function on a bounded interval \(I\).
    Then by Definition \ref{11.3.2} we have
    \[
        p.c. \int_I f_L \leq \underline{\int}_I f = \int_I f = \overline{\int}_I f \leq p.c. \int_I f_U.
    \]
    Since \(f\) is a bounded function, \(cf\) is also a bounded function, by Definition \ref{11.3.2} both \(\overline{\int}_I (cf), \underline{\int}_I (cf)\) are well-defined.
    Since \(c > 0\), by Definition \ref{11.3.1} we know that \(c f_U\) majorizes \(c f\) and \(c f_L\) minorizes \(c f\).
    Then we have
    \begin{align*}
                 & \overline{\int}_I (cf) \leq p.c. \int_I (c f_U)                         & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_I (cf) \leq c \bigg(p.c. \int_I f_U\bigg)               & \text{(by Theorem \ref{11.2.16}(b))} \\
        \implies & \frac{1}{c} \bigg(\overline{\int}_I (cf)\bigg) \leq p.c. \int_I f_U                                            \\
        \implies & \frac{1}{c} \bigg(\overline{\int}_I (cf)\bigg) \leq \overline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_I (cf) \leq c\bigg(\overline{\int}_I f\bigg)                                                   \\
        \implies & \overline{\int}_I (cf) \leq c\bigg(\int_I f\bigg)                       & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    and
    \begin{align*}
                 & \underline{\int}_I (cf) \geq p.c. \int_I (c f_L)                          & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_I (cf) \geq c \bigg(p.c. \int_I f_L\bigg)                & \text{(by Theorem \ref{11.2.16}(b))} \\
        \implies & \frac{1}{c} \bigg(\underline{\int}_I (cf)\bigg) \geq p.c. \int_I f_L                                             \\
        \implies & \frac{1}{c} \bigg(\underline{\int}_I (cf)\bigg) \geq \underline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_I (cf) \geq c\bigg(\underline{\int}_I f\bigg)                                                   \\
        \implies & \underline{\int}_I (cf) \geq c\bigg(\int_I f\bigg).                       & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    By Lemma \ref{11.3.3} we have
    \[
        c\bigg(\int_I f\bigg) \leq \underline{\int}_I (cf) \leq \overline{\int}_I (cf) \leq c\bigg(\int_I f\bigg)
    \]
    and thus by Definition \ref{11.3.4} we have
    \[
        \int_I (cf) = \underline{\int}_I (cf) = \overline{\int}_I (cf) = c\bigg(\int_I f\bigg).
    \]

    Next suppose that \(c = -1\).
    Using the same definition of \(f_U, f_L\) we have
    \begin{align*}
                 & \overline{\int}_I (cf) \leq p.c. \int_I (c f_U)                         & \text{(by Definition \ref{11.3.2})}  \\
                 & \overline{\int}_I (cf) \leq p.c. \int_I (c f_U)                         & \text{(by Lemma \ref{11.3.3})}       \\
        \implies & \overline{\int}_I (cf) \leq c \bigg(p.c. \int_I f_U\bigg)               & \text{(by Theorem \ref{11.2.16}(b))} \\
        \implies & \frac{1}{c} \bigg(\overline{\int}_I (cf)\bigg) \geq p.c. \int_I f_U                                            \\
        \implies & \frac{1}{c} \bigg(\overline{\int}_I (cf)\bigg) \geq \overline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_I (cf) \leq c\bigg(\overline{\int}_I f\bigg)                                                   \\
        \implies & \overline{\int}_I (cf) \leq c\bigg(\int_I f\bigg)                       & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    and
    \begin{align*}
                 & \underline{\int}_I (cf) \geq p.c. \int_I (c f_L)                          & \text{(by Definition \ref{11.3.2})}  \\
                 & \underline{\int}_I (cf) \geq p.c. \int_I (c f_L)                          & \text{(by Lemma \ref{11.3.3})}       \\
        \implies & \underline{\int}_I (cf) \geq c \bigg(p.c. \int_I f_L\bigg)                & \text{(by Theorem \ref{11.2.16}(b))} \\
        \implies & \frac{1}{c} \bigg(\underline{\int}_I (cf)\bigg) \leq p.c. \int_I f_L                                             \\
        \implies & \frac{1}{c} \bigg(\underline{\int}_I (cf)\bigg) \leq \underline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_I (cf) \geq c\bigg(\underline{\int}_I f\bigg)                                                   \\
        \implies & \underline{\int}_I (cf) \geq c\bigg(\int_I f\bigg).                       & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    Again we have
    \[
        \int_I (cf) = \underline{\int}_I (cf) = \overline{\int}_I (cf) = c\bigg(\int_I f\bigg).
    \]

    Finally suppose \(c < 0\).
    Then we have
    \begin{align*}
        \int_I (cf) & = \int_I ((-1)(-c)f)              & \text{(by Definition \ref{9.2.1})} \\
                    & = (-1) \bigg(\int_I ((-c)f)\bigg)                                      \\
                    & = (-1)(-c) \bigg(\int_I f\bigg)   & (-c > 0)                           \\
                    & = c \bigg(\int_I f\bigg).
    \end{align*}
    We conclude that \(\forall\ c \in \mathbf{R}\), \(\int_I (cf) = c (\int_I f)\).
\end{proof}

\begin{proof}{(c)}
    We have
    \begin{align*}
        \int_I f - \int_I g & = \int_I f + \int_I (-g) & \text{(by Theorem \ref{11.4.1}(b))} \\
                            & = \int_I (f + (-g))      & \text{(by Theorem \ref{11.4.1}(a))} \\
                            & = \int_I (f - g).        & \text{(by Definition \ref{9.2.1})}
    \end{align*}
\end{proof}

\begin{proof}{(d)}
    Let \(f_U : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which majorizes \(f\).
    \(f_U\) is well-defined since by Definition \ref{11.3.4} \(f\) is a bounded function on a bounded interval \(I\).
    Then by Definition \ref{11.3.2} we have
    \[
        \overline{\int}_I f \leq p.c. \int_I f_U.
    \]
    Since \(\forall\ x \in I\), \(0 \leq f(x) \leq f_U(x)\), we have
    \begin{align*}
                 & 0 \leq p.c. \int_I f_U     & \text{(by Theorem \ref{11.2.16}(d))} \\
        \implies & 0 \leq \overline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & 0 \leq \int_I f.           & \text{(by Definition \ref{11.3.4})}
    \end{align*}
\end{proof}

\begin{proof}{(e)}
    We have \(\forall\ x \in I\), \(f(x) - g(x) \geq 0\) and by Theorem \ref{11.4.1}(c) \(f - g\) is Riemann integrable.
    Thus
    \begin{align*}
                 & \int_I (f - g) \geq 0      & \text{(by Theorem \ref{11.4.1}(d))} \\
        \implies & \int_I f - \int_I g \geq 0 & \text{(by Theorem \ref{11.4.1}(c))} \\
        \implies & \int_I f \geq \int_I g.
    \end{align*}
\end{proof}

\begin{proof}{(f)}
    We have
    \begin{align*}
        \int_I f & = p.c. \int_I f & \text{(by Lemma \ref{11.3.7})}       \\
                 & = c \abs*{I}.   & \text{(by Theorem \ref{11.2.16}(f))}
    \end{align*}
\end{proof}

\begin{proof}{(g)}
    Let \(f_U : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which majorizes \(f\).
    Let \(f_L : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which minorizes \(f\).
    \(f_U, f_L\) are well-defined since by Definition \ref{11.3.4} \(f\) is a bounded function on a bounded interval \(I\).
    Then by Definition \ref{11.3.2} we have
    \[
        p.c. \int_I f_L \leq \underline{\int}_I f = \int_I f = \overline{\int}_I f \leq p.c. \int_I f_U.
    \]
    Let \(F_U : J \to \mathbf{R}\) be the function
    \[
        F_U(x) = \begin{cases}
            f_U(x) & \text{if } x \in I    \\
            0      & \text{if } x \notin I
        \end{cases}
    \]
    and let \(F_L : J \to \mathbf{R}\) be the function
    \[
        F_L(x) = \begin{cases}
            f_L(x) & \text{if } x \in I     \\
            0      & \text{if } x \notin I.
        \end{cases}
    \]
    We know that \(F_U\) majorizes \(F\) and \(F_L\) minorizes \(F\), and by Theorem \ref{11.2.16}(g) we have \(p.c. \int_J F_U = p.c. \int_I f_U\) and \(p.c. \int_J F_L = p.c. \int_I f_L\).
    Thus \(F\) is a bounded function on a bounded interval \(I\), and we have
    \begin{align*}
                 & \overline{\int}_J F \leq p.c. \int_J F_U     & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_J F \leq p.c. \int_I f_U     & \text{(by Theorem \ref{11.2.16}(g))} \\
        \implies & \overline{\int}_J F \leq \overline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_J F \leq \int_I f            & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    and
    \begin{align*}
                 & \underline{\int}_J F \geq p.c. \int_J F_L      & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_J F \geq p.c. \int_I f_L      & \text{(by Theorem \ref{11.2.16}(g))} \\
        \implies & \underline{\int}_J F \geq \underline{\int}_I f & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_J F \geq \int_I f.            & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    By Lemma \ref{11.3.3} we have
    \[
        \int_I f \leq \underline{\int}_J F \leq \overline{\int}_J F \leq \int_I f
    \]
    and thus by Definition \ref{11.3.4} we have
    \[
        \int_J F = \underline{\int}_J F = \overline{\int}_J F = \int_I f.
    \]
\end{proof}

\begin{proof}
    Let \(f_U : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which majorizes \(f\).
    Let \(f_L : I \to \mathbf{R}\) be a piecewise constant function on \(I\) which minorizes \(f\).
    \(f_U, f_L\) are well-defined since by Definition \ref{11.3.4} \(f\) is a bounded function on a bounded interval \(I\).
    Then by Definition \ref{11.3.2} we have
    \[
        p.c. \int_I f_L \leq \underline{\int}_I f = \int_I f = \overline{\int}_I f \leq p.c. \int_I f_U.
    \]
    By Theorem \ref{11.2.16}(h) we know that \(f_U|_J : J \to \mathbf{R}\), \(f_L|_J : J \to \mathbf{R}\) are piecewise constant function on \(J\) and \(f_U|_K : K \to \mathbf{R}\), \(f_L|_K : K \to \mathbf{R}\) are piecewise constant functions on \(K\).
    We also have \(f_U|_J\) majorizes \(f|_J\) and \(f_L|_J\) minorizes \(f|_J\), similarly \(f_U|_K\) majorizes \(f|_K\) and \(f_L|_K\) minorizes \(f|_K\).
    Thus \(f|_J\), \(f|_K\) are bounded functions on bounded intervals \(J, K\) respectively, and \(\overline{\int}_J f|_J\), \(\overline{\int}_K f|_K\), \(\underline{\int}_J f|_J\), \(\underline{\int}_K f|_K\) are well-defined.
    Now we have
    \begin{align*}
                 & \overline{\int}_J f|_J + \overline{\int}_K f|_K \leq p.c. \int_J f_U|_J + p.c. \int_K f_U|_K & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_J f|_J + \overline{\int}_K f|_K \leq p.c. \int_I f_U                         & \text{(by Theorem \ref{11.2.16}(h))} \\
        \implies & \overline{\int}_J f|_J + \overline{\int}_K f|_K \leq \overline{\int}_I f                     & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \overline{\int}_J f|_J + \overline{\int}_K f|_K \leq \int_I f                                & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    and
    \begin{align*}
                 & \underline{\int}_J f|_J + \underline{\int}_K f|_K \geq p.c. \int_J f_L|_J + p.c. \int_K f_L|_K & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_J f|_J + \underline{\int}_K f|_K \geq p.c. \int_I f_L                         & \text{(by Theorem \ref{11.2.16}(h))} \\
        \implies & \underline{\int}_J f|_J + \underline{\int}_K f|_K \geq \underline{\int}_I f                    & \text{(by Definition \ref{11.3.2})}  \\
        \implies & \underline{\int}_J f|_J + \underline{\int}_K f|_K \geq \int_I f.                               & \text{(by Definition \ref{11.3.4})}
    \end{align*}
    By Lemma \ref{11.3.3} we have
    \[
        \int_I f \leq \underline{\int}_J f|_J + \underline{\int}_K f|_K \leq \overline{\int}_J f|_J + \overline{\int}_K f|_K \leq \int_I f
    \]
    and thus by Definition \ref{11.3.4} we have
    \[
        \int_J f|_J + \int_K f|_K = \underline{\int}_J f|_J + \underline{\int}_K f|_K = \overline{\int}_J F + \overline{\int}_J F = \int_I f.
    \]
\end{proof}

\begin{remark}\label{11.4.2}
    We often abbreviate \(\int_J f|_J\) as \(\int_J f\) even though \(f\) is really defined on a larger domain than just \(J\).
    We also observe from Theorem \ref{11.4.1}(h) and Remark \ref{11.3.8} that if \(f : [a, b] \to \mathbf{R}\) is Riemann integrable on a closed interval \([a, b]\), then \(\int_{[a, b]} f = \int_{(a, b]} f = \int_{[a, b)} f = \int_{(a, b)} f\).
\end{remark}

\begin{theorem}[Max and min preserve integrability]\label{11.4.3}
    Let \(I\) be a bounded interval, and let \(f : I \to \mathbf{R}\) and \(g : I \to \mathbf{R}\) be a Riemann integrable function.
    Then the functions \(\max(f, g) : I \to \mathbf{R}\) and \(\min(f, g) : I \to \mathbf{R}\) defined by \(\max(f, g)(x) \coloneqq \max(f (x), g(x))\) and \(\min(f, g)(x) \coloneqq \min(f (x), g(x))\) are also Riemann integrable.
\end{theorem}

\begin{proof}
    We shall just prove the claim for \(\max(f, g)\), the case of \(\min(f, g)\) being similar.
    First note that since \(f\) and \(g\) are bounded, then \(\max(f, g)\) is also bounded.

    Let \(\varepsilon > 0\).
    Since \(\int_I f = \underline{\int}_I f\), there exists a piecewise constant function \(\underline{f} : I \to \mathbf{R}\) which minorizes \(f\) on \(I\) such that
    \[
        \int_I \underline{f} \geq \int_I f - \varepsilon.
    \]
    Similarly we can find a piecewise constant \(g : I \to \mathbf{R}\) which minorizes \(g\) on \(I\) such that
    \[
        \int_I \underline{g} \geq \int_I g - \varepsilon,
    \]
    and we can find piecewise functions \(\overline{f}, \overline{g}\) which majorize \(f, g\) respectively on \(I\) such that
    \[
        \int_I \overline{f} \leq \int_I f + \varepsilon
    \]
    and
    \[
        \int_I \overline{g} \leq \int_I g + \varepsilon.
    \]
    In particular, if \(h : I \to \mathbf{R}\) denotes the function
    \[
        h \coloneqq (\overline{f} - \underline{f}) + (\overline{g} - \underline{g})
    \]
    we have
    \[
        \int_I h \leq 4 \varepsilon.
    \]
    On the other hand, \(\max(\underline{f}, \underline{g})\) is a piecewise constant function on \(I\) which minorizes \(\max(f, g)\), while \(\max(\overline{f}, \overline{g})\) is similarly a piecewise constant function on \(I\) which majorizes \(\max(f, g)\).
    Thus
    \[
        \int_I \max(\underline{f}, \underline{g}) \leq \underline{\int}_I \max(f, g) \leq \overline{\int}_I \max(f, g) \leq \int_I \max(\overline{f}, \overline{g}),
    \]
    and so
    \[
        0 \leq \overline{\int}_I \max(f, g) - \underline{\int}_I \max(f, g) \leq \int_I \max(\overline{f}, \overline{g}) - \max(\underline{f}, \underline{g}).
    \]
    But we have
    \[
        \overline{f}(x) = \underline{f}(x) + (\overline{f} - \underline{f})(x) \leq \underline{f}(x) + h(x)
    \]
    and similarly
    \[
        \overline{g}(x) = \underline{g}(x) + (\overline{g} - \underline{g})(x) \leq \underline{g}(x) + h(x)
    \]
    and thus
    \[
        \max(\overline{f}(x), \overline{g}(x)) \leq \max(\underline{f}(x), \underline{g}(x)) + h(x).
    \]
    Inserting this into the previous inequality, we obtain
    \[
        0 \leq \overline{\int}_I \max(f, g) - \underline{\int}_I \max(f, g) \leq \int_I h \leq 4 \varepsilon.
    \]
    To summarize, we have shown that
    \[
        0 \leq \overline{\int}_I \max(f, g) - \underline{\int}_I \max(f, g) \leq 4 \varepsilon
    \]
    for every \(\varepsilon\).
    Since \(\overline{\int}_I \max(f, g) - \underline{\int}_I \max(f, g)\) does not depend on \(\varepsilon\), we thus see that
    \[
        \overline{\int}_I \max(f, g) - \underline{\int}_I \max(f, g) = 0
    \]
    and hence that \(\max(f, g)\) is Riemann integrable.
\end{proof}