\section{Riemann integrability of monotone functions}\label{sec 11.6}

\begin{proposition}\label{11.6.1}
    Let \([a, b]\) be a closed and bounded interval and let \(f : [a, b] \to \mathbf{R}\) be a monotone function.
    Then \(f\) is Riemann integrable on \([a, b]\).
\end{proposition}

\begin{proof}
    Without loss of generality we may take \(f\) to be monotone increasing (instead of monotone decreasing).
    From Exercise \ref{ex 9.8.1} we know that \(f\) is bounded.
    Now let \(N > 0\) be an integer, and partition \([a, b]\) into \(N\) half-open intervals \(\{[a + \frac{b - a}{N} j, a + \frac{b - a}{N} (j + 1)) : 0 \leq j \leq N - 1\}\) of length \((b - a) / N\), together with the point \(\{b\}\).
    Then by Proposition \ref{11.3.12} we have
    \[
        \overline{\int}_I f \leq \sum_{j = 0}^{N - 1} \Bigg(\sup_{x \in [a + \frac{b - a}{N} j, a + \frac{b - a}{N} (j + 1))} f(x)\Bigg) \frac{b - a}{N},
    \]
    (the point \(\{b\}\) clearly giving only a zero contribution).
    Since \(f\) is monotone increasing, we thus have
    \[
        \overline{\int}_I f \leq \sum_{j = 0}^{N - 1} f\bigg(a + \frac{b - a}{N} (j + 1)\bigg) \frac{b - a}{N}.
    \]
    Similarly we have
    \[
        \underline{\int}_I f \geq \sum_{j = 0}^{N - 1} f\bigg(a + \frac{b - a}{N} j\bigg) \frac{b - a}{N}.
    \]
    Thus we have
    \[
        \overline{\int}_I f - \underline{\int}_I f \leq \sum_{j = 0}^{N - 1} \Bigg(f\bigg(a + \frac{b - a}{N} (j + 1)\bigg) - f\bigg(a + \frac{b - a}{N} j\bigg)\Bigg) \frac{b - a}{N}.
    \]
    Using telescoping series (Lemma \ref{7.2.15}) we thus have
    \begin{align*}
        \overline{\int}_I f - \underline{\int}_I f & \leq \Bigg(f\bigg(a + \frac{b - a}{N} N\bigg) - f\bigg(a + \frac{b - a}{N} 0\bigg)\Bigg) \frac{b - a}{N} \\
                                                   & = (f(b) - f(a)) \frac{b - a}{N}.
    \end{align*}
    But \(N\) was arbitrary, so we can conclude as in the proof of Theorem \ref{11.5.1} that \(f\) is Riemann integrable.
\end{proof}

\begin{remark}\label{11.6.2}
    From Exercise \ref{ex 9.8.5} we know that there exist monotone functions which are not piecewise continuous, so Proposition \ref{11.6.1} is not subsumed by Proposition \ref{11.5.6}.
\end{remark}

\begin{corollary}\label{11.6.3}
    Let \(I\) be a bounded interval, and let \(f : I \to \mathbf{R}\) be both monotone and bounded.
    Then \(f\) is Riemann integrable on \(I\).
\end{corollary}

\begin{proof}
    If \(I\) is a point or an empty set then the claim is trivial;
    if \(I\) is a closed interval the claim follows from Proposition \ref{11.6.1}.
    So let us assume that \(I\) is of the form \((a, b]\), \((a, b)\), or \([a, b)\) for some \(a < b\).

    We have a bound \(M\) for \(f\), so that \(-M \leq f(x) \leq M\) for all \(x \in I\).
    Now let \(0 < \varepsilon < (b - a) / 2\) be a small number.
    The function \(f\) when restricted to the interval \([a + \varepsilon, b - \varepsilon]\) is monotone, and hence Riemann integrable by Proposition \ref{11.6.1}.
    In particular, we can find a piecewise constant function \(h : [a + \varepsilon, b - \varepsilon] \to \mathbf{R}\) which majorizes \(f\) on \([a + \varepsilon, b - \varepsilon]\) such that
    \[
        \int_{[a + \varepsilon, b - \varepsilon]} h \leq \int_{[a + \varepsilon, b - \varepsilon]} f + \varepsilon.
    \]
    Define \(\tilde{h} : I \to \mathbf{R}\) by
    \[
        \tilde{h}(x) \coloneqq \begin{cases}
            h(x) & \text{if } x \in [a + \varepsilon, b - \varepsilon]             \\
            M    & \text{if } x \in I \setminus [a + \varepsilon, b - \varepsilon]
        \end{cases}
    \]
    Clearly \(\tilde{h}\) is piecewise constant on \(I\) and majorizes \(f\);
    by Theorem \ref{11.2.16} we have
    \[
        \int_I \tilde{h} = \varepsilon M + \int_{[a + \varepsilon, b - \varepsilon]} h + \varepsilon M \leq \int_{[a + \varepsilon, b - \varepsilon]} f + (2M + 1) \varepsilon.
    \]
    In particular we have
    \[
        \overline{\int}_I f \leq \int_{[a + \varepsilon, b - \varepsilon]} f + (2M + 1) \varepsilon
    \]
    (since \(\overline{\int}_{I \cap [a, a + \varepsilon]} f \leq M \varepsilon\) and \(\overline{\int}_{I \cap [b, b - \varepsilon]} f \leq M \varepsilon\)).
    A similar argument gives
    \[
        \underline{\int}_I f \geq \int_{[a + \varepsilon, b - \varepsilon]} f - (2M + 1) \varepsilon.
    \]
    and hence
    \[
        \overline{\int}_I f - \underline{\int}_I f \leq (4M + 2) \varepsilon.
    \]
    But \(\varepsilon\) is arbitrary, and so we can argue as in the proof of Theorem \ref{11.5.1} to conclude Riemann integrability.
\end{proof}