\section{The Riemann-Stieltjes integral}\label{sec 11.8}

\begin{definition}[\(\alpha\)-length]\label{11.8.1}
    Let \(I\) be a bounded interval, and let \(\alpha : X \to \mathbf{R}\) be a monotone increasing function defined on some interval \(X\) which contains \(I\).
    Then we define the \emph{\(\alpha\)-length} \(\alpha[I]\) of \(I\) as follows.
    If \(I\) is the empty set, we set \(\alpha[I] = 0\).
    If \(I\) is a point of the form \(\{a\}\) a point for some real number \(a\), we set
    \[
        \alpha[\{\alpha\}] \coloneqq \lim_{x \to a^+ ; x \in X} \alpha(x) - \lim_{x \to a^- ; x \in X} \alpha(x),
    \]
    with the convention that \(\lim_{x \to a^+ ; x \in X} \alpha(x)\) (resp. \(\lim_{x \to a^- ; x \in X} \alpha(x)\)) is \(\alpha(a)\) when \(a\) is the right (resp. left) endpoint of \(X\).
    If \(I\) is an interval of the form \((a, b)\) for some real numbers \(b > a\), set
    \[
        \alpha[(a, b)] \coloneqq \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x).
    \]
    If \(I\) is an interval of the form \([a, b)\), \((a, b]\), or \([a, b]\) for some real numbers \(b > a\), then we set
    \[
        \alpha[I] = \begin{cases}
            \alpha(\{a\}) + \alpha((a, b)) & \text{if } I = [a, b) \\
            \alpha((a, b)) + \alpha(\{b\}) & \text{if } I = (a, b] \\
            \alpha(\{a\}) + \alpha((a, b)) + \alpha(\{b\}) & \text{if } I = [a, b]
        \end{cases}
    \]
\end{definition}

\begin{note}
    In the special case when \(\alpha\) is continuous, the definition of \(\alpha[I]\) where \(I\) is of the form \((a, b)\), \([a, b)\), \((a, b]\), or \([a, b]\) simplifies to \(\alpha[I] = \alpha(b) - \alpha(a)\).
\end{note}

\begin{note}
    We sometimes write \(\alpha\big|_a^b\) or \(\alpha(x)\big|_{x = a}^{x = b}\) instead of \(\alpha[[a, b]]\).
\end{note}

\setcounter{theorem}{3}
\begin{lemma}\label{11.8.4}
    Let \(I\) be a bounded interval, let \(\alpha : X \to \mathbf{R}\) be a monotone increasing function defined on some interval \(X\) which contains \(I\), and let \(\mathbf{P}\) be a partition of \(I\).
    Then we have
    \[
        \alpha[I] = \sum_{J \in \mathbf{P}} \alpha[J].
    \]
\end{lemma}

\begin{proof}
    We prove this by induction on \(n\).
    More precisely, we let \(P(n)\) be the property that whenever \(I\) is a bounded interval, and whenever \(\mathbf{P}\) is a partition of \(I\) with cardinality \(n\), that \(\alpha[I] = \sum_{J \in \mathbf{P}} \alpha[J]\).

    The base case \(P(0)\) is trivial;
    the only way that \(I\) can be partitioned into an empty partition is if \(I\) is itself empty, so by Definition \ref{11.8.1} \(\alpha[I] = 0\).
    The case \(P(1)\) is also very easy;
    the only way that \(I\) can be partitioned into a singleton set \(\{J\}\) is if \(J = I\), at which point the claim is again very easy.

    Now suppose inductively that \(P(n)\) is true for some \(n \geq 1\), and now we prove \(P(n + 1)\).
    Let \(I\) be a bounded interval, and let \(\mathbf{P}\) be a partition of \(I\) of cardinality \(n + 1\).

    If \(I\) is the empty set or a point, then all the intervals in \(\mathbf{P}\) must also be either the empty set or a point, and by Definition \ref{11.8.1} every interval either has \(\alpha\)-length zero or
    \[
        \alpha[\{a\}] = \lim_{x \to a^+ ; x \in X} \alpha(x) - \lim_{x \to a^- ; x \in X} \alpha(x),
    \]
    and the claim is trivial.
    Thus we will assume that \(I\) is an interval of the form \((a, b)\), \((a, b]\), \([a, b)\), or \([a, b]\).

            Let us first suppose that \(b \in I\), i.e., \(I\) is either \((a, b]\) or \([a, b]\).
    Since \(b \in I\), we know that one of the intervals \(K\) in \(\mathbf{P}\) contains \(b\).
    Since \(K\) is contained in \(I\), it must therefore be of the form \((c, b]\), \([c, b]\), or \(\{b\}\) for some real number \(c\), with \(a \leq c \leq b\) (in the latter case of \(K = \{b\}\), we set \(c \coloneqq b\)).
    In particular, this means that the set \(I \setminus K\) is also an interval of the form \([a, c]\), \((a, c)\), \((a, c]\), \([a, c)\) when \(c > a\), or a point or empty set when \(a = c\).
    Either way, by Definition \ref{11.8.1} we see that
    \begin{align*}
        \alpha[I] & = \alpha[(a, b)] + \alpha(\{b\}) \\
        & = \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) + \alpha(\{b\}) \\
        & = \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to c^+ ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^+ ; x \in X} \alpha(x) - \lim_{x \to c^- ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) + \alpha(\{b\}) \\
        & = \alpha[(c, b)] + \alpha[\{c\}] + \alpha[(a, c)] + \alpha(\{b\}) \\
        & = \alpha[(a, c)] + \alpha[[c, b]] \\
        & = \alpha[K] + \alpha[I \setminus K]
    \end{align*}
    when \(I = (a, b]\) and
    \begin{align*}
        \alpha[I] & = \alpha(\{a\}) + \alpha[(a, b)] + \alpha(\{b\}) \\
        & = \alpha(\{a\}) + \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) + \alpha(\{b\}) \\
        & = \alpha(\{a\}) + \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to c^+ ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^+ ; x \in X} \alpha(x) - \lim_{x \to c^- ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) + \alpha(\{b\}) \\
        & = \alpha(\{a\}) + \alpha[(c, b)] + \alpha[\{c\}] + \alpha[(a, c)] + \alpha(\{b\}) \\
        & = \alpha[[a, c)] + \alpha[[c, b]] \\
        & = \alpha[K] + \alpha[I \setminus K].
    \end{align*}
    when \(I = [a, b]\).
    On the other hand, since \(\mathbf{P}\) forms a partition of \(I\), we see that \(\mathbf{P} \setminus \{K\}\) forms a partition of \(I \setminus K\).
    By the induction hypothesis, we thus have
    \[
        \alpha[I \setminus K] = \sum_{J \in \mathbf{P} \setminus \{K\}} \alpha[J].
    \]
    Combining these two identities (and using the laws of addition for finite sets, see Proposition \ref{7.1.11}(e)) we obtain
    \[
        \alpha[I] = \sum_{J \in \mathbf{P}} \alpha[J]
    \]
    as desired.

    Now suppose that \(b \notin I\), i.e., \(I\) is either \((a, b)\) or \([a, b)\).
    Then one of the intervals \(K\) also is of the form \((c, b)\) or \([c, b)\) (see Exercise \ref{ex 11.1.3}).
    In particular, this means that the set \(I \setminus K\) is also an interval of the form \([a, c]\), \((a, c)\), \((a, c]\), \([a, c)\) when \(c > a\), or a point or empty set when \(a = c\).
    By Definition \ref{11.8.1} we see that
    \begin{align*}
        \alpha[I] & = \alpha[(a, b)] \\
        & = \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) \\
        & = \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to c^+ ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^+ ; x \in X} \alpha(x) - \lim_{x \to c^- ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) \\
        & = \alpha[(c, b)] + \alpha[\{c\}] + \alpha[(a, c)] \\
        & = \alpha[(a, c)] + \alpha[[c, b)] \\
        & = \alpha[K] + \alpha[I \setminus K]
    \end{align*}
    when \(I = (a, b)\) and
    \begin{align*}
        \alpha[I] & = \alpha(\{a\}) + \alpha[(a, b)] \\
        & = \alpha(\{a\}) + \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) \\
        & = \alpha(\{a\}) + \lim_{x \to b^- ; x \in X} \alpha(x) - \lim_{x \to c^+ ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^+ ; x \in X} \alpha(x) - \lim_{x \to c^- ; x \in X} \alpha(x) \\
        & + \lim_{x \to c^- ; x \in X} \alpha(x) - \lim_{x \to a^+ ; x \in X} \alpha(x) \\
        & = \alpha(\{a\}) + \alpha[(c, b)] + \alpha[\{c\}] + \alpha[(a, c)] \\
        & = \alpha[[a, c)] + \alpha[[c, b)] \\
        & = \alpha[K] + \alpha[I \setminus K].
    \end{align*}
    when \(I = [a, b)\).
    The rest of the argument then proceeds as above.
\end{proof}

\begin{definition}[piecewise constant Riemann-Stieltjes integral]\label{11.8.5}
    Let \(I\) be a bounded interval, and let \(\mathbf{P}\) be a partition of \(I\).
    Let \(\alpha : X \to \mathbf{R}\) be a monotone increasing function defined on some interval \(X\) which contains \(I\), and let \(f : I \to \mathbf{R}\) be a function which is piecewise constant with respect to \(\mathbf{P}\).
    Then we define
    \[
        p.c. \int_{[\mathbf{P}]} f \, d\alpha \coloneqq \sum_{J \in \mathbf{P}} c_J \alpha[J]
    \]
    where \(c_J\) is the constant value of \(f\) on \(J\).
\end{definition}