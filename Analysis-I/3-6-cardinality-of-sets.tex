\section{Cardinality of sets}\label{sec 3.6}

\begin{definition}[Equal cardinality]\label{3.6.1}
    We say that two sets \(X\) and \(Y\) have \emph{equal cardinality} iff there exists a bijection \(f : X \to Y\) from \(X\) to \(Y\).
\end{definition}

\setcounter{theorem}{2}
\begin{remark}\label{3.6.3}
    The fact that two sets have equal cardinality does not preclude one of the sets from containing the other.
    For instance, if \(X\) is the set of natural numbers and \(Y\) is the set of even natural numbers, then the map \(f : X \to Y\) defined by \(f(n) \coloneqq 2n\) is a bijection from \(X\) to \(Y\), and so \(X\) and \(Y\) have equal cardinality, despite \(Y\) being a subset of \(X\) and seeming intuitively as if it should only have ``half'' of the elements of \(X\).
\end{remark}

\begin{proposition}\label{3.6.4}
    Let \(X\), \(Y\), \(Z\) be sets.
    Then \(X\) has equal cardinality with \(X\).
    If \(X\) has equal cardinality with \(Y\), then \(Y\) has equal cardinality with \(X\).
    If \(X\) has equal cardinality with \(Y\) and \(Y\) has equal cardinality with \(Z\), then \(X\) has equal cardinality with \(Z\).
\end{proposition}

\begin{proof}
    We first show that Definition \ref{3.6.1} is reflexive.
    Suppose that \(X\) is a set.
    Let \(f : X \to X\) be a function where \(f = x \mapsto x\).
    By Axiom \ref{3.6} \(f\) is well-defined.
    Such \(f\) is injective since \(\forall\ x, x' \in X\), \(f(x) = f(x') \implies x = x'\), and \(f\) is also surjective since \(\forall\ x \in X\), \(\exists\ x \in X\) such that \(f(x) = x\).
    Thus \(f\) is bijective, and by Definition \ref{3.6.1} \(X\) has equal cardinality with \(X\).

    Next we show that Definition \ref{3.6.1} is symmetric.
    Suppose that \(X, Y\) are sets such that \(X\) has equal cardinality with \(Y\).
    Then by Definition \ref{3.6.1} there exists a function \(f : X \to Y\) such that \(f\) is bijective.
    Since \(f\) is bijective, by Exercise \ref{ex 3.3.6} \(f^{-1} : Y \to X\) is also bijective.
    Thus by Definition \ref{3.6.1} \(Y\) has equal cardinality with \(X\).

    Finally we show that Definition \ref{3.6.1} is transitive.
    Suppose that \(X, Y, Z\) are sets such that \(X\) has equal cardinality with \(Y\) and \(Y\) has equal cardinality with \(Z\).
    Then by Definition \ref{3.6.1} there exist two functions \(f : X \to Y\) and \(g : Y \to Z\) such that \(f\) and \(g\) are bijective.
    Since \(f\) and \(g\) are bijective, by Exercise \ref{ex 3.3.7} \(g \circ f : X \to Z\) is also bijective.
    Thus by Definition \ref{3.6.1} \(X\) has equal cardinality with \(Z\).
\end{proof}

\begin{definition}\label{3.6.5}
    Let \(n\) be a natural number.
    A set \(X\) is said to have \emph{cardinality} \(n\), iff it has equal cardinality with \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\).
    We also say that \(X\) \emph{has \(n\) elements} iff it has cardinality \(n\).
\end{definition}

\begin{remark}\label{3.6.6}
    One can use the set \(\{i \in \mathbf{N} : i < n\}\) instead of \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\), since these two sets clearly have equal cardinality.
\end{remark}

\setcounter{theorem}{7}
\begin{proposition}[Uniqueness of cardinality]\label{3.6.8}
    Let \(X\) be a set with some cardinality \(n\).
    Then \(X\) cannot have any other cardinality, i.e., \(X\) cannot have cardinality \(m\) for any \(m \neq n\).
\end{proposition}

\begin{proof}
    We induct on \(n\).
    First suppose that \(n = 0\).
    Then \(X\) must be empty, and so \(X\) cannot have any non-zero cardinality.
    Now suppose that the proposition is already proven for some \(n\);
    we now prove it for \(n++\).
    Let \(X\) have cardinality \(n++\);
    and suppose that \(X\) also has some other cardinality \(m \neq n++\).
    By Lemma \ref{3.6.9}, \(X\) is non-empty, and if \(x\) is any element of \(X\), then \(X \setminus \{x\}\) has cardinality \(n\) and also has cardinality \(p\), where \(p++ = m\), by Lemma \ref{3.6.9}.
    By induction hypothesis, this means that \(n = p\), which implies that \(p++ = m = n++\), a contradiction.
    This closes the induction.
\end{proof}

\begin{lemma}\label{3.6.9}
    Suppose that \(n \geq 1\), and \(X\) has cardinality \(n\).
    Then \(X\) is non-empty, and if \(x\) is any element of \(X\), then the set \(X \setminus \{x\}\) (i.e., \(X\) with the element \(x\) removed) has cardinality \(m\), where \(m++ = n\).
\end{lemma}

\begin{proof}
    If \(X\) is empty then it clearly cannot have the same cardinality as the non-empty set \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\), as there is no bijection from the empty set to a non-empty set.
    Now let \(x\) be an element of \(X\).
    Since \(X\) has the same cardinality as \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\), we thus have a bijection \(f\) from \(X\) to \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\).
    In particular, \(f(x)\) is a natural number between \(1\) and \(n\).
    Now define the function \(g : X \setminus \{x\} \to \{i \in \mathbf{N} : 1 \leq i \leq m\}\) by the following rule: for any \(y \in X \setminus \{x\}\), we define \(g(y) \coloneqq f(y)\) if \(f(y) < f(x)\), and define \(g(y)++ \coloneqq f(y)\) if \(f(y) > f(x)\).
    (Note that \(f(y)\) cannot equal \(f(x)\) since \(y \neq x\) and \(f\) is a bijection.)
    It is easy to check that this map is also a bijection, and so \(X \setminus \{x\}\) has equal cardinality with \(\{i \in \mathbf{N} : 1 \leq i \leq m\}\).
    In particular \(X \setminus \{x\}\) has cardinality \(m\), as desired.
\end{proof}

\begin{definition}[Finite sets]\label{3.6.10}
    A set is \emph{finite} iff it has cardinality \(n\) for some natural number \(n\);
    otherwise, the set is called \emph{infinite}.
    If \(X\) is a finite set, we use \(\#(X)\) to denote the cardinality of \(X\).
\end{definition}

\setcounter{theorem}{11}
\begin{theorem}\label{3.6.12}
    The set of natural numbers \(\mathbf{N}\) is infinite.
\end{theorem}

\begin{proof}
    Suppose for sake of contradiction that the set of natural numbers \(\mathbf{N}\) was finite, so it had some cardinality \(\#(\mathbf{N}) = n\).
    Then there is a bijection \(f\) from \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\) to \(\mathbf{N}\).
    One can show that the sequence \(f(1), f(2), \dots, f(n)\) is bounded, or more precisely that there exists a natural number \(M\) such that \(f(i) \leq M\) for all \(1 \leq i \leq n\) (Exercise \ref{ex 3.6.3}).
    But then the natural number \(M+1\) is not equal to any of the \(f(i)\), contradicting the hypothesis that \(f\) is a bijection.
\end{proof}

\begin{remark}\label{3.6.13}
    One can also use similar arguments to show that any unbounded set is infinite;
    for instance the rationals \(\mathbf{Q}\) and the reals \(\mathbf{R}\) are infinite.
    However, it is possible for some sets to be ``more'' infinite than others.
\end{remark}

\begin{proposition}[Cardinal arithmetic]\label{3.6.14}
    \leavevmode
    \begin{enumerate}
        \item Let \(X\) be a finite set, and let \(x\) be an object which is not an element of \(X\).
              Then \(X \cup \{x\}\) is finite and \(\#(X \cup \{x\}) = \#(X) + 1\).
        \item Let \(X\) and \(Y\) be finite sets.
              Then \(X \cup Y\) is finite and \(\#(X \cup Y) \leq \#(X) + \#(Y)\).
              If in addition \(X\) and \(Y\) are disjoint (i.e., \(X \cap Y = \emptyset\)), then \(\#(X \cup Y) = \#(X) + \#(Y)\).
        \item Let \(X\) be a finite set, and let \(Y\) be a subset of \(X\).
              Then \(Y\) is finite, and \(\#(Y) \leq \#(X)\).
              If in addition \(Y \neq X\) (i.e., \(Y\) is a proper subset of \(X\)), then we have \(\#(Y) < \#(X)\).
        \item If \(X\) is a finite set, and \(f : X \to Y\) is a function, then \(f(X)\) is a finite set with \(\#(f(X)) \leq \#(X)\).
              If in addition \(f\) is one-to-one, then \(\#(f(X)) = \#(X)\).
        \item Let \(X\) and \(Y\) be finite sets.
              Then Cartesian product \(X \times Y\) is finite and \(\#(X \times Y) = \#(X) \times \#(Y)\).
        \item Let \(X\) and \(Y\) be finite sets.
              Then the set \(Y^X\) (defined in Axiom \ref{3.10}) is finite and \(\#(Y^X) = \#(Y)^{\#(X)}\).
    \end{enumerate}
\end{proposition}

\begin{proof}{(a)}
    Suppose that \(X\) is a finite set and \(x \notin X\).
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    By Definition \ref{3.6.5} \(\exists\ f : X \to \{i \in \mathbf{N} : 1 \leq i \leq n\}\) such that \(f\) is bijective.
    Now we define a function \(g : X \cup \{x\} \to \{i \in \mathbf{N} : 1 \leq i \leq n + 1\}\) as follow:
    \[
        g(y) = \begin{cases}
            f(y)  & \text{if } y \in X \\
            n + 1 & \text{otherwise}
        \end{cases}
    \]

    Now we need to show that \(g\) is bijective.
    Since \(f\) is bijective, \(\forall\ i \in \{i \in \mathbf{N} : 1 \leq i \leq n\}, \exists\ y \in X\) such that \(f(y) = i\).
    With that and \(g(x) = n + 1\) we thus have \(g\) is surjective.
    For any \(y, y' \in X \cup \{x\}\), if \(g(y) = g(y')\), then we have two cases:
    \begin{enumerate}[label=(\roman*)]
        \item If \(g(y) \in X\), then \(y = y'\) since \(f\) is bijective.
        \item If \(g(y) = x\), then \(y = y' = x\) by definition of \(g\).
    \end{enumerate}
    For all cases above we have \(g(y) = g(y') \implies y = y'\), thus \(g\) is injective.
    Since \(g\) is bijective, we have \(\#(X \cup \{x\}) = n + 1 = \#(X) + 1\).
\end{proof}

\begin{proof}{(b)}
    Suppose that \(X, Y\) are finite sets.
    If \(X = \emptyset \lor X = Y\), then \(X \cup Y = Y\) is finite.
    Similarly if \(Y = \emptyset \lor Y = X\), then \(X \cup Y = X\) is finite.
    Thus assume that \(X \neq \emptyset \land Y \neq \emptyset\) and \(X, Y\) are distinct.
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    We use induction on \(n\) to show that \(X \cup Y\) is finite and \(\#(X \cup Y) \leq \#(X) + \#(Y)\).
    We start with \(n = 1\) since \(X \neq \emptyset\).
    For \(n = 1\), we have
    \begin{align*}
        \#(X \cup Y) & = \#(Y) + 1         & \text{(by Proposition \ref{3.6.14}(a))} \\
                     & = \#(X) + \#(Y)     & \text{(by Definition \ref{3.6.5})}      \\
                     & \leq \#(X) + \#(Y).
    \end{align*}
    Thus \(X \cup Y\) is finite and the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(x \in X\).
    By Lemma \ref{3.6.9} we have \(\#(X \setminus \{x\}) = n\).
    If \(x \in Y\), then we have
    \begin{align*}
        \#(X \cup Y) & = \#((X \setminus \{x\}) \cup \{x\} \cup Y)   & \text{(by Proposition \ref{3.1.28}(g))} \\
                     & = \#((X \setminus \{x\}) \cup (\{x\} \cup Y)) & \text{(by Proposition \ref{3.1.28}(e))} \\
                     & = \#((X \setminus \{x\}) \cup Y)                                                        \\
                     & \leq \#(X \setminus \{x\}) + \#(Y)            & \text{(by induction hypothesis)}        \\
                     & < \#(X) + \#(Y).
    \end{align*}
    If \(x \notin Y\), then we have
    \begin{align*}
        \#(X \cup Y) & = \#((X \setminus \{x\}) \cup \{x\} \cup Y)  & \text{(by Proposition \ref{3.1.28}(g))}    \\
                     & = \#((X \setminus \{x\}) \cup Y \cup \{x\})  & \text{(by Proposition \ref{3.1.28}(d)(e))} \\
                     & = \#((X \setminus \{x\}) \cup Y) + 1         & \text{(by Proposition \ref{3.6.14}(a))}    \\
                     & \leq \#(X \setminus \{x\}) + \#(Y) + 1       & \text{(by induction hypothesis)}           \\
                     & = \#((X \setminus \{x\}) \cup \{x\}) + \#(Y) & \text{(by Proposition \ref{3.6.14}(a))}    \\
                     & = \#(X) + \#(Y).                             & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    In either cases we have \(\#(X \cup Y) \leq \#(X) + \#(Y)\).
    Thus \(X \cup Y\) is finite and this close the induction.

    Now suppose that \(X, Y\) are finite sets and \(X \cap Y = \emptyset\).
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    From proof above we already know that \(\#(X \cup Y) \leq \#(X) + \#(Y)\).
    We now use induction on \(n\) to show that \(\#(X \cup Y) = \#(X) + \#(Y)\).
    For \(n = 0\), we have
    \begin{align*}
        \#(X \cup Y) & = \#(Y)          & \text{(by Proposition \ref{3.1.28}(a))} \\
                     & = 0 + \#(Y)                                                \\
                     & = \#(X) + \#(Y). & \text{(by Definition \ref{3.6.5})}
    \end{align*}
    Thus the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(x \in X\).
    By Lemma \ref{3.6.9} we have \(\#(X \setminus \{x\}) = n\).
    Since \(X \cap Y = \emptyset\), \(x \notin Y\).
    So we have
    \begin{align*}
        \#(X \cup Y) & = \#((X \setminus \{x\}) \cup \{x\} \cup Y)  & \text{(by Proposition \ref{3.1.28}(g))}    \\
                     & = \#((X \setminus \{x\}) \cup Y \cup \{x\})  & \text{(by Proposition \ref{3.1.28}(d)(e))} \\
                     & = \#((X \setminus \{x\}) \cup Y) + 1         & \text{(by Proposition \ref{3.6.14}(a))}    \\
                     & = \#(X \setminus \{x\}) + \#(Y) + 1          & \text{(by induction hypothesis)}           \\
                     & = \#((X \setminus \{x\}) \cup \{x\}) + \#(Y) & \text{(by Proposition \ref{3.6.14}(a))}    \\
                     & = \#(X) + \#(Y).                             & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    This close the induction.
\end{proof}

\begin{proof}{(c)}
    Suppose that \(X\) is a finite sets.
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    We use induction on \(n\) to show that \(\forall\ Y \subseteq X\), \(Y\) is finite and \(\#(Y) \leq \#(X)\).
    For \(n = 0\), we have
    \begin{align*}
                 & \forall\ Y \subseteq \emptyset                                      \\
        \implies & Y = \emptyset                  & \text{(by Axiom \ref{3.2})}        \\
        \implies & \#(Y) = 0 \leq 0 = \#(X).      & \text{(by Definition \ref{3.6.5})}
    \end{align*}
    Thus the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(Y \subseteq X\).
    If \(Y = X\), then by Proposition \ref{3.6.8} \(\#(Y) = \#(X)\).
    If \(Y \neq X\), then \(\exists\ x \in X \setminus Y\) such that \(Y \subseteq X \setminus \{x\}\) and
    \begin{align*}
        \#(X) & = \#((X \setminus \{x\}) \cup \{x\}) & \text{(by Proposition \ref{3.1.28}(g))} \\
              & = \#(X \setminus \{x\}) + 1          & \text{(by Proposition \ref{3.6.14}(a))} \\
              & \geq \#(Y) + 1                       & \text{(by induction hypothesis)}        \\
              & > \#(Y).
    \end{align*}
    From all cases above we have \(\forall\ Y \subseteq X \implies \#(Y) \leq \#(X)\).
    Thus \(Y\) is finite and this close the induction.

    We now use induction on \(n\) to show that \(\forall\ Y \subseteq X : Y \neq X \implies \#(Y) < \#(X)\).
    We start with \(n = 1\) since for \(n = 0\) we have \(X = \emptyset\) and \(\not\exists\ Y : Y \subseteq X \land Y \neq X\).
    For \(n = 1\), we have
    \begin{align*}
                 & \forall\ Y : Y \subseteq X \land Y \neq X                                      \\
        \implies & Y = \emptyset                             & \text{(by Axiom \ref{3.3})}        \\
        \implies & \#(Y) = 0 < 1 = \#(X).                    & \text{(by Definition \ref{3.6.5})}
    \end{align*}
    Thus the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(Y \subseteq X \land Y \neq X\).
    If \(Y = \emptyset\), then \(\#(Y) = 0 < n++ = \#(X)\).
    If \(Y \neq \emptyset\), then \(\exists\ x \in Y\) such that
    \begin{align*}
                 & \#(Y \setminus \{x\}) < \#(X \setminus \{x\})                           & \text{(by induction hypothesis)}        \\
        \implies & \#(Y \setminus \{x\}) + 1 < \#(X \setminus \{x\}) + 1                                                             \\
        \implies & \#((Y \setminus \{x\}) \cup \{x\}) < \#((X \setminus \{x\}) \cup \{x\}) & \text{(by Proposition \ref{3.6.14}(a))} \\
        \implies & \#(Y) < \#(X).                                                          & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    This close the induction.
\end{proof}

\begin{proof}{(d)}
    Suppose that \(X\) is a finite sets.
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    We use induction on \(n\) to show that for any set \(Y\) and any function \(f : X \to Y\) we have \(\#(f(X)) \leq \#(X)\).
    For \(n = 0\), let \(Y\) be arbitrary set and \(f : X \to Y\) be arbitrary function.
    Then we have
    \begin{align*}
                 & X = \emptyset                                                     \\
        \implies & f(X) = \emptyset             & \text{(by Definition \ref{3.4.1})} \\
        \implies & \#(f(X)) = 0 \leq 0 = \#(X). & \text{(by Definition \ref{3.6.5})}
    \end{align*}
    Thus the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(x \in X\), \(Y\) be arbitrary set and \(f : X \to Y\) be arbitrary function.
    If \(f(X \setminus \{x\}) = f(X)\), then we have
    \begin{align*}
                 & \#(f(X \setminus \{x\})) \leq \#(X \setminus \{x\}) & \text{(by induction hypothesis)}        \\
        \implies & \#(f(X)) \leq \#(X \setminus \{x\})                                                           \\
        \implies & \#(f(X)) < \#(X \setminus \{x\}) + 1                                                          \\
        \implies & \#(f(X)) < \#((X \setminus \{x\}) \cup \{x\})       & \text{(by Proposition \ref{3.6.14}(a))} \\
        \implies & \#(f(X)) < \#(X).                                   & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    If \(f(X \setminus \{x\}) \neq f(X)\), then we have
    \begin{align*}
        \#(f(X)) & = \#(f(X \setminus \{x\}) \cup \{f(x)\}) & \text{(by Exercise \ref{ex 3.4.3})}     \\
                 & = \#(f(X \setminus \{x\})) + 1           & \text{(by Proposition \ref{3.6.14}(a))} \\
                 & \leq \#(X \setminus \{x\}) + 1           & \text{(by induction hypothesis)}        \\
                 & = \#((X \setminus \{x\}) \cup \{x\})     & \text{(by Proposition \ref{3.6.14}(a))} \\
                 & = \#(X).                                 & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    From all cases above we have \(\#(f(X)) \leq \#(X)\).
    This close the induction.

    We now use induction on \(n\) to show that for any set \(Y\) and any one-to-one function \(f : X \to Y\) we have \(\#(f(X)) = \#(X)\).
    For \(n = 0\), let \(Y\) be arbitrary set and \(f : X \to Y\) be arbitrary one-to-one function.
    Then we have
    \begin{align*}
                 & X = \emptyset                                              \\
        \implies & f(X) = \emptyset      & \text{(by Definition \ref{3.4.1})} \\
        \implies & \#(f(X)) = 0 = \#(X). & \text{(by Definition \ref{3.6.5})}
    \end{align*}
    Thus the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(x \in X\), \(Y\) be arbitrary set and \(f : X \to Y\) be arbitrary one-to-one function.
    Since \(f\) is one-to-one, we must have \(f(X \setminus \{x\}) \neq f(X)\) and
    \begin{align*}
        \#(f(X)) & = \#(f(X \setminus \{x\}) \cup \{f(x)\}) & \text{(by Exercise \ref{ex 3.4.3})}     \\
                 & = \#(f(X \setminus \{x\})) + 1           & \text{(by Proposition \ref{3.6.14}(a))} \\
                 & = \#(X \setminus \{x\}) + 1              & \text{(by induction hypothesis)}        \\
                 & = \#((X \setminus \{x\}) \cup \{x\})     & \text{(by Proposition \ref{3.6.14}(a))} \\
                 & = \#(X).                                 & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    This close the induction.
\end{proof}

\begin{proof}{(e)}
    Suppose that \(X, Y\) are finite sets.
    We first show that \(\forall\ x : \#(\{x\} \times Y) = \#(Y)\).
    By Definition \ref{3.6.1}, we only need to find a function \(f : \{x\} \times Y \to Y\) such that \(f\) is bijective.
    We now define \(f : \{x\} \times Y \to Y\) as \(f(x', y) = y\).
    We need to show that \(f\) is bijective.
    We start by showing \(f\) is injective.
    \begin{align*}
                 & \forall\ (x_1, y_1), (x_2, y_2) \in \{x\} \times Y : f(x_1, y_1) = f(x_2, y_2)                                      \\
        \implies & x_1 = x_2 \land y_1 = y_2                                                      & \text{(by Axiom \ref{3.3})}        \\
        \implies & (x_1, y_1) = (x_2, y_2).                                                       & \text{(by Definition \ref{3.5.1})}
    \end{align*}
    Thus \(f\) is injective.
    Now we show that \(f\) is surjective.
    \begin{align*}
                 & \forall\ y \in Y                                                                       \\
        \implies & (x, y) \in \{x\} \times Y                         & \text{(by Definition \ref{3.5.4})} \\
        \implies & \exists\ (x, y) \in \{x\} \times Y : f(x, y) = y.
    \end{align*}
    Thus \(f\) is surjective.
    Since \(f\) is both injective and surjective, \(f\) is bijective and thus by Definition \ref{3.6.1} we have \(\#(\{x\} \times Y) = \#(Y)\).

    Now we show that \(\#(X \times Y) = \#(X) \times \#(Y)\).
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    We use induction on \(n\) to show that \(\#(X \times Y) = \#(X) \times \#(Y)\).
    For \(n = 0\), we have
    \begin{align*}
        \#(X \times Y) & = \#(\emptyset \times Y) & \text{(by Definition \ref{3.6.5})} \\
                       & = \#(\emptyset)          & \text{(by Definition \ref{3.5.4})} \\
                       & = 0                      & \text{(by Definition \ref{3.6.5})} \\
                       & = \#(X) \times \#(Y).
    \end{align*}
    Thus the base case holds.
    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(x \in X\).
    Then we have
    \begin{align*}
        \#(X \times Y) & = \#\bigg(\big((X \setminus \{x\}) \cup \{x\}\big) \times Y\bigg)                                           \\
                       & = \#((X \setminus \{x\}) \times Y \cup \{x\} \times Y)            & \text{(by Exercise \ref{ex 3.5.4})}     \\
                       & = \#((X \setminus \{x\}) \times Y) + \#(\{x\} \times Y)           & \text{(by Proposition \ref{3.6.14}(b))} \\
                       & = \#(X \setminus \{x\}) \times \#(Y) + \#(\{x\} \times Y)         & \text{(by induction hypothesis)}        \\
                       & = \#(X \setminus \{x\}) \times \#(Y) + \#(Y)                      & \text{(from proof above)}               \\
                       & = (\#(X \setminus \{x\}) + 1) \times \#(Y)                                                                  \\
                       & = \#((X \setminus \{x\}) \cup \{x\}) \times \#(Y)                 & \text{(by Proposition \ref{3.6.14}(a))} \\
                       & = \#(X) \times \#(Y).                                             & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    This close the induction.
\end{proof}

\begin{proof}{(f)}
    Suppose that \(X, Y\) are finite sets.
    We first show that \(\forall\ x : \#(Y^{\{x\}}) = \#(Y)\).
    We define a function \(f : Y^{\{x\}} \to Y\) by setting \(\forall\ g \in Y^{\{x\}} : f(g) = g(x)\).
    We now show that \(f\) is bijective.
    We start by showing \(f\) is injective.
    \begin{align*}
                 & \forall\ g, g' \in Y^{\{x\}} : f(g) = f(g')                                      \\
        \implies & g(x) = g'(x)                                                                     \\
        \implies & \forall\ x' \in \{x\} : g(x') = g'(x').     & \text{(by Axiom \ref{3.3})}        \\
        \implies & g = g'.                                     & \text{(by Definition \ref{3.3.7})}
    \end{align*}
    Thus \(f\) is injective.
    Now we show that \(f\) is surjective.
    \begin{align*}
                 & \forall\ y \in Y, \exists\ (g : \{x\} \to Y) : g(x) = y & \text{(by Axiom \ref{3.6})}  \\
        \implies & g \in Y^{\{x\}}.                                        & \text{(by Axiom \ref{3.10})}
    \end{align*}
    Thus \(f\) is surjective.
    Since \(f\) is both injective and surjective, \(f\) is bijective and thus by Definition \ref{3.6.1} we have \(\#(Y^{\{x\}}) = \#(Y)\).

    Now we show that \(\#(Y^X) = \#(Y)^{\#(X)}\).
    By Definition \ref{3.6.10} \(\exists\ n \in \mathbf{N}\) such that \(\#(X) = n\).
    We use induction on \(n\) to show that \(\#(Y^X) = \#(Y)^{\#(X)}\).
    For \(n = 0\), by Definition \ref{3.6.5} we have \(X = \emptyset\) and
    \[
        \forall\ f, f' \in Y^\emptyset, \forall\ x \in \emptyset : f(x) = f'(x).
    \]
    Thus by Axiom \ref{3.3} \(Y^\emptyset\) is a singleton set.
    We can construct a bijection \(g : \{i \in \mathbf{N} : 1 \leq i \leq 1\} \to Y^\emptyset\) and thus by Definition \ref{3.6.5} \(\#(Y^\emptyset) = 1\).
    Again by Definition \ref{3.6.5} we have \(\#(X) = 0\), and thus by Definition \ref{2.3.11} we have \(\#(Y)^0 = 1\).
    So the base case holds.

    Suppose inductively that the statement is true for some \(\#(X) = n\).
    We show that the statement is still true for \(\#(X) = n++\).
    Let \(x \in X\).
    We define a function \(h : Y^X \to Y^{X \setminus \{x\}} \times Y^{\{x\}}\) as follow:
    \[
        \forall\ f \in Y^X : h(f) = \bigg(g : X \setminus \{x\} \to f(X \setminus \{x\}), g' : \{x\} \to f(\{x\})\bigg),
    \]
    where \(\forall\ x' \in X \setminus \{x\} : g(x') = f(x')\).
    We show that such \(h\) is bijective.
    We start by showing \(h\) is injective.
    \begin{align*}
                 & \forall\ f_1, f_2 \in Y^X : h(f_1) = h(f_2)                                                              \\
        \implies & (g_{f_1}, g_{f_1}') = (g_{f_2}, g_{f_2}')                                                                \\
        \implies & g_{f_1} = g_{f_2} \land g_{f_2} = g_{f_2}'                     & \text{(by Definition \ref{3.5.1})}      \\
        \implies & (\forall\ x' \in X \setminus \{x\} : g_{f_1}(x') = g_{f_2}(x') & \text{(by Definition \ref{3.3.7})}      \\
                 & \land (\forall\ x' \in \{x\} : g_{f_1}'(x') = g_{f_2}'(x')                                               \\
        \implies & (\forall\ x' \in X \setminus \{x\} : f_1(x') = f_2(x')                                                   \\
                 & \land (\forall\ x' \in \{x\} : f_1(x') = f_2(x')                                                         \\
        \implies & \forall\ x' \in X : f_1(x') = f_2(x')                          & \text{(by Proposition \ref{3.1.28}(g))} \\
        \implies & f_1 = f_2.                                                     & \text{(by Definition \ref{3.3.7})}
    \end{align*}
    Thus \(h\) is injective.
    Now we show that \(h\) is surjective.
    \(\forall\ (g, g') \in Y^{X \setminus \{x\}} \times Y^{\{x\}}\), we define a function \(k : X \to Y\) as follow:
    \[
        \forall\ x' \in X : k(x') = \begin{cases}
            g(x')  & \text{if } x' \in X \setminus \{x\} \\
            g'(x') & \text{if } x' \in \{x\}
        \end{cases}
    \]
    Then \(k \in Y^X\).
    Thus \(h\) is surjective.
    Since \(h\) is both injective and surjective, \(h\) is bijective, and we have \(\#(Y^X) = \#(Y^{(X \setminus \{x\})} \times Y^{\{x\}})\).
    We now finish our induction as follow:
    \begin{align*}
        \#(Y^X) & = \#(Y^{(X \setminus \{x\})} \times Y^{\{x\}})       & \text{(by proof above)}                 \\
                & = \#(Y^{(X \setminus \{x\})}) \times \#(Y^{\{x\}})   & \text{(by Proposition \ref{3.6.14}(e))} \\
                & = \#(Y)^{\#(X \setminus \{x\})} \times \#(Y^{\{x\}}) & \text{(by induction hypothesis)}        \\
                & = \#(Y)^{\#(X \setminus \{x\})} \times \#(Y)         & \text{(by proof above)}                 \\
                & = \#(Y)^{\#(X \setminus \{x\}) + 1}                  & \text{(by Definition \ref{2.3.11})}     \\
                & = \#(Y)^{\#((X \setminus \{x\}) \cup \{x\})}         & \text{(by Proposition \ref{3.6.14}(a))} \\
                & = \#(Y)^{\#(X)}.                                     & \text{(by Proposition \ref{3.1.28}(g))}
    \end{align*}
    This close the induction.
\end{proof}

\begin{remark}\label{3.6.15}
    Proposition \ref{3.6.14} suggests that there is another way to define the arithmetic operations of natural numbers;
    not defined recursively as in Definitions \ref{2.2.1}, \ref{2.3.1}, \ref{2.3.11}, but instead using the notions of union, Cartesian product, and power set.
    This is the basis of \emph{cardinal arithmetic}, which is an alternative foundation to arithmetic than the Peano arithmetic we have developed here.
\end{remark}

\exercisesection

\begin{exercise}\label{ex 3.6.1}
    Prove Proposition \ref{3.6.4}.
\end{exercise}

\begin{proof}
    See Proposition \ref{3.6.4}.
\end{proof}

\begin{exercise}\label{ex 3.6.2}
    Show that a set \(X\) has cardinality \(0\) if and only if \(X\) is the empty set.
\end{exercise}

\begin{proof}
    \begin{align*}
             & \#(X) = 0                                                                                                                   \\
        \iff & \exists\ f : X \to \{i \in \mathbf{N} : 1 \leq i \leq 0\} \land f \text{ is bijective} & \text{(by Definition \ref{3.6.5})} \\
        \iff & \exists\ f : X \to \emptyset                                                           & \text{(by Axiom \ref{3.2})}        \\
        \iff & X = \emptyset.                                                                         & \text{(by Axiom \ref{3.6})}
    \end{align*}
\end{proof}

\begin{exercise}\label{ex 3.6.3}
    Let \(n\) be a natural number, and let \(f : \{i \in \mathbf{N} : 1 \leq i \leq n\} \to \mathbf{N}\) be a function.
    Show that there exists a natural number \(M\) such that \(f(i) \leq M\) for all \(1 \leq i \leq n\).
    Thus finite subsets of the natural numbers are bounded.
\end{exercise}

\begin{proof}
    Suppose that \(n \in \mathbf{N}\).
    We use induction on \(n\) to show that for any function \(f : \{i \in \mathbf{N} : 1 \leq i \leq n\} \to \mathbf{N}\), \(\exists\ M \in \mathbf{N}\) such that \(f(i) \leq M\).
    For \(n = 0\), for any function \(f : \{i \in \mathbf{N} : 1 \leq i \leq 0\} \to \mathbf{N}\) we have
    \begin{align*}
                 & f : \{i \in \mathbf{N} : 1 \leq i \leq 0\} \to \mathbf{N}                                        \\
        \implies & f : \emptyset \to \mathbf{N}                                       & \text{(by Axiom \ref{3.2})} \\
        \implies & \forall\ M \in \mathbf{N}, \forall\ i \in \emptyset : f(i) \leq M. & \text{(trivially true)}     \\
    \end{align*}
    Thus the base case holds.
    Suppose inductively that for some \(n\) the statement is true.
    Then for \(n++\), for any function \(f : \{i \in \mathbf{N} : 1 \leq i \leq n++\} \to \mathbf{N}\) we have
    \begin{enumerate}
        \item By induction hypothesis, \(\exists\ M \in \mathbf{N}\) such that \(f(\{i \in \mathbf{N} : 1 \leq i \leq n\}) \leq M\).
        \item By Proposition \ref{2.2.13}, exactly one of \(M < f(n++)\), \(M = f(n++)\) or \(M > f(n++)\) is true.
    \end{enumerate}
    If \(f(n++) \leq M\), then we have \(\forall\ i \in \{i \in \mathbf{N} : 1 \leq i \leq n++\} : f(i) \leq M\).
    If \(f(n++) > M\), then we can set \(M' = f(n++)\) and thus \(\forall\ i \in \{i \in \mathbf{N} : 1 \leq i \leq n++\} : f(i) \leq M'\).
    In all cases above we can conclude that \(\exists\ M \in \mathbf{N}\) such that \(\forall\ i \in \{i \in \mathbf{N} : 1 \leq i \leq n++\} : f(i) \leq M\).
    This close the induction.
\end{proof}

\begin{exercise}\label{ex 3.6.4}
    Prove Proposition \ref{3.6.14}.
\end{exercise}

\begin{proof}
    See Proposition \ref{3.6.14}.
\end{proof}

\begin{exercise}\label{ex 3.6.5}
    Let \(A\) and \(B\) be sets.
    Show that \(A \times B\) and \(B \times A\) have equal cardinality by constructing an explicit bijection between the two sets.
    Then use Proposition \ref{3.6.14} to conclude an alternate proof of Lemma \ref{2.3.2}.
\end{exercise}

\begin{proof}
    Suppose that \(A, B\) are sets.
    By Definition \ref{3.5.4} we have \(A \times B, B \times A\) are sets.
    We define a function \(f : A \times B \to B \times A\) by setting \(\forall\ (a, b) \in A \times B : f(a, b) = (b, a)\).
    We now show that such \(f\) is bijective.
    We start by showing \(f\) is injective.
    \begin{align*}
                 & \forall\ (a, b), (a', b') \in A \times B : f(a, b) = f(a', b')                                      \\
        \implies & (b, a) = (b', a')                                                                                   \\
        \implies & b = b' \land a = a'                                            & \text{(by Definition \ref{3.5.1})} \\
        \implies & (a, b) = (a', b').                                             & \text{(by Definition \ref{3.5.1})}
    \end{align*}
    Thus \(f\) is injective.
    Now we show that \(f\) is surjective.
    This is true since
    \[
        \forall\ (b, a) \in B \times A, \exists\ (a, b) \in A \times B : f(a, b) = (b, a).
    \]
    Thus \(f\) is surjective.
    Since \(f\) is both injective and surjective, we conclude that \(f\) is bijective.
    Since \(f\) is bijective, we conclude that \(\#(A \times B) = \#(B \times A)\).

    Now suppose that \(A, B\) are two finite set.
    By Definition \ref{3.6.5}, \(\exists\ n, m \in \mathbf{N}\) such that \(\#(A) = n \land \#(B) = m\).
    Then we have
    \begin{align*}
        \#(A \times B) & = \#(A) \times \#(B) & \text{(by Proposition \ref{3.6.14}(e))} \\
                       & = n \times m                                                   \\
                       & = \#(B \times A)     & \text{(by proof above)}                 \\
                       & = \#(B) \times \#(A) & \text{(by Proposition \ref{3.6.14}(e))} \\
                       & = m \times n.
    \end{align*}
    Thus Lemma \ref{2.3.2} is true.
\end{proof}

\begin{exercise}\label{ex 3.6.6}
    Let \(A, B, C\) be sets.
    Show that the sets \((A^B)^C\) and \(A^{B \times C}\) have equal cardinality by constructing an explicit bijection between the two sets.
    Conclude that \((a^b)^c = a^{bc}\) for any natural numbers \(a, b, c\).
    Use a similar argument to also conclude \(a^b \times a^c = a^{b+c}\).
\end{exercise}

\begin{proof}
    We first prove that \(\#((A^B)^C) = \#(A^{B \times C})\).
    By Axiom \ref{3.10}, \((A^B)^C = \{f \mid f : C \to A^B\}\), \(A^B = \{f \mid f : B \to A\}\) and \(A^{B \times C} = \{f \mid f : B \times C \to A\}\).
    We define a function \(F : (A^B)^C \to A^{B \times C}\) by setting \(F(f)(b, c) = (f(c))(b) \ \forall\ f \in (A^B)^C, b \in B\) and \(c \in C\).
    We want to show that \(F\) is bijective.
    Let \(f, g \in (A^B)^C\) and \(f \neq g\), then \(\forall\ c \in C\), \(f(c) \neq g(c)\), which means there exists \(b \in B\) such that \((f(c))(b) \neq (g(c))(b)\).
    By the above definition, \(F(f)(b, c) = (f(c))(b) \neq (g(c))(b) = F(g)(b, c)\), so \(F(f) \neq F(g)\), and \(F\) is injective.
    \(\forall\ h \in A^{B \times C}\), we can define \(h' \in (A^B)^C\) such that \((h'(c))(b) = h(b, c) \ \forall\ (b \in B) \land (c \in C)\).
    Since such \(h'\) is well-defined and \(F(h') = h\), \(F\) is surjective.
    Thus \(F\) is both injective and surjective, or equivalently \(F\) is bijective, and \(\#(A^{B \times C}) = \#((A^B)^C)\).

    By Proposition \ref{3.6.14}, \(\#((A^B)^C) = \#(A^B)^{\#(C)} = (\#(A)^{\#(B)})^{\#(C)}\).
    Also by Proposition \ref{3.6.14}, \(\#(A^{B \times C}) = \#(A)^{\#(B \times C)} = \#(A)^{(\#(B) \times \#(C))}\).
    From previous prove that \(\#(A^{B \times C}) = \#((A^B)^C)\) and \(\#(A), \#(B), \#(C) \in \mathbf{N}\), we conclude that \((\#(A)^{\#(B)})^{\#(C)} = \#(A)^{(\#(B) \times \#(C))}\).

    Now we prove that \(\#(A^B \times A^C) = \#(A^{B \cup C})\).
    We define a function \(F : A^{B \cup C} \to A^B \times A^C\) by setting \(F(f) = (g, h)\) if \(f(b) = g(b)\) and \(f(c) = h(c)\), \(\forall\ f \in A^{B \cup C}, (g, h) \in A^B \times A^C, b \in B\) and \(c \in C\).
    We want to show that \(F\) is bijective.
    If \(f, f' \in A^{B \cup C}\) and \(F(f) = F(f') = (g, h) \in A^B \times A^C\), then \(\forall\ b \in B, c \in C\), \(f(b) = g(b) = f'(b)\) and \(f(c) = h(c) = f'(c)\), which means \(f = f'\), so \(F\) is injective.
    \(\forall\ (p, q) \in A^B \times A^C\), we can define a function \(r \in A^{B \cup C}\) such that \(r(b) = p(b)\) and \(r(c) = q(c)\), \(\forall\ (b \in B) \land (c \in C)\).
    Since such function \(r\) is well-defined and \(F(r) = (p, q)\), \(F\) is surjective.
    Thus \(F\) is both injective and surjective, or equivalently \(F\) is bijective, and \(\#(A^B \times A^C) = \#(A^{B \cup C})\).

    By Proposition \ref{3.6.14}, \(\#(A^B \times A^C) = \#(A^B) \times \#(A^C) = \#(A)^{\#(B)} \times \#(A)^{\#(C)}\).
    Also by Proposition \ref{3.6.14}, \(\#(A^{B \cup C}) = \#(A)^{\#(B \cup C)} = \#(A)^{(\#(B) + \#(C))}\).
    From previous prove that \(\#(A^B \times A^C) = \#(A^{B \cup C})\) and \(\#(A), \#(B), \#(C) \in \mathbf{N}\), we conclude that \(\#(A)^{\#(B)} \times \#(A)^{\#(C)} = \#(A)^{(\#(B) + \#(C))}\).
\end{proof}

\begin{exercise}\label{ex 3.6.7}
    Let \(A\) and \(B\) be sets.
    Let us say that \(A\) has \emph{lesser or equal} cardinality to \(B\) if there exists an injection \(f : A \to B\) from \(A\) to \(B\).
    Show that if \(A\) and \(B\) are finite sets, then \(A\) has lesser or equal cardinality to \(B\) if and only if \(\#(A) \leq \#(B)\).
\end{exercise}

\begin{proof}
    We first prove the necessary condition.
    Let \(f : A \to B\) be a injective function.
    By Proposition \ref{3.6.14}, \(\#(A) = \#(f(A))\).
    Also by Proposition \ref{3.6.14}, \(f(A) \subseteq B \implies \#(f(A)) \leq \#(B)\).
    So \(\#(A) = \#(f(A)) \leq \#(B)\).

    Now we prove the sufficient condition.
    Because \(\#(A) \leq \#(B)\), either \(\#(A) = \#(B)\) or \(\#(A) < \#(B)\) is true.
    If \(\#(A) = \#(B)\), then \(\exists\ f \in B^A\) such that \(f\) is bijective, so \(f\) is injective.
    If \(\#(A) < \#(B)\), then \(\forall\ f \in B^A\), \(f\) is not bijective.
    Since \(f\) is not bijective, \(f\) is not injective or not surjective, and we choose \(f\) is not surjective.
    So we can define  \(f : A \to B\) by setting \(x = x'\) if \(f(x) = f(x') \ \forall\ x, x' \in A\).
    We can also set that \(\exists\ y \in B\) such that \(\forall\ x \in A\), \(f(x) \neq y\).
    Thus \(f \in B^A\), \(f\) is not surjective and \(f\) is injective.

    Since both the necessary and sufficient conditions are proved, we conclude that \(A\) has lesser or equal cardinality to \(B\) if and only if \(\#(A) \leq \#(B)\).
\end{proof}

\begin{exercise}\label{ex 3.6.8}
    Let \(A\) and \(B\) be sets and \(A \neq \emptyset\) such that there exists an injection \(f : A \to B\) from \(A\) to \(B\) (i.e., \(A\) has lesser or equal cardinality to \(B\)).
    Show that there exists a surjection \(g : B \to A\) from \(B\) to \(A\).
\end{exercise}

\begin{proof}
    Because \(f\) is injective, so \(\#(A) \leq \#(B)\), and we divide into two cases.
    If \(\#(A) = \#(B)\), then \(\exists\ g \in A^B\) where \(g\) is bijective, so \(g\) is surjective.
    If \(\#(A) < \#(B)\), then \(\forall\ g \in A^B\) where \(g\) is not bijective.
    Since \(g\) is not bijective, \(g\) is either not injective or not surjective, and we choose \(g\) is not injective.
    So we can define \(g : B \to A\) by setting \(\exists\ x, x' \in B\), \(g(x) = g(x')\) and \(x \neq x'\).
    We can also set that \(\forall\ y \in A\), there exists a \(x \in B\) such that \(g(x) = y\).
    Thus \(g \in A^B\), \(g\) is not injective and \(g\) is surjective.
\end{proof}

\begin{exercise}\label{ex 3.6.9}
    Let \(A\) and \(B\) be finite sets.
    Show that \(A \cup B\) and \(A \cap B\) are also finite sets, and that \(\#(A) + \#(B) = \#(A \cup B) + \#(A \cap B)\).
\end{exercise}

\begin{proof}
    Let \(\#(A) = n\).
    We use induction on \(n\).
    For \(n = 0\), \(A = \emptyset\), so \(\#(A) + \#(B) = \#(\emptyset) + \#(B) = 0 + \#(B) = \#(B) = \#(\emptyset \cup B) = \#(A \cup B) = \#(A \cup B) + 0 = \#(A \cup B) + \#(\emptyset) = \#(A \cup B) + \#(\emptyset \cap B) = \#(A \cup B) + \#(A \cap B)\).
    Thus \(\#(A \cup B) = \#(B)\) and \(\#(A \cap B) = \#(\emptyset) = 0\), so \(A \cup B\) and \(A \cap B\) are finite, and the base case holds.
    Suppose inductively that when \(\#(A) = n\), \(A \cup B\) and \(A \cap B\) are finite, and \(\#(A) + \#(B) = \#(A \cup B) + \#(A \cap B)\).
    Then when \(\#(A) = n++\), let \(A = A' \cup \{a\}\), where \(a \notin A'\), so \(\#(A') = n\) and \(\#(\{a\}) = 1\).
    By Proposition \ref{3.6.14}, \(\#(A) = \#(A') + \#(\{a\}) = \#(A') + 1\).
    And by induction hypothesis, \(A' \cup B\) and \(A' \cap B\) are finite, and \(\#(A') + \#(B) = \#(A' \cup B) + \#(A' \cap B)\).
    So \(\#(A) + \#(B) = \#(A') + 1 + \#(B) = \#(A' \cup B) + \#(A' \cap B) + 1\).
    If \(a \in B\), then \(A' \cup B = A' \cup B \cup \{a\} = A \cup B\), which means \(\#(A' \cup B) = \#(A \cup B)\), so \(A \cup B\) is finite.
    Also \((A' \cap B) \cup \{a\} = (A' \cup \{a\}) \cap (B \cup \{a\}) = A \cap B\), and by Proposition \ref{3.6.14}, \(a \notin A' \cap B \implies (A' \cap B) \cap \{a\} = \emptyset \implies \#(A' \cap B) + \#(\{a\}) = \#((A' \cap B) \cup \{a\}) = \#(A \cap B)\), so \(A \cap B\) is finite.
    And we derive \(\#(A) + \#(B) = \#(A' \cup B) + \#(A' \cap B) + 1 = \#(A \cup B) + \#(A \cap B)\).
    If \(a \notin B\), then \(a \notin A' \cup B \implies A' \cap B = (A' \cap B) \cup \emptyset = (A' \cap B) \cup (\{a\} \cap B) = (A' \cup \{a\}) \cap B = A \cap B\), which means \(\#(A' \cap B) = \#(A \cap B)\), so \(A \cap B\) is finite.
    Also by Proposition \ref{3.6.14}, \((A' \cup B) \cap \{a\} = \emptyset \implies \#(A' \cup B) + \#(\{a\}) = \#(A' \cup B \cup \{a\}) = \#(A \cup B)\), so \(A \cup B\) is finite.
    And we derive \(\#(A) + \#(B) = \#(A' \cup B) + \#(A' \cap B) + 1 = \#(A \cup B) + \#(A \cap B)\).
    This close the induction.
\end{proof}

\begin{exercise}\label{ex 3.6.10}
    Let \(A_1, \dots, A_n\) be finite sets such that \(\#(\bigcup_{i \in \{1, \dots, n\}} A_i) > n\).
    Show that there exists \(i \in \{1, \dots, n\}\) such that \(\#(A_i) \geq 2\).
    (This is known as the \emph{pigeonhole principle}.)
\end{exercise}

\begin{proof}
    We use induction on \(n\).
    We start from \(n = 1\) because for \(n = 0\), the statement is vacuously true.
    For \(n = 1\), let \(\#(\bigcup_{i \in \{1\}} A_i) > 1\).
    Because \(\bigcup_{i \in \{1\}} A_i = A_1\), so \(\#(A_1) > 1\), or equivalently, \(\#(A_1) \geq 2\).
    Thus the base case holds.
    Suppose inductively that for some \(n \in \mathbf{N}\), if \(\#(\bigcup_{i \in \{1, \dots, n\}} A_i) > n\), then \(\exists\ i \in \{1, \dots, n\}\) such that \(\#(A_i) \geq 2\).
    Then for \(n++\), let \(\#(\bigcup_{i \in \{1, \dots, n++\}} A_i) > n++\), and we can divide into three cases.

    If \(\#(A_{n++}) = 0\), then \(\bigcup_{i \in \{1, \dots, n++\}} A_i = \bigcup_{i \in \{1, \dots, n\}} A_i\).
    So \(\#(\bigcup_{i \in \{1, \dots, n\}} A_i) > n++ > n\), and by induction hypothesis \(\exists\ i \in \{1, \dots, n\}\) such that \(\#(A_i) \geq 2\), which means \(\exists\ i \in \{1, \dots, n++\}\) such that \(\#(A_i) \geq 2\).
    Thus we are done in case \(\#(A_{n++}) = 0\).

    If \(\#(A_{n++}) = 1\), let \(x \in A_{n++}\).
    If \(x \in \bigcup_{i \in \{1, \dots, n\}} A_i\), then \(\bigcup_{i \in \{1, \dots, n++\}} A_i = \bigcup_{i \in \{1, \dots, n\}} A_i\), so \(\#(\bigcup_{i \in \{1, \dots, n\}} A_i) > n++ > n\), and by induction hypothesis \(\exists\ i \in \{1, \dots, n\}\) such that \(\#(A_i) \geq 2\), which means \(\exists\ i \in \{1, \dots, n++\}\) such that \(\#(A_i) \geq 2\).
    If \(x \notin \bigcup_{i \in \{1, \dots, n\}} A_i\), then by Proposition \ref{3.6.14}, \((\bigcup_{i \in \{1, \dots, n\}} A_i) \cap A_{n++} = \emptyset \implies \#(\bigcup_{i \in \{1, \dots, n\}} A_i) + \#(A_{n++}) = \#((\bigcup_{i \in \{1, \dots, n\}} A_i) \cup A_{n++}) = \#(\bigcup_{i \in \{1, \dots, n++\}} A_i)\).
    And because \(\#(\bigcup_{i \in \{1, \dots, n++\}} A_i) > n++\), and \(\#(\bigcup_{i \in \{1, \dots, n\}} A_i) + \#(A_{n++}) = \#(\bigcup_{i \in \{1, \dots, n\}} A_i) + 1 > n++\), so \(\#(\bigcup_{i \in \{1, \dots, n\}} A_i) > n\).
    By induction hypothesis \(\exists\ i \in \{1, \dots, n\}\) such that \(\#(A_i) \geq 2\), which means \(\exists\ i \in \{1, \dots, n++\}\) such that \(\#(A_i) \geq 2\).
    Thus we are done in case \(\#(A_{n++}) = 1\).

    If \(\#(A_{n++}) \geq 2\), then \(\exists i \in \{1, \dots, n++\}\) such that \(\#(A_i) \geq 2\).
    Thus we are done in case \(\#(A_{n++}) = 2\).
    This close the induction.
\end{proof}