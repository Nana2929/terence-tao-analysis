\section{Absolute value and exponentiation}

\begin{definition}[Absolute value]\label{4.3.1}
If \(x\) is a rational number, the \emph{absolute value} \(|x|\) of \(x\) is defined as follows.
If \(x\) is positive, then \(|x| \coloneqq x\).
If \(x\) is negative, then \(|x| \coloneqq -x\).
If \(x\) is zero, then \(|x| \coloneqq 0\).
\end{definition}

\begin{definition}[Distance]\label{4.3.2}
Let \(x\) and \(y\) be rational numbers.
The quantity \(|x - y|\) is called the \emph{distance between \(x\) and \(y\)} and is sometimes denoted \(d(x, y)\), thus \(d(x, y) \coloneqq |x - y|\).
\end{definition}

\begin{proposition}[Basic properties of absolute value and distance]\label{4.3.3}
Let \(x\), \(y\), \(z\) be rational numbers.
\begin{enumerate}
    \item (Non-degeneracy of absolute value)
    We have \(|x| \geq 0\).
    Also, \(|x| = 0\) if and only if \(x\) is \(0\).
    \item (Triangle inequality for absolute value)
    We have \(|x + y| \leq |x| + |y|\).
    \item We have the inequalities \(-y \leq x \leq y\) if and only if \(y \geq |x|\).
    In particular, we have \(-|x| \leq x \leq |x|\).
    \item (Multiplicativity of absolute value)
    We have \(|xy| = |x| |y|\).
    In particular, \(|-x| = |x|\).
    \item (Non-degeneracy of distance)
    We have \(d(x, y) \geq 0\).
    Also, \(d(x, y) = 0\) if and only if \(x = y\).
    \item (Symmetry of distance)
    \(d(x, y) = d(y, x)\).
    \item (Triangle inequality for distance)
    \(d(x, z) \leq d(x, y) + d(y, z)\).
\end{enumerate}
\end{proposition}

\begin{proof}{(a)}
By Lemma \ref{4.2.7}, exactly one of the three statements is true:
\begin{enumerate}[label=(\roman*)]
    \item \(x = 0\).
    Then by Definition \ref{4.3.1}, \(|x| = 0\).
    \item \(x\) is a positive rational number.
    Then by Definition \ref{4.3.1}, \(|x| = x\), which is a positive rational number.
    \item \(x\) is a negative rational number.
    Then by Definition \ref{4.3.1}, \(|x| = -x\).
    By Definition \ref{4.2.6}, \(x = (-a) / b\), where \(a, b \in \mathds{Z}^+\).
    So \(-x = (-1)x = (-1)((-a) / b) = (-1)((-1)(a / b)) = ((-1)(-1))(a / b) = a / b\) by Additional Corollary \ref{ac 4.2.3} and Proposition \ref{4.2.4}.
    By Definition \ref{4.3.1}, \(-x = a / b\) is a positive rational number.
\end{enumerate}
So \(|x|\) is either \(0\) or positive rational number, which by Definition \ref{4.2.8}, \(|x| \geq 0\).

Now we proof that \(|x| = 0 \iff x = 0\).
By Definition \ref{4.3.1}, \(x = 0 \implies |x| = 0\), so we only need to show that \(|x| = 0 \implies x = 0\).
By Lemma \ref{4.2.7}, exactly one of the following is true:
\(x = 0\), \(x\) is positive rational number or \(x\) is negative rational number.
If \(x\) is positive rational number, then \(|x| = x \neq 0\).
If \(x\) is negative rational number, then \(|x| = -x \neq 0\).
So \(x\) can only be \(0\), which means \(|x| = 0 \implies x = 0\).
\end{proof}

\begin{proof}{(b)}
By Lemma \ref{4.2.7}, \(x\) and \(y\) can both have three different cases.
\begin{enumerate}[label=(\Roman*)]
    \item For \(x = 0\) and
    \begin{enumerate}[label=(\roman*)]
        \item \(y = 0\).
        By Proposition \ref{4.2.4} and Definition \ref{4.3.1}, \(|0 + 0| = |0| = 0\), and \(|0| + |0| = 0 + 0 = 0\).
        Thus \(|x + y| = 0 = |x| + |y|\).
        \item \(y\) is positive.
        By Proposition \ref{4.2.4} and Definition \ref{4.3.1}, \(|0 + y| = |y| = y\), and \(|0| + |y| = 0 + y = y\).
        Thus \(|x + y| = y = |x| + |y|\).
        \item \(y\) is negative.
        By Proposition \ref{4.2.4} and Definition \ref{4.3.1}, \(|0 + y| = |y| = -y\), and \(|0| + |y| = 0 + (-y) = -y\).
        Thus \(|x + y| = -y = |x| + |y|\).
    \end{enumerate}
    \item For \(x\) is positive and
    \begin{enumerate}[label=(\roman*)]
        \item \(y = 0\).
        Which is just equivalent to the case \(x = 0\) and \(y\) is positive.
        \item \(y\) is positive.
        By Additional Corollary \ref{ac 4.2.4} and Definition \ref{4.3.1}, \(|x + y| = x + y\), and \(|x| + |y| = x + y\).
        Thus \(|x + y| = x + y = |x| + |y|\).
        \item \(y\) is negative.
        Let \(y = -a\), where \(a\) is a positive rational number.
        By Proposition \ref{4.2.9}, exactly one of the following three statements is true:
        \begin{enumerate}[label=(\arabic*)]
            \item \(x = a\).
            By Proposition \ref{4.2.4} and Definition \ref{4.3.1}, \((|x| + |-a|) - |x - a| = (|x| + |-a|) - |0| = (x + a) - 0 = x + a\).
            By Additional Corollary \ref{ac 4.2.4}, \(x + a\) is a positive rational number.
            Thus by Definition \ref{4.2.8}, \(|x + y| = 0 < x + a = |x| + |y|\).
            \item \(x > a\).
            By Definition \ref{4.2.8}, \(x - a\) is a positive rational number, so by Definition \ref{4.3.1}, \(|x - a| = x - a\).
            By Definition \ref{4.3.1}, \(|x| + |-a| = x + a\).
            By Proposition \ref{4.2.4} and Additional Corollary \ref{ac 4.2.3}, \((|x| + |y|) - |x + y| = (x + a) - (x - a) = 2a\).
            By Additional Corollary \ref{ac 4.2.5}, \(2a\) is a positive rational number.
            Thus by Definition \ref{4.2.8}, \(|x + y| = x - a < x + a = |x| + |y|\).
            \item \(x < a\).
            By Definition \ref{4.2.8}, \(x - a\) is a negative rational number, so by Definition \ref{4.3.1}, \(|x - a| = -(x - a) = a - x\).
            By Definition \ref{4.3.1}, \(|x| + |-a| = x + a\).
            By Proposition \ref{4.2.4} and Additional Corollary \ref{ac 4.2.3}, \((|x| + |y|) - |x + y| = (x + a) - (a - x) = 2x\).
            By Additional Corollary \ref{ac 4.2.5}, \(2x\) is a positive rational number.
            Thus by Definition \ref{4.2.8}, \(|x + y| = a - x < x + a = |x| + |y|\).
        \end{enumerate}
    \end{enumerate}
    \item For \(x\) is negative and
    \begin{enumerate}[label=(\roman*)]
        \item \(y = 0\).
        Which is just equivalent to the case \(x = 0\) and \(y\) is negative.
        \item \(y\) is positive.
        Which is just equivalent to the case \(x\) is positive and \(y\) is negative.
        \item \(y\) is negative.
        Let \(x = -a\) and \(y = -b\), where \(a, b\) are positive rational number.
        By Proposition \ref{4.2.4} and Definition \ref{4.3.1}, \(|(-a) + (-b)| = |-(a + b)| = -(-(a + b)) = a + b\).
        By Definition \ref{4.3.1}, \(|(-a)| + |(-b)| = (-(-a)) + (-(-b)) = a + b\).
        Thus \(|x + y| = a + b = |x| + |y|\).
    \end{enumerate}
\end{enumerate}
For all cases above, we get either \(|x + y| = |x| + |y|\) or \(|x + y| < |x| + |y|\).
So by Definition \ref{4.2.8}, \(|x + y| \leq |x| + |y|\).
\end{proof}

\begin{proof}{(c)}
We first prove that \(-y \leq x \leq y\) implies \(y \geq |x|\).
\begin{align*}
& -y \leq x \leq y \\
\iff & (-y \leq x) \land (x \leq y) & \text{(by Definition \ref{4.2.8})} \\
\iff & ((-y < x) \lor (x = -y)) \land ((x < y) \lor (x = y)) & \text{(by Definition \ref{4.2.8})} \\
\iff & ((-x < y) \lor (x = -y)) \land ((x < y) \lor (x = y)) & \text{(by Exercise \ref{ex 4.2.6})} \\
\iff & ((-x < y) \lor (-x = y)) \land ((x < y) \lor (x = y)). & \text{(by Additional Corollary \ref{ac 4.2.3})}
\end{align*}
By Proposition \ref{4.2.9}, exactly one of the two statements \(-x < y\) and \(-x = y\) is true.
Similarly, exactly one of the two statements \(x < y\) and \(x = y\) is true.
So we can divide into four cases:
\begin{enumerate}[label=(\Roman*)]
    \item \((-x < y) \land (x < y)\).
    % By Definition \ref{4.3.1}, if \(|x| = -x\), then \(|x| = -x < y\);
    % if \(|x| = x\), then \(|x| = x < y\);
    % if \(\).
    % In either case we get \(|x| < y\).
    By Definition \ref{4.3.1}, we get three cases:
    \begin{enumerate}[label=(\roman*)]
        \item \(|x| = 0\).
        Then \(-x = -0 = 0 < y\) and \(0 < y\).
        So \(|x| = 0 < y\).
        \item \(|x| = x\).
        So \(|x| = x < y\).
        \item \(|x| = -x\).
        So \(|x| = -x < y\).
    \end{enumerate}
    \item \((-x < y) \land (x = y)\).
    By Definition \ref{4.3.1}, we get three cases:
    \begin{enumerate}[label=(\roman*)]
        \item \(|x| = 0\).
        This case does not exist since \(-0 = 0 < y\) and \(0 = y\) can not be true at the same time by Proposition \ref{4.2.9}.
        \item \(|x| = x\).
        So \(|x| = x = y\).
        \item \(|x| = -x\).
        So \(|x| = -x < y\).
    \end{enumerate}
    \item \((-x = y) \land (x < y)\).
    By Definition \ref{4.3.1}, we get three cases:
    \begin{enumerate}[label=(\roman*)]
        \item \(|x| = 0\).
        This case does not exist since \(-0 = 0 = y\) and \(0 < y\) can not be true at the same time by Proposition \ref{4.2.9}.
        \item \(|x| = x\).
        So \(|x| = x < y\).
        \item \(|x| = -x\).
        So \(|x| = -x = y\).
    \end{enumerate}
    \item \((-x = y) \land (x = y)\).
    Which means \(-x = x \implies 0 = 2x \implies x = 0\) by Proposition \ref{4.2.4}.
    So \(|x| = 0 = y\).
\end{enumerate}
From all cases above, we can see that either \(|x| = y\) or \(|x| < y\) is true.
Thus by Definition \ref{4.2.8}, \(|x| \leq y\).

Now we prove that \(y \geq |x|\) implies \(-y \leq x \leq y\).
By Definition \ref{4.2.8}, \(y \geq |x| \iff (y > |x|) \lor (y = |x|)\).
By Lemma \ref{4.2.7} and Definition \ref{4.3.1}, \(x\) has three different cases:
\begin{enumerate}[label=(\roman*)]
    \item \(x = 0\) and \(|x| = 0\).
    So \(y > |x| = 0 = x\) or \(y = |x| = 0 = x\) is true, which means \(y \geq x\) by Definition \ref{4.2.8}.
    \item \(x\) is a positive rational number and \(|x| = x\).
    So \(y > |x| = x\) or \(y = |x| = x\) is true, which means \(y \geq x\) by Definition \ref{4.2.8}.
    \item \(x\) is a negative rational number and \(|x| = -x\).
    By Exercise \ref{ex 4.2.6}, \(y > -x \iff -y < x\).
    And by Additional Corollary \ref{4.2.3}, \(y = -x \iff -y = x\).
    So \(-y < x\) or \(-y = x\) is true, which means \(-y \leq x\) by Definition \ref{4.2.8}.
\end{enumerate}
Combine all cases above we get \(-y \leq x \leq y\).

Finally we show that \(-|x| \leq x \leq |x|\).
Because \(|x| = |x|\), so \(|x| \geq |x|\) by Definition \ref{4.2.8}.
Then from previous proof we get \(|x| \geq |x| \iff -|x| \leq x \leq |x|\).
\end{proof}

\begin{proof}{(d)}
By Lemma \ref{4.2.7}, exactly one of the following three statements is true:
\begin{enumerate}[label=(\Roman*)]
    \item \(x = 0\).
    By Proposition \ref{4.2.4} and Definition \ref{4.3.1}, \(|xy| = |0y| = |0| = 0\) and \(|x||y| = |0||y| = 0|y| = 0\).
    So \(|xy| = 0 = |x||y|\).
    \item \(x\) is a positive rational number.
    By Lemma \ref{4.2.7}, exactly one of the following three statements is true:
    \begin{enumerate}[label=(\roman*)]
        \item \(y = 0\).
        Which is just the same case as \(x = 0\).
        \item \(y\) is a positive rational number.
        By Additional Corollary \ref{ac 4.2.5}, \(xy\) is a positive rational number.
        Then by Definition \ref{4.3.1}, \(|xy| = xy\) and \(|x||y| = xy\).
        So \(|xy| = xy = |x||y|\).
        \item \(y\) is a negative rational number.
        By Definition \ref{4.2.6}, \(y = -a\), where \(a\) is a positive rational number.
        Then by Additional Corollary \ref{4.2.3} and Proposition \ref{4.2.4}, \(|xy| = |x(-a)| = |x((-1)a)| = |(x(-1))a| = |((-1)x)a| = |(-1)(xa)| = |-(xa)|\), where \(xa\) is a positive rational number by Additional Corollary \ref{ac 4.2.5}.
        Again Definition \ref{4.3.1}, Additional Corollary \ref{4.2.3} and Proposition \ref{4.2.4}, \(|-(xa)| = (-(-(xa))) = (-1)((-1)(xa)) = ((-1)(-1))(xa) = 1(xa) = xa\).
        Again by Definition \ref{4.3.1}, \(|x||y| = x|(-a)| = x(-(-a)) = x((-1)((-1)a)) = x(((-1)(-1))a) = x(1a) = xa\).
        So \(|xy| = xa = |x||y|\).
    \end{enumerate}
    \item \(x\) is a negative rational number.
    By Lemma \ref{4.2.7}, exactly one of the following three statements is true:
    \begin{enumerate}[label=(\roman*)]
        \item \(y = 0\).
        Which is just the same case as \(x = 0\).
        \item \(y\) is a positive rational number.
        Which is just the same case as \(x\) is a positive rational number and \(y\) is a negative rational number.
        \item \(y\) is a negative rational number.
        By Definition \ref{4.2.6}, \(x = -a\) and \(y = -b\), where \(a, b\) are positive rational numbers.
        Then by Additional Corollary \ref{4.2.3} and Proposition \ref{4.2.4}, \(|xy| = |(-a)(-b)| = |((-1)a)((-1)b)| = |(((-1)a)(-1))b| = |((-1)(a(-1)))b| = |((-1)((-1)a))b| = |(((-1)(-1))a)b| = |(1a)b| = |ab|\).
        By Additional Corollary \ref{ac 4.2.5}, \(ab\) is a positive rational number, so \(|ab| = ab\) by Definition \ref{4.3.1}.
        Again by Definition \ref{4.3.1}, Additional Corollary \ref{4.2.3} and Proposition \ref{4.2.4}, \(|x||y| = |(-a)||(-b)| = (-(-a))(-(-b)) = ((-1)((-1)a))((-1)((-1)b)) = (((-1)(-1))a)(((-1)(-1))b) = (1a)(1b) = ab\).
        So \(|xy| = ab = |x||y|\).
    \end{enumerate}
\end{enumerate}
From all cases above, we can see that \(|xy| = |x||y|\).

Now we show that \(|-x| = |x|\).
Using previous proof, let \(y = -1\), we get \(|x(-1)| = |x||-1|\).
By Proposition \ref{4.2.4}, Definition \ref{4.3.1} and Additional Corollary \ref{4.2.3}, \(|x(-1)| = |(-1)x| = |-x|\).
Again by Proposition \ref{4.2.4}, Definition \ref{4.3.1} and Additional Corollary \ref{4.2.3}, \(|x||-1| = |x|(-(-1)) = |x|((-1)(-1)) = |x|1 = |x|\).
Thus \(|-x| = |x|\).
\end{proof}

\begin{proof}{(e)}
We first show that \(d(x, y) \geq 0\).
By Definition \ref{4.3.2}, \(d(x, y) = |x - y|\).
By Proposition \ref{4.3.3}(a), \(|x - y| \geq 0\).
So \(d(x, y) = |x - y| \geq 0\).

Now we show that \(d(x, y) = 0 \iff x = y\).
\begin{align*}
& d(x, y) = 0 & \text{(by the given condition)} \\
\iff & |x - y| = 0 & \text{(by Definition \ref{4.3.2})} \\
\iff & x - y = 0 & \text{(by Proposition \ref{4.3.3}(a))} \\
\iff & (x - y) + y = 0 + y & \text{(by Proposition \ref{4.2.4})} \\
\iff & (x - y) + y = y & \text{(by Proposition \ref{4.2.4})} \\
\iff & (x + (-y)) + y = y \\
\iff & x + ((-y) + y) = y & \text{(by Proposition \ref{4.2.4})} \\
\iff & x + 0 = y & \text{(by Proposition \ref{4.2.4})} \\
\iff & x = y. & \text{(by Proposition \ref{4.2.4})}
\end{align*}
\end{proof}

\begin{proof}{(f)}
\begin{align*}
d(x, y) &= |x - y| & \text{(by Definition \ref{4.3.2})} \\
&= |x + (-y)| \\
&= |-(x + (-y))| & \text{(by Proposition \ref{4.3.3}(d))} \\
&= |(-1)(x + (-1)y)| & \text{(by Additional Corollary \ref{ac 4.2.3})} \\
&= |(-1)x + (-1)((-1)y)| & \text{(by Proposition \ref{4.2.4})} \\
&= |(-1)x + ((-1)(-1))y| & \text{(by Proposition \ref{4.2.4})} \\
&= |(-1)x + 1y| & \text{(by Proposition \ref{4.2.4})} \\
&= |(-1)x + y| & \text{(by Proposition \ref{4.2.4})} \\
&= |y + (-1)x| & \text{(by Proposition \ref{4.2.4})} \\
&= |y + -x| & \text{(by Additional Corollary \ref{ac 4.2.3})} \\
&= |y - x| \\
&= d(y, x). & \text{(by Definition \ref{4.3.2})}
\end{align*}
\end{proof}

\begin{proof}{(g)}
\begin{align*}
d(x, z) &= |x - z| & \text{(by Definition \ref{4.3.2})} \\
&= |x + (-z)| \\
&= |(x + (-z)) + 0| & \text{(by Proposition \ref{4.2.4})} \\
&= |(x + (-z)) + ((-y) + y)| & \text{(by Proposition \ref{4.2.4})} \\
&= |(x + (((-z) + (-y)) + y)| & \text{(by Proposition \ref{4.2.4})} \\
&= |(x + (((-y) + (-z)) + y)| & \text{(by Proposition \ref{4.2.4})} \\
&= |(x + (-y)) + ((-z) + y)| & \text{(by Proposition \ref{4.2.4})} \\
&= |(x + (-y)) + (y + (-z))| & \text{(by Proposition \ref{4.2.4})} \\
&= |(x - y) + (y - z)| \\
&< |x - y| + |y - z| & \text{(by Proposition \ref{4.3.3}(b))} \\
&= d(x, y) + d(y, z). & \text{(by Definition \ref{4.3.2})} \\
\end{align*}
\end{proof}

\exercisesection

\begin{exercise}\label{ex 4.3.1}
Prove Proposition \ref{4.3.3}.
\end{exercise}

\begin{proof}
See Proposition \ref{4.3.3}.
\end{proof}