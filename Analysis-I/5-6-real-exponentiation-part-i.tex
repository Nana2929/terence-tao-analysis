\section{Real exponentiation, part I}\label{sec 5.6}

\begin{definition}[Exponentiating a real by a natural number]\label{5.6.1}
    Let \(x\) be a real number.
    To raise \(x\) to the power \(0\), we define \(x^0 \coloneqq 1\).
    Now suppose recursively that \(x^n\) has been defined for some natural number \(n\), then we define \(x^{n + 1} \coloneqq x^n \times x\).
\end{definition}

\begin{definition}[Exponentiating a real by an integer]\label{5.6.2}
    Let \(x\) be a non-zero real number.
    Then for any negative integer \(-n\), we define \(x^{-n} \coloneqq 1 / x^n\).
\end{definition}

\begin{proposition}\label{5.6.3}
    All the properties in Propositions \ref{4.3.10} and \ref{4.3.12} remain valid if \(x\) and \(y\) are assumed to be real numbers instead of rational numbers.
\end{proposition}

\begin{meta-proof}
If one inspects the proof of Propositions \ref{4.3.10} and \ref{4.3.12} we see that they rely on the laws of algebra and the laws of order for the rationals (Propositions \ref{4.2.4} and \ref{4.2.9}).
But by Propositions \ref{5.3.11}, \ref{5.4.7}, and the identity \(xx^{-1} = x^{-1} x = 1\) we know that all these laws of algebra and order continue to hold for real numbers as well as rationals.
Thus we can modify the proof of Proposition \ref{4.3.10} and \ref{4.3.12} to hold in the case when \(x\) and \(y\) are real.
\end{meta-proof}

\begin{note}
    Instead of giving an actual proof of Proposition \ref{5.6.3}, we shall give a meta-proof
    (an argument appealing to the nature of proofs, rather than the nature of real and rational numbers).
\end{note}

\begin{definition}\label{5.6.4}
    Let \(x \geq 0\) be a non-negative real, and let \(n \geq 1\) be a positive integer.
    We define \(x^{1 / n}\), also known as the \emph{\(n^{\text{th}}\) root of \(x\)}, by the formula
    \[
        x^{1 / n} \coloneqq \sup\{y \in \mathbf{R} : y \geq 0 \text{ and } y^n \leq x\}.
    \]
    We often write \(\sqrt{x}\) for \(x^{1 / 2}\).
\end{definition}

\begin{note}
    we do not define the \(n^{\text{th}}\) roots of a negative number.
    In fact, we will leave the \(n^{\text{th}}\) roots of negative numbers undefined for the rest of the text
    (one can define these \(n^{\text{th}}\) roots once one defines the complex numbers, but we shall refrain from doing so).
\end{note}

\begin{lemma}[Existence of \(n^{\text{th}}\) roots]\label{5.6.5}
    Let \(x \geq 0\) be a non-negative real, and let \(n \geq 1\) be a positive integer.
    Then the set \(E \coloneqq \{y \in R : y \geq 0 \text{ and } y^n \leq x\}\) is non-empty and is also bounded above.
    In particular, \(x^{1 / n}\) is a real number.
\end{lemma}

\begin{proof}
    The set \(E\) contains \(0\), so it is certainly not empty.
    Now we show it has an upper bound.
    We divide into two cases: \(x \leq 1\) and \(x > 1\).
    First suppose that we are in the case where \(x \leq 1\).
    Then we claim that the set \(E\) is bounded above by \(1\).
    To see this, suppose for sake of contradiction that there was an element \(y \in E\) for which \(y > 1\).
    But then \(y^n > 1\), and hence \(y^n > x\), a contradiction.
    Thus \(E\) has an upper bound.
    Now suppose that we are in the case where \(x > 1\).
    Then we claim that the set \(E\) is bounded above by \(x\).
    To see this, suppose for contradiction that there was an element \(y \in E\) for which \(y > x\).
    Since \(x > 1\), we thus have \(y > 1\).
    Since \(y > x\) and \(y > 1\), we have \(y^n > x\), a contradiction.
    Thus in both cases \(E\) has an upper bound, and so \(x^{1 / n}\) is finite.
\end{proof}

\begin{lemma}\label{5.6.6}
    Let \(x, y \geq 0\) be non-negative reals, and let \(n, m \geq 1\) be positive integers.
    \begin{enumerate}
        \item If \(y = x^{1 / n}\), then \(y^n = x\).
        \item Conversely, if \(y^n = x\), then \(y = x^{1 / n}\).
        \item \(x^{1 / n}\) is a non-negative real number, and is positive if and only if \(x\) is positive.
        \item We have \(x > y\) if and only if \(x^{1 / n} > y^{1 / n}\).
        \item Let \(k, l \in \mathbf{Z}^+\).
              If \(x > 1\), then \(x^{1 / k}\) is a decreasing (i.e., \(x^{1 / k} > x^{1 / l}\) whenever \(k < l\)) function of \(k\).
              If \(0 < x < 1\), then \(x^{1 / k}\) is an increasing (i.e., \(x^{1 / k} < x^{1 / l}\) whenever \(k < l\)) function of \(k\).
              If \(x = 1\), then \(x^{1 / k} = 1\) for all \(k\).
        \item We have \((xy)^{1 / n} = x^{1 / n} y^{1 / n}\).
        \item We have \((x^{1 / n})^{1 / m} = x^{1 / nm}\).
    \end{enumerate}
\end{lemma}

\begin{proof}{(a)}
    Let \(E = \{z \in \mathbf{R} : (z \geq 0) \land (z^n \leq x)\}\) and let \(y = x^{1 / n} = \sup(E)\).
    Since \(0 \in E\), by Definition \ref{5.5.5} we know that \(0 \leq y\).
    Suppose for sake of contradiction that \(y^n \neq x\).
    Then by Proposition \ref{5.4.7} exactly one of the following statements is true:
    \begin{itemize}
        \item \(y^n < x\).
              Now we show that \(\exists\ m \in \mathbf{Z}^+\) such that \((y + \frac{1}{m})^n < x\).
              Suppose for sake of contradiction that \(\forall\ m \in \mathbf{Z}^+\), we have \((y + \frac{1}{m})^n \geq x\).
              Let \((y + \frac{1}{m})_{m = 1}^\infty\) be a sequences.
              Then we have
              \begin{align*}
                  \text{LIM}_{m \to \infty} \bigg(y + \frac{1}{m}\bigg) & = \text{LIM}_{m \to \infty} y + \text{LIM}_{m \to \infty} \frac{1}{m} & \text{(by Definition \ref{5.3.4})}   \\
                                                                        & = \text{LIM}_{m \to \infty} y + 0                                     & \text{(by Exercise \ref{ex 5.3.5})}  \\
                                                                        & = y.                                                                  & \text{(by Proposition \ref{6.1.15})}
              \end{align*}
              Note that we use Proposition \ref{6.1.15} without circularity.
              But then we have
              \begin{align*}
                           & \forall\ m \in \mathbf{Z}^+, y^n < x \leq \bigg(y + \frac{1}{m}\bigg)^n                                                \\
                  \implies & y^n < x \leq \text{LIM}_{m \to \infty} \bigg(y + \frac{1}{m}\bigg)^n             & \text{(by Exercise \ref{ex 5.4.8})} \\
                  \implies & y^n < x \leq \Bigg(\text{LIM}_{m \to \infty} \bigg(y + \frac{1}{m}\bigg)\Bigg)^n & \text{(by Definition \ref{5.3.9})}  \\
                  \implies & y^n < x \leq y^n                                                                                                       \\
                  \implies & y^n < y^n,
              \end{align*}
              a contradiction.
              Thus we know that \(\exists\ m \in \mathbf{Z}^+\) such that \((y + \frac{1}{m})^n < x\).
              Since \(m \in \mathbf{Z}^+\), we know that \(y < y + \frac{1}{m}\), thus by Proposition \ref{5.6.3} we know that \(y^n < (y + \frac{1}{m})^n\).
              But this means \(y + \frac{1}{m} \in E\) and \(y + \frac{1}{m} \leq y\), a contradiction.
        \item \(y^n > x\).
              Now we show that \(\exists\ m \in \mathbf{Z}^+\) such that \((y - \frac{1}{m})^n > x\).
              Suppose for sake of contradiction that \(\forall\ m \in \mathbf{Z}^+\), we have \((y - \frac{1}{m})^n \leq x\).
              Let \((y - \frac{1}{m})_{m = 1}^\infty\) be a sequences.
              Then we have
              \begin{align*}
                  \text{LIM}_{m \to \infty} \bigg(y - \frac{1}{m}\bigg) & = \text{LIM}_{m \to \infty} y - \text{LIM}_{m \to \infty} \frac{1}{m} & \text{(by Definition \ref{5.3.4})}   \\
                                                                        & = \text{LIM}_{m \to \infty} y - 0                                     & \text{(by Exercise \ref{ex 5.3.5})}  \\
                                                                        & = y.                                                                  & \text{(by Proposition \ref{6.1.15})}
              \end{align*}
              Note that we use Proposition \ref{6.1.15} without circularity.
              But then we have
              \begin{align*}
                           & \forall\ m \in \mathbf{Z}^+, \bigg(y - \frac{1}{m}\bigg)^n \leq x < y^n                                                \\
                  \implies & \text{LIM}_{m \to \infty} \bigg(y - \frac{1}{m}\bigg)^n \leq x < y^n             & \text{(by Exercise \ref{ex 5.4.8})} \\
                  \implies & \Bigg(\text{LIM}_{m \to \infty} \bigg(y - \frac{1}{m}\bigg)\Bigg)^n \leq x < y^n & \text{(by Definition \ref{5.3.9})}  \\
                  \implies & y^n \leq x < y^n                                                                                                       \\
                  \implies & y^n < y^n,
              \end{align*}
              a contradiction.
              Thus we know that \(\exists\ m \in \mathbf{Z}^+\) such that \((y - \frac{1}{m})^n > x\).
              Since \(m \in \mathbf{Z}^+\), we know that \(y - \frac{1}{m} < y\), thus by Proposition \ref{5.6.3} we know that \((y - \frac{1}{m})^n < y^n\).
              But this means \(y - \frac{1}{m} \notin E\) and \(y - \frac{1}{m}\) and upper bound for \(E\) which is strictly less than \(y\), a contradiction.
    \end{itemize}
    From all cases above we get contradictions, so \(y = x^{1 / n} \implies y^n = x\).
\end{proof}

\begin{proof}{(b)}
    Let \(E = \{z \in \mathbf{R} : (z \geq 0) \land (z^n \leq x)\}\).
    By Definition \ref{5.6.4} we have \(x^{1 / n} = \sup(E)\).
    Since \(0 \in E\), by Definition \ref{5.5.5} we know that \(0 \leq x^{1 / n}\).
    Let \(y \in \mathbf{R} \setminus \mathbf{R}^-\) such that \(y^n = x\).
    Such \(y\) is well-defined since Lemma \ref{5.6.6}(a).
    By the definition of \(E\) we know that \(y \in E\).
    Suppose for sake of contradiction that \(y \neq x^{1 / n}\).
    Then by Proposition \ref{5.4.7} exactly one of the following statements is true:
    \begin{itemize}
        \item \(y < x^{1 / n}\).
              But then we have
              \begin{align*}
                           & y^n < (x^{1 / n})^n & \text{(by Proposition \ref{5.6.3})} \\
                  \implies & x < (x^{1 / n})^n                                         \\
                  \implies & x < x,              & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              a contradiction.
        \item \(y > x^{1 / n}\).
              But then we have
              \begin{align*}
                           & y^n > (x^{1 / n})^n & \text{(by Proposition \ref{5.6.3})} \\
                  \implies & x > (x^{1 / n})^n                                         \\
                  \implies & x > x,              & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              a contradiction.
    \end{itemize}
    From all cases above we get contradictions, so \(y^n = x \implies y = x^{1 / n}\).
\end{proof}

\begin{proof}{(c)}
    Let \(E = \{z \in \mathbf{R} : (z \geq 0) \land (z^n \leq x)\}\).
    By Definition \ref{5.6.4} we have \(x^{1 / n} = \sup(E)\).
    Since \(0 \in E\), by Definition \ref{5.5.5} we know that \(0 \leq x^{1 / n}\), thus \(x^{1 / n}\) is non-negative real number.

    Now suppose that \(x^{1 / n}\) is positive.
    Then we have
    \begin{align*}
                 & x^{1 / n} > 0                                           \\
        \implies & (x^{1 / n})^n > 0 & \text{(by Proposition \ref{5.6.3})} \\
        \implies & x > 0.            & \text{(by Lemma \ref{5.6.6}(a))}    \\
    \end{align*}

    Finally, suppose that \(x\) is positive.
    Suppose for sake of contradiction that \(x^{1 / n}\) is not positive.
    Then from proof above we know that \(x^{1 / n} = 0\).
    But then we have
    \begin{align*}
                 & (x^{1 / n})^n = 0^n = 0                                    \\
        \implies & x = 0,                  & \text{(by Lemma \ref{5.6.6}(a))}
    \end{align*}
    a contradiction.
    Thus we must have \(x^{1 / n} > 0\).
    And we conclude that \(x^{1 / n}\) is positive iff \(x\) is positive.
\end{proof}

\begin{proof}{(d)}
    We first show that \(x^{1 / n} > y^{1 / n} \implies x > y\).
    \begin{align*}
                 & x^{1 / n} > y^{1 / n}                                               \\
        \implies & (x^{1 / n})^n > (y^{1 / n})^n & \text{(by Proposition \ref{5.6.3})} \\
        \implies & x > y.                        & \text{(by Lemma \ref{5.6.6}(a))}
    \end{align*}

    Now we show that \(x > y \implies x^{1 / n} > y^{1 / n}\).
    Suppose for sake of contradiction that \(x^{1 / n} \leq y^{1 / n}\).
    But then we have
    \begin{align*}
                 & x^{1 / n} \leq y^{1 / n}                                               \\
        \implies & (x^{1 / n})^n \leq (y^{1 / n})^n & \text{(by Proposition \ref{5.6.3})} \\
        \implies & x \leq y,                        & \text{(by Lemma \ref{5.6.6}(a))}
    \end{align*}
    a contradiction.
    Thus we must have \(x^{1 / n} > y^{1 / n}\).
    And we conclude that \(x > y \iff x^{1 / n} > y^{1 / n}\).
\end{proof}

\begin{proof}{(e)}
    We first prove that if \(x > 1\), then \(x^{1 / k}\) is a decreasing function of \(k\).
    Let \(f : \{k \in \mathbf{N} : k > 0\} \to \mathbf{R}\) be a function such that \(f(k) = x^{1 / k}\).
    Such function \(f\) exists because of Definition \ref{5.6.4}.
    Let \(k \in \{k \in \mathbf{N} : k > 0\}\).
    Now we want to show that \(x^{1 / k} > x^{1 / (k + 1)}\).
    Suppose for sake of contradiction that \(x^{1 / k} \not> x^{1 / (k + 1)}\).
    Then by Proposition \ref{5.4.7}, exactly one of the following two statements is true:
    \begin{enumerate}[label=(\Roman*)]
        \item \(x^{1 / k} = x^{1 / (k + 1)}\).
              Then we have
              \begin{align*}
                           & x = (x^{1 / k})^k                                     & \text{(by Lemma \ref{5.6.6}(a))}   \\
                  \implies & x = (x^{1 / (k + 1)})^k                                                                    \\
                  \implies & x = (x^{1 / (k + 1)})^{(k + 1)}                       & \text{(by Lemma \ref{5.6.6}(a))}   \\
                  \implies & (x^{1 / (k + 1)})^{(k + 1)} / (x^{1 / (k + 1)})^k = 1 & (x > 1)                            \\
                  \implies & (x^{1 / (k + 1)})^{(k + 1) - k} = 1                   & \text{(by Lemma \ref{5.6.3})}      \\
                  \implies & (x^{1 / (k + 1)})^1 = 1                                                                    \\
                  \implies & x^{1 / (k + 1)} = 1                                   & \text{(by Definition \ref{5.6.1})} \\
                  \implies & x = (x^{1 / (k + 1)})^{(k + 1)} = 1^{k + 1} = 1.      & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              But this contradict to \(x > 1\).
        \item \(x^{1 / k} < x^{1 / (k + 1)}\).
              Then we have
              \begin{align*}
                           & (x^{1 / k})^{(k + 1)} < (x^{1 / (k + 1)})^{(k + 1)}                                       \\
                  \implies & (x^{1 / k})^{(k + 1)} < x                           & \text{(by Lemma \ref{5.6.6}(a))}    \\
                  \implies & (x^{1 / k})^k (x^{1 / k}) < x                       & \text{(by Definition \ref{5.6.1})}  \\
                  \implies & x (x^{1 / k}) < x                                   & \text{(by Lemma \ref{5.6.6}(a))}    \\
                  \implies & x^{1 / k} < 1                                       & \text{(by Proposition \ref{5.4.7})} \\
                  \implies & (x^{1 / k})^k < 1^k = 1                             & \text{(by Proposition \ref{5.4.7})} \\
                  \implies & x < 1.                                              & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              But this contradict to \(x > 1\).
    \end{enumerate}
    From all cases above we get contradictions.
    Thus \(f(k) = x^{1 / k} > x^{1 / (k + 1)} = f(k + 1)\), \(f(k) = x^{1 / k}\) is a decreasing function of \(k\).

    Next we prove that if \(x < 1\), then \(x^{1 / k}\) is a increasing function of \(k\).
    Let \(f : \{k \in \mathbf{N} : k > 0\} \to \mathbf{R}\) be a function such that \(f(k) = x^{1 / k}\).
    Such function \(f\) exists because of Definition \ref{5.6.4}.
    Let \(k \in \{k \in \mathbf{N} : k > 0\}\).
    Now we want to show that \(x^{1 / k} < x^{1 / (k + 1)}\).
    Suppose for sake of contradiction that \(x^{1 / k} \not< x^{1 / (k + 1)}\).
    Then by Proposition \ref{5.4.7}, exactly one of the following two statements is true:
    \begin{enumerate}[label=(\Roman*)]
        \item \(x^{1 / k} = x^{1 / (k + 1)}\).
              Then we have
              \begin{align*}
                           & x = (x^{1 / k})^k                                     & \text{(by Lemma \ref{5.6.6}(a))}   \\
                  \implies & x = (x^{1 / (k + 1)})^k                                                                    \\
                  \implies & x = (x^{1 / (k + 1)})^{(k + 1)}                       & \text{(by Lemma \ref{5.6.6}(a))}   \\
                  \implies & (x^{1 / (k + 1)})^{(k + 1)} / (x^{1 / (k + 1)})^k = 1 & (x > 1)                            \\
                  \implies & (x^{1 / (k + 1)})^{(k + 1) - k} = 1                   & \text{(by Lemma \ref{5.6.3})}      \\
                  \implies & (x^{1 / (k + 1)})^1 = 1                                                                    \\
                  \implies & x^{1 / (k + 1)} = 1                                   & \text{(by Definition \ref{5.6.1})} \\
                  \implies & x = (x^{1 / (k + 1)})^{(k + 1)} = 1^{k + 1} = 1.      & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              But this contradict to \(x < 1\).
        \item \(x^{1 / k} > x^{1 / (k + 1)}\).
              Then we have
              \begin{align*}
                           & (x^{1 / k})^{(k + 1)} > (x^{1 / (k + 1)})^{(k + 1)}                                       \\
                  \implies & (x^{1 / k})^{(k + 1)} > x                           & \text{(by Lemma \ref{5.6.6}(a))}    \\
                  \implies & (x^{1 / k})^k (x^{1 / k}) > x                       & \text{(by Definition \ref{5.6.1})}  \\
                  \implies & x (x^{1 / k}) > x                                   & \text{(by Lemma \ref{5.6.6}(a))}    \\
                  \implies & x^{1 / k} > 1                                       & \text{(by Proposition \ref{5.4.7})} \\
                  \implies & (x^{1 / k})^k > 1^k = 1                             & \text{(by Proposition \ref{5.4.7})} \\
                  \implies & x > 1.                                              & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              But this contradict to \(x < 1\).
    \end{enumerate}
    From all cases above we get contradictions.
    Thus \(f(k) = x^{1 / k} < x^{1 / (k + 1)} = f(k + 1)\), \(f(k) = x^{1 / k}\) is a increasing function of \(k\).

    Finally we prove that if \(x = 1\), then \(x^{1 / k} = 1 \ \forall\ k \in \mathbf{N}\) and \(k > 0\).
    Suppose for sake of contradiction that \(x^{1 / k} \neq 1\).
    Then by Proposition \ref{5.4.7}, exactly one of the following two statements is true:
    \begin{enumerate}[label=(\Roman*)]
        \item \(x^{1 / k} > 1\).
              Then we have
              \begin{align*}
                           & (x^{1 / k})^k > 1^k = 1 & \text{(by Proposition \ref{5.4.7})} \\
                  \implies & x > 1.                  & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              But this contradict to \(x = 1\).
        \item \(x^{1 / k} < 1\).
              Then we have
              \begin{align*}
                           & (x^{1 / k})^k < 1^k = 1 & \text{(by Proposition \ref{5.4.7})} \\
                  \implies & x < 1.                  & \text{(by Lemma \ref{5.6.6}(a))}
              \end{align*}
              But this contradict to \(x = 1\).
    \end{enumerate}
    From all cases above we get contradictions.
    Thus if \(x = 1\), then \(x^{1 / k} = 1 \ \forall\ k \in \mathbf{N}\) and \(k > 0\).
\end{proof}

\begin{proof}{(f)}
    \begin{align*}
        ((xy)^{1 / n})^n      & = xy                          & \text{(by Lemma \ref{5.6.6}(a))}    \\
                              & = (x^{1 / n})^n (y^{1 / n})^n & \text{(by Lemma \ref{5.6.6}(a))}    \\
                              & = (x^{1 / n} y^{1 / n})^n     & \text{(by Proposition \ref{5.6.3})} \\
        \implies (xy)^{1 / n} & = x^{1 / n} y^{1 / n}.        & \text{(by Lemma \ref{5.6.6}(a))}
    \end{align*}
\end{proof}

\begin{proof}{(g)}
    \begin{align*}
        (x^{1 / nm})^{nm}   & = x                           & \text{(by Lemma \ref{5.6.6}(a))}    \\
                            & = (x^{1 / n})^n               & \text{(by Lemma \ref{5.6.6}(a))}    \\
                            & = (((x^{1 / n})^{1 / m})^m)^n & \text{(by Lemma \ref{5.6.6}(a))}    \\
                            & = ((x^{1 / n})^{1 / m})^{mn}  & \text{(by Proposition \ref{5.6.3})} \\
        \implies x^{1 / nm} & = (x^{1 / n})^{1 / m}.        & \text{(by Lemma \ref{5.6.6}(a))}
    \end{align*}
\end{proof}

\begin{note}
    The observant reader may note that this definition of \(x^{1 / n}\) might possibly be inconsistent with our previous notion of \(x^n\) when \(n = 1\), but it is easy to check that \(x^{1 / 1} = x = x^1\) by using Lemma \ref{5.6.6}, so there is no inconsistency.
\end{note}

\begin{note}
    One consequence of Lemma \ref{5.6.6}(b) is the following cancellation law:
    if \(y\) and \(z\) are positive and \(y^n = z^n\), then \(y = z\).
    This only works when \(y\) and \(z\) are positive;
    for instance, \((-3)^2 = 3^2\), but we cannot conclude from this that \(-3 = 3\).
\end{note}

\begin{definition}\label{5.6.7}
    Let \(x > 0\) be a positive real number, and let \(q\) be a rational number.
    To define \(x^q\), we write \(q = a / b\) for some integer \(a\) and positive integer \(b\), and define
    \[
        x^q \coloneqq (x^{1 / b})^a.
    \]
\end{definition}

\begin{note}
    Every rational \(q\), whether positive, negative, or zero, can be written in the form \(a / b\) where \(a\) is an integer and \(b\) is positive.
    However, the rational number \(q\) can be expressed in the form \(a / b\) in more than one way, for instance \(1 / 2\) can also be expressed as \(2 / 4\) or \(3 / 6\).
    So to ensure that Definition \ref{5.6.7} is well-defined, we need to check that different expressions \(a / b\) give the same formula for \(x^q\).
\end{note}

\begin{lemma}\label{5.6.8}
    Let \(a, a'\) be integers and \(b, b'\) be positive integers such that \(a / b = a' / b'\), and let \(x\) be a positive real number.
    Then we have \((x^{1 / b'})^{a'} = (x^{1 / b})^a\).
\end{lemma}

\begin{proof}
    There are three cases: \(a = 0, a > 0, a < 0\).
    If \(a = 0\), then we must have \(a' = 0\) and so both \((x^{1 / b'})^{a'}\) and \((x^{1 / b})^a\) are equal to 1, so we are done.

    Now suppose that \(a > 0\).
    Then \(a' > 0\), and \(ab' = ba'\).
    Write \(y \coloneqq x^{1 / (ab')} = x^{1 / (ba')}\).
    By Lemma \ref{5.6.6}(g) we have \(y = (x^{1 / b'})^{1 / a}\) and \(y = (x^{1 / b})^{1 / a'}\);
    by Lemma \ref{5.6.6}(a) we thus have \(y^{a'} = x^{1 / b}\) and \(y^a = x^{1 / b'}\).
    Thus we have
    \[
        (x^{1 / b'})^{a'} = (y^a)^{a'} = y^{aa'} = (y^{a'})^a = (x^{1 / b})^a
    \]
    as desired.

    Finally, suppose that \(a < 0\).
    Then we have \((-a) / b = (-a') / b'\).
    But \(-a\) is positive, so the previous case applies and we have \((x^{1 / b'})^{-a'} = (x^{1 / b})^{-a}\).
    Taking the reciprocal of both sides we obtain the result.
\end{proof}

\begin{note}
    Thus \(x^q\) is well-defined for every rational \(q\).
    Definition \ref{5.6.7} is consistent with our old definition for \(x^{1 / n}\) (\(= (x^{1 / n})^1\)) and is also consistent with our old definition for \(x^n\) (\(= (x^{1 / 1})^n\)).
\end{note}

\begin{lemma}\label{5.6.9}
    Let \(x, y > 0\) be positive reals, and let \(q, r\) be rationals.
    \begin{enumerate}
        \item \(x^q\) is a positive real.
        \item \(x^{q + r} = x^q x^r\) and \((x^q)^r = x^{qr}\).
        \item \(x^{-q} = 1 / x^q\).
        \item If \(q > 0\), then \(x > y\) if and only if \(x^q > y^q\).
        \item If \(x > 1\), then \(x^q > x^r\) if and only if \(q > r\).
              If \(x < 1\), then \(x^q > x^r\) if and only if \(q < r\).
    \end{enumerate}
\end{lemma}

\begin{proof}{(a)}
    Let \(q = a / b\), where \(a, b \in \mathbf{Z}\) and \(b > 0\).
    By Definition \ref{5.6.7}, we have \(x^q = (x^{1 / b})^a\).
    Since \(x\) is a positive real, by Lemma \ref{5.6.6}, \(x^{1 / b}\) is also a positive real.
    So by Proposition \ref{5.6.3}, \((x^{1 / b})^a\) is also a positive real.
    Thus \(x^q\) is a positive real.
\end{proof}

\begin{proof}{(b)}
    We first show that \(x^{q + r} = x^q x^r\).
    Let \(q = a / b\) and \(r = c / d\), where \(a, b, c, d \in \mathbf{Z}\) and \(b, d > 0\).
    Then we have
    \begin{align*}
        x^{q + r} & = x^{a / b + c / d}                                                         \\
                  & = x^{(ad + bc) / bd}                  & \text{(by Definition \ref{4.2.2})}  \\
                  & = (x^{1 / bd})^{(ad + bc)}            & \text{(by Definition \ref{5.6.7})}  \\
                  & = (x^{1 / bd})^{ad} (x^{1 / bd})^{bc} & \text{(by Proposition \ref{5.6.3})} \\
                  & = x^{ad / bd} x^{bc / bd}             & \text{(by  Definition \ref{5.6.7})} \\
                  & = x^{a / b} x^{c / d}                 & \text{(by Lemma \ref{5.6.8})}       \\
                  & = x^q x^r.
    \end{align*}

    Now we shot that \((x^q)^r = x^{qr}\).
    Let \(q = a / b\) and \(r = c / d\), where \(a, b, c, d \in \mathbf{Z}\) and \(b, d > 0\).
    Then we have
    \begin{align*}
        x^{qr} & = x^{a / b \times c / d}                                                        \\
               & = x^{ac / bd}                              & \text{(by Definition \ref{4.2.2})} \\
               & = (x^{1 / bd})^{ac}                        & \text{(by Definition \ref{5.6.7})} \\
               & = ((x^{1 / b})^{1 / d})^{ac}               & \text{(by Lemma \ref{5.6.6})}      \\
               & = ((((x^{1 / b})^a)^{1 / a})^{1 / d})^{ac} & \text{(by Lemma \ref{5.6.6})}      \\
               & = (((x^{a / b})^{1 / a})^{1 / d})^{ac}     & \text{(by Definition \ref{5.6.7})} \\
               & = ((x^{a / b})^{1 / ad})^{ac}              & \text{(by Lemma \ref{5.6.6})}      \\
               & = (x^{a / b})^{ac / ad}                    & \text{(by Definition \ref{5.6.7})} \\
               & = (x^{a / b})^{c / d}                      & \text{(by Lemma \ref{5.6.8})}      \\
               & = (x^q)^r.
    \end{align*}
\end{proof}

\begin{proof}{(c)}
    Let \(q = a / b\) where \(a, b \in \mathbf{Z}\) and \(b > 0\).
    Then we have
    \begin{align*}
        x^{-q} & = x^{-a / b}                                              \\
               & = (x^{1 / b})^{-a}  & \text{(by Definition \ref{5.6.7})}  \\
               & = 1 / (x^{1 / b})^a & \text{(by Proposition \ref{5.6.3})} \\
               & = 1 / x^{a / b}     & \text{(by Definition \ref{5.6.7})}  \\
               & = 1 / x^q.
    \end{align*}
\end{proof}

\begin{proof}{(d)}
    Let \(q = a / b\) where \(a, b \in \mathbf{Z}\) and \(a, b > 0\).
    Then we have
    \begin{align*}
                 & x > y                                                               \\
        \implies & x^{1 / b} > y^{1 / b}         & \text{(by Lemma \ref{5.6.6})}       \\
        \implies & (x^{1 / b})^a > (y^{1 / b})^a & \text{(by Proposition \ref{5.6.3})} \\
        \implies & x^{a / b} > y^{a / b}         & \text{(by Definition \ref{5.6.7})}  \\
        \implies & x^q > y^q.
    \end{align*}
    And
    \begin{align*}
                 & x^q > y^q                                                          \\
        \implies & x^{a / b} > y^{a / b}                                              \\
        \implies & (x^{1 / b})^a > (y^{1 / b})^a & \text{(by Definition \ref{5.6.7})} \\
        \implies & x^{1 / b} > y^{1 / b}         & \text{(by Lemma \ref{5.6.6})}      \\
        \implies & x > y.                        & \text{(by Lemma \ref{5.6.6})}
    \end{align*}
    Thus we conclude that \(x > y \iff x^q > y^q\) when \(x, y > 0\) are positive reals and \(q \in \mathbf{Q}\) and \(q > 0\).
\end{proof}

\begin{proof}{(e)}
    Let \(q = a / b\) and \(r = c / d\), where \(a, b, c, d \in \mathbf{Z}\) and \(b, d > 0\).
    We first show that if \(x > 1\), then \(x^q > x^r\) if and only if \(q > r\).
    If \(x > 1\) and \(x^q > x^r\), then we have
    \begin{align*}
                 & x^q > x^r                                                                      \\
        \implies & x^{a / b} > x^{c / d}                                                          \\
        \implies & x^{ad / bd} > x^{bc / bd}                 & \text{(by Lemma \ref{5.6.8})}      \\
        \implies & (x^{1 / bd})^{ad} > (x^{1 / bd})^{bc}     & \text{(by Definition \ref{5.6.7})} \\
        \implies & (x^{1 / bd})^{ad} / (x^{1 / bd})^{bc} > 1 & \text{(by Lemma \ref{5.6.9})(a)}   \\
        \implies & (x^{1 / bd})^{ad} (x^{1 / bd})^{-bc} > 1  & \text{(by Lemma \ref{5.6.9})(c)}   \\
        \implies & (x^{1 / bd})^{ad - bc} > 1.               & \text{(by Definition \ref{5.6.7})}
    \end{align*}
    By Lemma \ref{5.6.9}(d) and Lemma \ref{5.6.6}, \(x > 1 \implies x^{1 / bd} > 1^{1 / bd} = 1\).
    So we have \((x^{1 / bd})^{ad - bc} > 1 \implies ad - bc > 0\).
    Thus \(ad > bc\) and \(q = a / b > c / d = r\).

    If \(x > 1\) and \(q > r\), then we have
    \begin{align*}
                 & q > r                                                                    \\
        \implies & q - r > 0                          & \text{(by Proposition \ref{4.2.9})} \\
        \implies & x^{q - r} > 1^{q - r}              & \text{(by Lemma \ref{5.6.9}(d))}    \\
        \implies & x^{q - r} > 1^{a / b - c / d}                                            \\
        \implies & x^{q - r} > 1^{(ad - bc) / bd}     & \text{(by Definition \ref{4.2.2})}  \\
        \implies & x^{q - r} > (1^{1 / bd})^{ad - bc} & \text{(by Definition \ref{5.6.7})}  \\
        \implies & x^{q - r} > 1^{ad - bc}            & \text{(by Lemma \ref{5.6.6})}       \\
        \implies & x^{q - r} > 1                                                            \\
        \implies & x^{q - r} x^r > x^r                & \text{(by Lemma \ref{5.6.9}(a))}    \\
        \implies & x^{q - r + r} > x^r                & \text{(by Lemma \ref{5.6.9}(b))}    \\
        \implies & x^q > x^r.                         & \text{(by Lemma \ref{5.6.8})}
    \end{align*}
    Thus we conclude that if \(x > 1\), then \(x^q > x^r\) if and only if \(q > r\).

    Next we show that if \(x < 1\), then \(x^q > x^r\) if and only if \(q < r\).
    If \(x < 1\) and \(x^q > x^r\), then we have
    \begin{align*}
                 & x^q > x^r                                                                      \\
        \implies & x^{a / b} > x^{c / d}                                                          \\
        \implies & x^{ad / bd} > x^{bc / bd}                 & \text{(by Lemma \ref{5.6.8})}      \\
        \implies & (x^{1 / bd})^{ad} > (x^{1 / bd})^{bc}     & \text{(by Definition \ref{5.6.7})} \\
        \implies & (x^{1 / bd})^{ad} / (x^{1 / bd})^{bc} > 1 & \text{(by Lemma \ref{5.6.9})(a)}   \\
        \implies & (x^{1 / bd})^{ad} (x^{1 / bd})^{-bc} > 1  & \text{(by Lemma \ref{5.6.9})(c)}   \\
        \implies & (x^{1 / bd})^{ad - bc} > 1.               & \text{(by Definition \ref{5.6.7})}
    \end{align*}
    By Lemma \ref{5.6.9}(d) and Lemma \ref{5.6.6}, \(x < 1 \implies x^{1 / bd} < 1^{1 / bd} = 1\).
    So we have \((x^{1 / bd})^{ad - bc} > 1 \implies ad - bc < 0\).
    Thus \(ad < bc\) and \(q = a / b < c / d = r\).

    If \(x < 1\) and \(q < r\), then we have
    \begin{align*}
                 & q < r                                                                    \\
        \implies & r - q > 0                          & \text{(by Proposition \ref{4.2.9})} \\
        \implies & x^{r - q} < 1^{r - q}              & \text{(by Lemma \ref{5.6.9}(d))}    \\
        \implies & x^{r - q} < 1^{c / d - a / b}                                            \\
        \implies & x^{r - q} < 1^{(bc - ad) / bd}     & \text{(by Definition \ref{4.2.2})}  \\
        \implies & x^{r - q} < (1^{1 / bd})^{bc - ad} & \text{(by Definition \ref{5.6.7})}  \\
        \implies & x^{r - q} < 1^{bc - ad}            & \text{(by Lemma \ref{5.6.6})}       \\
        \implies & x^{r - q} < 1                                                            \\
        \implies & x^{r - q} x^q < x^q                & \text{(by Lemma \ref{5.6.9}(a))}    \\
        \implies & x^{r - q + q} < x^q                & \text{(by Lemma \ref{5.6.9}(b))}    \\
        \implies & x^r < x^q.                         & \text{(by Lemma \ref{5.6.8})}
    \end{align*}
    Thus we conclude that if \(x < 1\), then \(x^q > x^r\) if and only if \(q < r\).
\end{proof}

\exercisesection

\begin{exercise}\label{ex 5.6.1}
    Prove Lemma \ref{5.6.6}.
\end{exercise}

\begin{proof}
    See Lemma \ref{5.6.6}.
\end{proof}

\begin{exercise}\label{ex 5.6.2}
    Prove Lemma \ref{5.6.9}.
\end{exercise}

\begin{proof}
    See Lemma \ref{5.6.9}.
\end{proof}

\begin{exercise}\label{ex 5.6.3}
    If \(x\) is a real number, show that \(\abs*{x} = (x^2)^{1 / 2}\).
\end{exercise}

\begin{proof}
    By Proposition \ref{5.4.7}, exactly one of the following three statements is true:
    \begin{enumerate}
        \item \(x > 0\).
              Then by Definition \ref{5.4.5}, \(\abs*{x} = x\).
              And by Lemma \ref{5.6.6}, \(\abs*{x} = x = (x^2)^{1 / 2}\).
        \item \(x = 0\).
              Then by Definition \ref{5.4.5}, \(\abs*{x} = 0\).
              And by Lemma \ref{5.6.6}, \(\abs*{0} = 0 = (0^2)^{1 / 2}\).
        \item \(x < 0\).
              Then by Definition \ref{5.4.5}, \(\abs*{x} = -x\).
              And by Lemma \ref{5.6.6}, \(-x = ((-x)^2)^{1 / 2}\).
              But by Proposition \ref{5.3.11}, we have \((-x)^2 = (-x)(-x) = x^2\).
              So we have \(\abs*{x} = -x = (x^2)^{1 / 2}\).
    \end{enumerate}
    From all cases above we get \(\abs*{x} = (x^2)^{1 / 2}\).
    Thus we conclude that if \(x\) is a real number, then \(\abs*{x} = (x^2)^{1 / 2}\).
\end{proof}