\section{Subsequences}\label{sec 6.6}

\begin{definition}[Subsequences]\label{6.6.1}
Let \((a_n)_{n = 0}^\infty\) and \((b_n)_{n = 0}^\infty\) be sequences of real numbers.
We say that \((b_n)_{n = 0}^\infty\) is a \emph{subsequence} of \((a_n)_{n = 0}^\infty\) iff there exists a function \(f : \mathbf{N} \to \mathbf{N}\) which is strictly increasing (i.e., \(f(n + 1) > f(n)\) for all \(n \in \mathbf{N}\)) such that
\[
    b_n = a_{f(n)} \text{ for all } n \in \mathbf{N}.
\]
\end{definition}

\setcounter{theorem}{3}
\begin{lemma}\label{6.6.4}
Let \((a_n)_{n = 0}^\infty\) and \((b_n)_{n = 0}^\infty\) be sequences of real numbers.
Then \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
Furthermore, if \((b_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), and \((c_n)_{n = 0}^\infty\) is a subsequence of \((b_n)_{n = 0}^\infty\), then \((c_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
\end{lemma}

\begin{proof}
We first show that \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
Let \(f : \mathbf{N} \to \mathbf{N}\) be a function where \(f(n) = n\).
Since \(f\) is strictly increasing, \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).

Now we show that if \((b_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), and \((c_n)_{n = 0}^\infty\) is a subsequence of \((b_n)_{n = 0}^\infty\), then \((c_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
Since \((b_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), \(\exists\ f : \mathbf{N} \to \mathbf{N}\) such that \(f\) is strictly increasing and \(b_n = a_{f(n)}\).
Since \((c_n)_{n = 0}^\infty\) is a subsequence of \((b_n)_{n = 0}^\infty\), \(\exists\ g : \mathbf{N} \to \mathbf{N}\) such that \(f\) is strictly increasing and \(c_n = b_{g(n)}\).
Let \(h = g \circ f\).
Since \(f\) is strictly increasing, \(n_1 < n_2 \implies f(n_1) < f(n_2)\).
Since \(g\) is strictly increasing, \(f(n_1) < f(n_2) \implies g(f(n_1)) < g(f(n_2))\).
Thus \(h\) is also strictly increasing, and \((c_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\) where \(c_n = a_{g(f(n))}\).
\end{proof}

\begin{proposition}[Subsequences related to limits]\label{6.6.5}
Let \((a_n)_{n = 0}^\infty\) be a sequence of real numbers, and let \(L\) be a real number.
Then the following two statements are logically equivalent (each one implies the other):
\begin{enumerate}
    \item The sequece \((a_n)_{n = 0}^\infty\) converges to \(L\).
    \item Every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\).
\end{enumerate}
\end{proposition}

\begin{proof}
We first show that \((a_n)_{n = 0}^\infty\) converges to \(L\) implies every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\).
Let \((b_n)_{n = 0}^\infty\) be a subsequence of \((a_n)_{n = 0}^\infty\), and let \(f : \mathbf{N} \to \mathbf{N}\) be a function where \(b_n = a_{f(n)}\).
Since \((a_n)_{n = 0}^\infty\) converges to \(L\), \(\forall\ \varepsilon \in \mathbf{R}\) and \(\varepsilon > 0\), \(\exists\ N \in \mathbf{N}\) and \(N \geq 0\) such that \(\abs*{a_n - L} \leq \varepsilon \ \forall\ n \geq N\).
This means \(\forall\ f(n) \geq N\), we also have \(\abs*{a_{f(n)} - L} = \abs*{b_n - L} \leq \varepsilon\).
Thus \((b_n)_{n = 0}^\infty\) also converges to \(L\).
Since \((b_n)_{n = 0}^\infty\) is arbitrary, we thus conclude that \((a_n)_{n = 0}^\infty\) converges to \(L\) implies every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\).

Now we show that every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\) implies \((a_n)_{n = 0}^\infty\) converges to \(L\).
By Lemma \ref{6.6.4}, \((a_n)_{n = 0}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\), so \((a_n)_{n = 0}^\infty\) converges to \(L\).
Thus we conclude that every subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\) implies \((a_n)_{n = 0}^\infty\) converges to \(L\).
\end{proof}

\begin{proposition}[Subsequences related to limit points]\label{6.6.6}
Let \((a_n)_{n = 0}^\infty\) be a sequence of real numbers, and let \(L\) be a real number.
Then the following two statements are logically equivalent.
\begin{enumerate}
    \item \(L\) is a limit point of \((a_n)_{n = 0}^\infty\).
    \item There exists a subsequence of \((a_n)_{n = 0}^\infty\) which converges to \(L\).
\end{enumerate}
\end{proposition}

\begin{proof}
We first show that \(L\) is a limit point of \((a_n)_{n = 0}^\infty\) implies there exists a subsequence of \((a_n)_{n = 0}^\infty\) which converges to \(L\).
Let \(f : \mathbf{N} \to \mathbf{N}\) be a function where \(f(0) = 0\) and \(f(n_j) = \min\{n > n_{j - 1} : \abs*{a_n - L} \leq 1 / j\}\).
Since \(L\) is a limit point of \((a_n)_{n = 0}^\infty\), \(\forall\ \varepsilon \in \mathbf{R}\) and \(\varepsilon \geq 0\), \(\forall\ n_j > 0\), \(\exists\ n \geq n_j\) such that \(\abs*{a_n - L} \leq \varepsilon\).
In particular, \(\abs*{a_n - L} \leq 1 / j\).
Thus such \(f\) exists and \((a_{f(n)})_{n = 1}^\infty\) is a subsequence of \((a_n)_{n = 0}^\infty\).
Since \(\forall\ n \geq 1\) we have \(\abs*{a_{f(n)} - L} \leq \varepsilon\), the sequece \((a_{f(n)})_{n = 1}^\infty\) converges to \(L\), and we are done.

Now we show that a subsequence of \((a_n)_{n = 0}^\infty\) converges to \(L\) implies \(L\) is a limit point of \((a_n)_{n = 0}^\infty\).
Let \((b_n)_{n = 0}^\infty\) be a subsequence of \((a_n)_{n = 0}^\infty\) and \(\lim_{n \to \infty} b_n = L\).
Let \(f : \mathbf{N} \to \mathbf{N}\) be a function where \(b_n = a_{f(n)}\).
Since \(\lim_{n \to \infty} b_n = L\), \(\forall\ \varepsilon \in \mathbf{R}\) and \(\varepsilon > 0\), \(\exists\ n \geq 0\) such that \(\abs*{b_n - L} \leq \varepsilon\).
This means \(\forall\ N \in \mathbf{N}\) and \(N \geq 0\), \(\exists\ n \geq N\) such that \(\abs*{b_n - L} = \abs*{a_{f(n)} - L} \leq \varepsilon\).
Thus \(L\) is a limit point of \((a_n)_{n = 0}^\infty\), and we are done.
\end{proof}

\begin{remark}\label{6.6.7}
Proposition \ref{6.6.5} and \ref{6.6.6} give a sharp contrast between the notion of a limit, and that of a limit point.
When a sequence has a limit \(L\), then all subsequences also converge to \(L\).
But when a sequence has \(L\) as a limit point, then only some subsequences converge to \(L\).
\end{remark}

\begin{note}
We can now prove an important theorem in real analysis, due to Bernard Bolzano (1781--1848) and Karl Weierstrass (1815--1897):
every bounded sequence has a convergent subsequence.
\end{note}

\begin{theorem}[Bolzano-Weierstrass theorem]\label{6.6.8}
Let \((a_n)_{n = 0}^\infty\) be a bounded sequence
(i.e., there exists a real number \(M > 0\) such that \(\abs*{a_n} \leq M\) for all \(n \in \mathbf{N}\)).
Then there is at least one subsequence of \((a_n)_{n = 0}^\infty\) which converges.
\end{theorem}

\begin{proof}
Let \(L\) be the limit superior of the sequence \((a_n)_{n = 0}^\infty\).
Since we have \(-M \leq a_n \leq M\) for all natural numbers \(n\), it follows from the comparison principle (Lemma \ref{6.4.13}) that \(-M \leq L \leq M\).
In particular, \(L\) is a real number (not \(+\infty\) or \(-\infty\)).
By Proposition \ref{6.4.12}(e), \(L\) is thus a limit point of \((a_n)_{n = 0}^\infty\).
Thus by Proposition \ref{6.6.6}, there exists a subsequence of \((a_n)_{n = 0}^\infty\) which converges
(in fact, it converges to \(L\)).
\end{proof}

\begin{note}
we could as well have used the limit inferior instead of the limit superior in the argument of Theorem \ref{6.6.8}.
\end{note}

\begin{remark}\label{6.6.9}
The Bolzano-Weierstrass theorem says that if a sequence is bounded, then eventually it has no choice but to converge in some places;
it has ``no room'' to spread out and stop itself from acquiring limit points.
It is not true for unbounded sequences;
In the language of topology, this means that the interval \(\{x \in \mathbf{R} : -M \leq x \leq M\}\) is \emph{compact}, whereas an unbounded set such as the real line \(\mathbf{R}\) is not compact.
\end{remark}

\exercisesection

\begin{exercise}\label{ex 6.6.1}
Prove Lemma \ref{6.6.4}.
\end{exercise}

\begin{proof}
See Lemma \ref{6.6.4}.
\end{proof}

\begin{exercise}\label{ex 6.6.2}
Can you find two sequences \((a_n)_{n = 0}^\infty\) and \((b_n)_{n = 0}^\infty\) which are not the same sequence, but such that each is a subsequence of the other?
\end{exercise}

\begin{proof}
Let \((a_n)_{n = 0}^\infty = \{0, 1, 0, 1, \dots\}\) and \((b_n)_{n = 0}^\infty = \{1, 0, 1, 0, \dots\}\).
\end{proof}