\section{Finite series}\label{sec 7.1}

\begin{definition}[Finite series]\label{7.1.1}
Let \(m, n\) be integers, and let \((a_i)_{i = m}^n\) be a finite sequence of real numbers, assigning a real number \(a_i\) to each integer \(i\) between \(m\) and \(n\) inclusive (i.e., \(m \leq i \leq n\)).
Then we define the finite sum (or finite series) \(\sum_{i = m}^n a_i\) by the recursive formula
\begin{align*}
& \sum_{i = m}^n a_i \coloneqq 0 \text{ whenever } n < m ; \\
& \sum_{i = m}^{n + 1} a_i \coloneqq \Bigg(\sum_{i = m}^n a_i\Bigg) + a_{n + 1} \text{ whenever } n \geq m - 1.
\end{align*}
\end{definition}

\begin{note}
we sometimes express \(\sum_{i = m}^n a_i\) less formally as
\[
    \sum_{i = m}^n a_i = a_m + a_{m + 1} + \dots + a_n.
\]
\end{note}

\begin{remark}\label{7.1.2}
The difference between ``sum'' and ``series'' is a subtle linguistic one.
Strictly speaking, a series is an \emph{expression} of the form \(\sum_{i = m}^n a_i\);
this series is mathematically (but not semantically) equal to a real number, which is then the \emph{sum} of that series.
For instance, \(1 + 2 + 3 + 4 + 5\) is a series, whose sum is \(15\);
if one were to be very picky about semantics, one would not consider \(15\) a series and one would not consider \(1 + 2 + 3 + 4 + 5\) a sum, despite the two expressions having the same value.
However, we will not be very careful about this distinction as it is purely linguistic and has no bearing on the mathematics;
the expressions \(1 + 2 + 3 + 4 + 5\) and \(15\) are the same number, and thus \emph{mathematically} interchangeable, in the sense of the axiom of substitution, even if they are not semantically interchangeable.
\end{remark}

\begin{remark}\label{7.1.3}
Note that the variable \(i\) (sometimes called the \emph{index of summation}) is a \emph{bound variable} (sometimes called a \emph{dummy variable});
the expression \(\sum_{i = m}^n a_i\) does not actually depend on any quantity named \(i\).
In particular, one can replace the index of summation \(i\) with any other symbol, and obtain the same sum:
\[
    \sum_{i = m}^n a_i = \sum_{j = m}^n a_j.
\]
\end{remark}

\begin{lemma}\label{7.1.4}
    \mbox{}
    \begin{enumerate}
        \item Let \(m \leq n < p\) be integers, and let \(a_i\) be a real number assigned to each integer \(m \leq i \leq p\).
        Then we have
        \[
            \sum_{i = m}^n a_i + \sum_{i = n + 1}^p a_i = \sum_{i = m}^p a_i.
        \]
        \item Let \(m \leq n\) be integers, \(k\) be another integer, and let \(a_i\) be a real number assigned to each integer \(m \leq i \leq n\).
        Then we have
        \[
            \sum_{i = m}^n a_i = \sum_{j = m + k}^{n + k} a_{j - k}.
        \]
        \item Let \(m \leq n\) be integers, and let \(a_i, b_i\) be real numbers assigned to each integer \(m \leq i \leq n\).
        Then we have
        \[
            \sum_{i = m}^n (a_i + b_i) = \Bigg(\sum_{i = m}^n a_i\Bigg) + \Bigg(\sum_{i = m}^n b_i\Bigg).
        \]
        \item Let \(m \leq n\) be integers, and let \(a_i\) be a real number assigned to each integer \(m \leq i \leq n\), and let \(c\) be another real number.
        Then we have
        \[
            \sum_{i = m}^n (ca_i) = c\Bigg(\sum_{i = m}^n a_i\Bigg).
        \]
        \item (Triangle inequality for finite series)
        Let \(m \leq n\) be integers, and let \(a_i\) be a real number assigned to each integer \(m \leq i \leq n\).
        Then we have
        \[
            \abs*{\sum_{i = m}^n a_i} \leq \sum_{i = m}^n \abs*{a_i}.
        \]
        \item (Comparison test for finite series) Let \(m \leq n\) be integers, and let \(a_i\), \(b_i\) be real numbers assigned to each integer \(m \leq i \leq n\).
        Suppose that \(a_i \leq b_i\) for all \(m \leq i \leq n\).
        Then we have
        \[
            \sum_{i = m}^n a_i \leq \sum_{i = m}^n b_i
        \]
    \end{enumerate}
\end{lemma}

\begin{proof}{(a)}
We use induction on \(p\) and start with \(p = m + 1\).
For \(p = m + 1\), we have
\[
    \sum_{i = m}^n a_i + \sum_{i = n + 1}^p a_i = a_m + a_{m + 1} = \sum_{i = m}^p a_i
\]
by Definition \ref{7.1.1}.
Thus the base case holds.
Suppose inductively that for some \(p > m\) the statement holds.
Then for \(p + 1\), we have
\begin{align*}
& \sum_{i = m}^n a_i + \sum_{i = n + 1}^{p + 1} a_i \\
&= \Bigg(\sum_{i = m}^n a_i\Bigg) + \Bigg(\sum_{i = n + 1}^p a_i\Bigg) + a_{p + 1} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^p a_i\Bigg) + a_{p + 1} & \text{(by induction hypothesis)} \\
&= \sum_{i = m}^{p + 1} a_i. & \text{(by Definition \ref{7.1.1})}
\end{align*}
This close the induction.
\end{proof}

\begin{proof}{(b)}
We use induction on \(n\) and start with \(n = m\) to show the statement is true.
For \(n = m\), we have
\begin{align*}
\sum_{j = m + k}^{m + k} a_{j - k} &= \Bigg(\sum_{j = m + k}^{m + k - 1} a_{j - k}\Bigg) + a_{m + k - k} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{j = m + k}^{m + k - 1} a_{j - k}\Bigg) + a_m \\
&= 0 + a_m & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^{m - 1} a_i\Bigg) + a_m & \text{(by Definition \ref{7.1.1})} \\
&= \sum_{i = m}^m a_i. & \text{(by Definition \ref{7.1.1})}
\end{align*}
So the base case holds.
Suppose inductively that for some \(n \geq m\) the statement holds.
Then for \(n + 1\), we have
\begin{align*}
\sum_{j = m + k}^{n + 1 + k} a_{j - k} &= \Bigg(\sum_{j = m + k}^{n + 1 + k - 1} a_{j - k}\Bigg) + a_{n + 1 + k - k} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{j = m + k}^{n + k} a_{j - k}\Bigg) + a_n \\
&= \Bigg(\sum_{i = m}^n a_i\Bigg) + a_n & \text{(by induction hypothesis)} \\
&= \sum_{i = m}^{n + 1} a_i. & \text{(by Definition \ref{7.1.1})}
\end{align*}
This close the induction.
\end{proof}

\begin{proof}{(c)}
We use induction on \(n\) and start with \(n = m\) to show the statement is true.
For \(n = m\), we have
\begin{align*}
\sum_{i = m}^m (a_i + b_i) &= \Bigg(\sum_{i = m}^{m - 1} (a_i + b_i)\Bigg) + a_m + b_m & \text{(by Definition \ref{7.1.1})} \\
&= 0 + a_m + b_m & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^{m - 1} a_i\Bigg) + \Bigg(\sum_{i = m}^{m - 1} b_i\Bigg) + a_m + b_m & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^m a_i\Bigg) + \Bigg(\sum_{i = m}^m b_i\Bigg). & \text{(by Definition \ref{7.1.1})}
\end{align*}
So the base case holds.
Suppose inductively that for some \(n \geq m\) the statement holds.
Then for \(n + 1\), we have
\begin{align*}
\sum_{i = m}^{n + 1} (a_i + b_i) &= \Bigg(\sum_{i = m}^{n + 1 - 1} (a_i + b_i)\Bigg) + a_{n + 1} + b_{n + 1} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^n (a_i + b_i)\Bigg) + a_{n + 1} + b_{n + 1} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^n a_i\Bigg) + \Bigg(\sum_{i = m}^n b_i\Bigg) + a_{n + 1} + b_{n + 1} & \text{(by induction hypothesis)} \\
&= \Bigg(\sum_{i = m}^{n + 1} a_i\Bigg) + \Bigg(\sum_{i = m}^{n + 1} b_i\Bigg). & \text{(by Definition \ref{7.1.1})}
\end{align*}
This close the induction.
\end{proof}

\begin{proof}{(d)}
We use induction on \(n\) and start with \(n = m\) to show the statement is true.
For \(n = m\), we have
\begin{align*}
\sum_{i = m}^m ca_i &= \Bigg(\sum_{i = m}^{m - 1} ca_i\Bigg) + ca_m & \text{(by Definition \ref{7.1.1})} \\
&= 0 + ca_m & \text{(by Definition \ref{7.1.1})} \\
&= c \times 0 + ca_m \\
&= c\Bigg(\sum_{i = m}^{m - 1} a_i\Bigg) + ca_m & \text{(by Definition \ref{7.1.1})} \\
&= c\Bigg(\Bigg(\sum_{i = m}^{m - 1} a_i\Bigg) + a_m\Bigg) \\
&= c\Bigg(\sum_{i = m}^m a_i\Bigg). & \text{(by Definition \ref{7.1.1})}
\end{align*}
So the base case holds.
Suppose inductively that for some \(n \geq m\) the statement holds.
Then for \(n + 1\), we have
\begin{align*}
\sum_{i = m}^{n + 1} ca_i &= \Bigg(\sum_{i = m}^{n + 1 - 1} ca_i\Bigg) + ca_{n + 1} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^n ca_i\Bigg) + ca_{n + 1} \\
&= c\Bigg(\sum_{i = m}^n a_i\Bigg) + ca_{n + 1} & \text{(by induction hypothesis)} \\
&= c\Bigg(\Bigg(\sum_{i = m}^n a_i\Bigg) + a_{n + 1}\Bigg) \\
&= c\Bigg(\sum_{i = m}^{n + 1} a_i\Bigg). & \text{(by Definition \ref{7.1.1})}
\end{align*}
This close the induction.
\end{proof}

\begin{proof}{(e)}
We use induction on \(n\) and start with \(n = m\) to show the statement is true.
For \(n = m\), we have
\begin{align*}
\abs*{\sum_{i = m}^m a_i} &= \abs*{\Bigg(\sum_{i = m}^{m - 1} a_i\Bigg) + a_m} & \text{(by Definition \ref{7.1.1})} \\
&= \abs*{0 + a_m} & \text{(by Definition \ref{7.1.1})} \\
&\leq \abs*{0} + \abs*{a_m} \\
&= \Bigg(\sum_{i = m}^{m - 1} \abs*{a_i}\Bigg) + \abs*{a_m} & \text{(by Definition \ref{7.1.1})} \\
&= \sum_{i = m}^m \abs*{a_i}. & \text{(by Definition \ref{7.1.1})}
\end{align*}
So the base case holds.
Suppose inductively that for some \(n \geq m\) the statement holds.
Then for \(n + 1\), we have
\begin{align*}
\abs*{\sum_{i = m}^{n + 1} a_i} &= \abs*{\Bigg(\sum_{i = m}^{n + 1 - 1} a_i\Bigg) + a_{n + 1}} & \text{(by Definition \ref{7.1.1})} \\
&= \abs*{\Bigg(\sum_{i = m}^n a_i\Bigg) + a_{n + 1}} \\
&\leq \abs*{\sum_{i = m}^n a_i} + \abs*{a_{n + 1}} \\
&\leq \sum_{i = m}^n \abs*{a_i} + \abs*{a_{n + 1}} & \text{(by induction hypothesis)} \\
&= \sum_{i = m}^{n + 1} \abs*{a_i}. & \text{(by Definition \ref{7.1.1})}
\end{align*}
This close the induction.
\end{proof}

\begin{proof}{(f)}
We use induction on \(n\) and start with \(n = m\) to show the statement is true.
For \(n = m\), we have
\begin{align*}
\sum_{i = m}^m a_i &= \Bigg(\sum_{i = m}^{m - 1} a_i\Bigg) + a_m & \text{(by Definition \ref{7.1.1})} \\
&= 0 + a_m = a_m & \text{(by Definition \ref{7.1.1})} \\
&\leq b_m = 0 + b_m & \text{(by the given condition)} \\
&= \Bigg(\sum_{i = m}^{m - 1} b_i\Bigg) + b_m & \text{(by Definition \ref{7.1.1})} \\
&= \sum_{i = m}^m b_i. & \text{(by Definition \ref{7.1.1})} \\
\end{align*}
So the base case holds.
Suppose inductively that for some \(n \geq m\) the statement holds.
Then for \(n + 1\), we have
\begin{align*}
\sum_{i = m}^{n + 1} a_i &= \Bigg(\sum_{i = m}^{n + 1 - 1} a_i\Bigg) + a_{n + 1} & \text{(by Definition \ref{7.1.1})} \\
&= \Bigg(\sum_{i = m}^n a_i\Bigg) + a_{n + 1} \\
&\leq \Bigg(\sum_{i = m}^n b_i\Bigg) + a_{n + 1} & \text{(by induction hypothesis)} \\
&\leq \Bigg(\sum_{i = m}^n b_i\Bigg) + b_{n + 1} & \text{(by the given condition)} \\
&= \sum_{i = m}^{n + 1} b_i. & \text{(by Definition \ref{7.1.1})} \\
\end{align*}
This close the induction.
\end{proof}

\begin{remark}\label{7.1.5}
In the future we may omit some of the parentheses in series expressions, for instance we may write \(\sum_{i = m}^n (a_i + b_i)\) simply as \(\sum_{i = m}^n a_i + b_i\).
This is reasonably safe from being mis-interpreted, because the alternative interpretation \((\sum_{i = m}^n a_i) + b_i\) does not make any sense
(the index \(i\) in \(b_i\) is meaningless outside of the summation, since \(i\) is only a dummy variable).
\end{remark}

\begin{definition}[Summations over finite sets]\label{7.1.6}
Let \(X\) be a finite set with \(n\) elements (where \(n \in \mathbf{N}\)), and let \(f : X \to \mathbf{R}\) be a function from \(X\) to the real numbers
(i.e., \(f\) assigns a real number \(f(x)\) to each element \(x\) of \(X\)).
Then we can define the finite sum \(\sum_{x \in X} f(x)\) as follows.
We first select any bijection \(g\) from \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\) to \(X\);
such a bijection exists since \(X\) is assumed to have \(n\) elements.
We then define
\[
    \sum_{x \in X} f(x) \coloneqq \sum_{i = 1}^n f(g(i))
\]
\end{definition}

\setcounter{theorem}{7}
\begin{proposition}[Finite summations are well-defined]\label{7.1.8}
Let \(X\) be a finite set with \(n\) elements (where \(n \in \mathbf{N}\)), let \(f : X \to \mathbf{R}\) be a function, and let \(g : \{i \in \mathbf{N} : 1 \leq i \leq n\} \to X\) and \(h : \{i \in \mathbf{N} : 1 \leq i \leq n\} \to X\) be bijections.
Then we have
\[
    \sum_{i = 1}^n f(g(i)) = \sum_{i = 1}^n f(h(i)).
\]
\end{proposition}

\begin{proof}
We use induction on \(n\);
more precisely, we let \(P(n)\) be the assertion that ``For any set \(X\) of \(n\) elements, any function \(f : X \to \mathbf{R}\), and any two bijections \(g, h\) from \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\) to \(X\), we have \(\sum_{i = 1}^n f(g(i)) = \sum_{i = 1}^n f(h(i))\)''.
(More informally, \(P(n)\) is the assertion that Proposition \ref{7.1.8} is true for that value of \(n\).)
We want to prove that \(P(n)\) is true for all natural numbers \(n\).

We first check the base case \(P(0)\).
In this case \(\sum_{i = 1}^0 f(g(i))\) and \(\sum_{i = 1}^0 f(h(i))\) both equal to \(0\), by definition of finite series (Definition \ref{7.1.1}), so we are done.

Now suppose inductively that \(P(n)\) is true;
we now prove that \(P(n + 1)\) is true.
Thus, let \(X\) be a set with \(n + 1\) elements, let \(f : X \to \mathbf{R}\) be a function, and let \(g\) and \(h\) be bijections from \(\{i \in N : 1 \leq i \leq n + 1\}\) to \(X\).
We have to prove that
\[
    \sum_{i = 1}^{n + 1} f(g(i)) = \sum_{i = 1}^{n + 1} f(h(i)). \tag{7.1}\label{eq 7.1}
\]
Let \(x \coloneqq g(n + 1)\);
thus \(x\) is an element of \(X\).
By definition of finite series (Definition \ref{7.1.1}), we can expand the left-hand side of \eqref{eq 7.1} as
\[
    \sum_{i = 1}^{n + 1} f(g(i)) = \Bigg(\sum_{i = 1}^n f(g(i))\Bigg) + f(x).
\]
Now let us look at the right-hand side of \eqref{eq 7.1}.
Ideally we would like to have \(h(n + 1)\) also equal to \(x\)
- this would allow us to use the inductive hypothesis \(P(n)\) much more easily
- but we cannot assume this.
However, since \(h\) is a bijection, we do know that there is \emph{some} index \(j\), with \(1 \leq j \leq n + 1\), for which \(h(j) = x\).
We now use Lemma \ref{7.1.4} and the definition of finite series (Definition \ref{7.1.1}) to write
\begin{align*}
\sum_{i = 1}^{n + 1} f(h(i)) &= \Bigg(\sum_{i = 1}^j f(h(i))\Bigg) + \Bigg(\sum_{i = j + 1}^{n + 1} f(h(i))\Bigg) \\
&= \Bigg(\sum_{i = 1}^{j - 1} f(h(i))\Bigg) + f(h(j)) + \Bigg(\sum_{i = j + 1}^{n + 1} f(h(i))\Bigg) \\
&= \Bigg(\sum_{i = 1}^{j - 1} f(h(i))\Bigg) + f(x) + \Bigg(\sum_{i = j}^n f(h(i + 1))\Bigg).
\end{align*}
We now define the function \(\tilde{h} : \{i \in \mathbf{N} : 1 \leq i \leq n\} \to X - \{x\}\) by setting \(\tilde{h}(i) \coloneqq h(i)\) when \(i < j\) and \(\tilde{h}(i) \coloneqq h(i + 1)\) when \(i \geq j\).
We can thus write the right-hand side of \eqref{eq 7.1} as
\[
    = \Bigg(\sum_{i = 1}^{j - 1} f(\tilde{h}(i))\Bigg) + f(x) + \Bigg(\sum_{i = j}^n f(\tilde{h}(i))\Bigg) = \Bigg(\sum_{i = 1}^n f(\tilde{h}(i))\Bigg) + f(x)
\]
where we have used Lemma \ref{7.1.4} once again.
Thus to finish the proof of \eqref{eq 7.1} we have to show that
\[
    \sum_{i = 1}^n f(g(i)) = \sum_{i = 1}^n f(\tilde{h}(i)). \tag{7.2}\label{eq 7.2}
\]
But the function \(g\) (when restricted to \(\{i \in \mathbf{N} : 1 \leq i \leq n\}\)) is a bijection from \(\{i \in \mathbf{N} : 1 \leq i \leq n\} \to X - \{x\}\).
The function \(\tilde{h}\) is also a bijection from \(\{i \in \mathbf{N} : 1 \leq i \leq n\} \to X - \{x\}\) (cf. Lemma \ref{3.6.9}).
Since \(X - \{x\}\) has \(n\) elements (by Lemma \ref{3.6.9}), the claim \eqref{eq 7.2} then follows directly from the induction hypothesis \(P(n)\).
\end{proof}

\begin{remark}\label{7.1.9}
The issue is somewhat more complicated when summing over infinite sets.
\end{remark}

\begin{remark}\label{7.1.10}
Suppose that \(X\) is a set, that \(P(x)\) is a property pertaining to an element \(x\) of \(X\), and \(f : \{y \in X : P(y) \text{ is true}\} \to \mathbf{R}\) is a function.
Then we will often abbreviate
\[
    \sum_{x \in \{y \in X : P(y) \text{ is true}\}} f(x)
\]
as \(\sum_{x \in X : P(x) \text{ is true}} f(x)\) or even as \(\sum_{P(x) \text{ is true}} f(x)\) when there is no change of confusion.
\end{remark}

\begin{proposition}[Basic properties of summation over finite sets]\label{7.1.11}
\mbox{}
    \begin{enumerate}
    \item If \(X\) is empty, and \(f : X \to \mathbf{R}\) is a function (i.e., \(f\) is the empty function), we have
    \[
        \sum_{x \in X} f(x) = 0.
    \]
    \item If \(X\) consists of a single element, \(X = \{x_0\}\), and \(f : X \to \mathbf{R}\) is a function, we have
    \[
        \sum_{x \in X} f(x) = f(x_0).
    \]
    \item (Substitution, part I) If \(X\) is a finite set, \(f : X \to \mathbf{R}\) is a function, and \(g : Y \to X\) is a bijection, then
    \[
        \sum_{x \in X} f(x) = \sum_{y \in Y} f(g(y)).
    \]
    \item (Substitution, part II) Let \(n \leq m\) be integers, and let \(X\) be the set \(X \coloneqq \{i \in \mathbf{Z} : n \leq i \leq m\}\).
    If \(a_i\) is a real number assigned to each integer \(i \in X\), then we have
    \[
        \sum_{i = n}^m a_i = \sum_{i \in X} a_i.
    \]
    \item Let \(X, Y\) be disjoint finite sets (so \(X \cap Y = \emptyset\)), and \(f : X \cup Y \to \mathbf{R}\) is a function.
    Then we have
    \[
        \sum_{z \in X \cup Y} f(z) = \Bigg(\sum_{x \in X} f(x)\Bigg) + \Bigg(\sum_{y \in Y} f(y)\Bigg).
    \]
    \item (Linearity, part I) Let \(X\) be a finite set, and let \(f : X \to \mathbf{R}\) and \(g : X \to \mathbf{R}\) be functions.
    Then
    \[
        \sum_{x \in X} (f(x) + g(x)) = \sum_{x \in X} f(x) + \sum_{x \in X} g(x).
    \]
    \item (Linearity, part II ) Let \(X\) be a finite set, let \(f : X \to \mathbf{R}\) be a function, and let \(c\) be a real number.
    Then
    \[
        \sum_{x \in X} cf(x) = c\sum_{x \in X} f(x).
    \]
    \item (Monotonicity) Let \(X\) be a finite set, and let \(f : X \to \mathbf{R}\) and \(g : X \to \mathbf{R}\) be functions such that \(f(x) \leq g(x)\) for all \(x \in \mathbf{X}\).
    Then we have
    \[
        \sum_{x \in X} f(x) \leq \sum_{x \in X} g(x).
    \]
    \item (Triangle inequality) Let \(X\) be a finite set, and let \(f : X \to \mathbf{R}\) be a function, then
    \[
        \abs{\sum_{x \in X} f(x)} \leq \sum_{x \in X} \abs{f(x)}.
    \]
    \end{enumerate}
\end{proposition}

\begin{proof}{(a)}
Let \(g : \{i \in \mathbf{N} : 1 \leq i \leq 0\} \to \emptyset\) be a function.
Then \(g\) is a bijection.
So
\begin{align*}
\sum_{x \in X} f(x) &= \sum_{i = 1}^0 f(g(i)) & \text{(by Definition \ref{7.1.6})} \\
&= 0. & \text{(by Definition \ref{7.1.1})}
\end{align*}
\end{proof}

\begin{proof}{(b)}
Let \(g : \{1\} \to X\) be a function.
Then \(g\) is a bijection.
So
\begin{align*}
\sum_{x \in X} f(x) &= \sum_{i = 1}^1 f(g(i)) & \text{(by Definition \ref{7.1.6})} \\
&= \bigg(\sum_{i = 1}^0 f(g(i))\bigg) + f(g(1)) & \text{(by Definition \ref{7.1.1})} \\
&= 0 + f(g(1)) & \text{(by Definition \ref{7.1.1})} \\
&= f(x_0).
\end{align*}
\end{proof}

\begin{proof}{(c)}
Let \(h : \{i \in \mathbf{N} : 1 \leq i \leq \#(Y)\} \to Y\) be a bijection.
Then \(g \circ h : \) is also a bijection.
So
\begin{align*}
\sum_{x \in X} f(x) &= \sum_{i = 1}^{\#(Y)} f((g \circ h)(i)) & \text{(by Definition \ref{7.1.6})} \\
&= \sum_{i = 1}^{\#(Y)} f(g(h(i))) \\
&= \sum_{i = 1}^{\#(Y)} (f \circ g)(h(i)) \\
&= \sum_{y \in Y} (f \circ g)(y) & \text{(by Definition \ref{7.1.6})} \\
&= \sum_{y \in Y} f(g(y)).
\end{align*}
\end{proof}

\begin{proof}{(d)}
Let \(f : X \to \{a_i \in \mathbf{R} : n \leq i \leq m\}\) be a function where \(f = i \mapsto a_i\).
Let \(g : \{i \in \mathbf{N} : 1 \leq i \leq m - n + 1\} \to X\) be a function where \(g = i \mapsto i + n - 1\).
Then \(g\) is a bijection.
So
\begin{align*}
\sum_{i \in X} a_i &= \sum_{i \in X} f(i) \\
&= \sum_{i = 1}^{m - n + 1} f(g(i)) & \text{(by Definition \ref{7.1.6})} \\
&= \sum_{i = 1 + n - 1}^{m - n + 1 + n - 1} f(g(i - n + 1)) & \text{(by Lemma \ref{7.1.4})} \\
&= \sum_{i = n}^m f(g(i - n + 1)) \\
&= \sum_{i = n}^m f(i - n + 1 + n - 1) \\
&= \sum_{i = n}^m f(i) \\
&= \sum_{i = n}^m a_i.
\end{align*}
\end{proof}

\begin{proof}{(e)}
Let \(g : \{i \in \mathbf{N} : 1 \leq i \leq \#(X)\} \to X\) and \(h : \{i \in \mathbf{N} : 1 \leq i \leq \#(Y)\} \to Y\) be bijections.
Let \(k : \{i \in \mathbf{N} : 1 \leq i \leq \#(X \cup Y)\} \to X \cup Y\) be a function where \(k(i) = g(i)\) if \(1 \leq i \leq \#(X)\) and \(k(i) = h(i - \#(X))\) otherwise.
Then \(k\) is a bijection.
So
\begin{align*}
\sum_{z \in X \cup Y} f(z) &= \sum_{i = 1}^{\#(X \cup Y)} f(k(i)) & \text{(by Definition \ref{7.1.6})} \\
&= \sum_{i = 1}^{\#(X)} f(k(i)) + \sum_{i = \#(X) + 1}^{\#(X \cup Y)} f(k(i)) & \text{(by Lemma \ref{7.1.4})} \\
&= \sum_{i = 1}^{\#(X)} f(g(i)) + \sum_{i = \#(X) + 1}^{\#(X \cup Y)} f(h(i - \#(X))) \\
&= \sum_{i = 1}^{\#(X)} f(g(i)) + \sum_{i = 1}^{\#(Y)} f(h(i)) & \text{(by Lemma \ref{7.1.4})} \\
&= \sum_{x \in X} f(x) + \sum_{y \in Y} f(y). & \text{(by Definition \ref{7.1.6})}
\end{align*}
\end{proof}

\begin{proof}{(f)}

\end{proof}

\begin{proof}{(g)}

\end{proof}

\begin{proof}{(h)}

\end{proof}

\begin{proof}{(i)}

\end{proof}

\exercisesection

\begin{exercise}\label{ex 7.1.1}
Prove Lemma \ref{7.1.4}.
\end{exercise}

\begin{proof}
See Lemma \ref{7.1.4}.
\end{proof}

\begin{exercise}\label{ex 7.1.2}
Prove Proposition \ref{7.1.11}.
\end{exercise}

\begin{proof}
See Proposition \ref{7.1.11}.
\end{proof}