\section{Limiting values of functions}\label{sec 9.3}

\begin{definition}[\(\varepsilon\)-closeness]\label{9.3.1}
    Let \(X\) be a subset of \(\mathbf{R}\), let \(f : X \to \mathbf{R}\) be a function, let \(L\) be a real number, and let \(\varepsilon > 0\) be a real number.
    We say that the function \(f\) is \emph{\(\varepsilon\)-close to \(L\)} iff \(f(x)\) is \(\varepsilon\)-close to \(L\) for every \(x \in X\).
\end{definition}

\setcounter{theorem}{2}
\begin{definition}[Local \(\varepsilon\)-closeness]\label{9.3.3}
    Let \(X\) be a subset of \(\mathbf{R}\), let \(f : X \to \mathbf{R}\) be a function, let \(L\) be a real number, \(x_0\) be an adherent point of \(X\), and \(\varepsilon > 0\) be a real number.
    We say that \(f\) is \emph{\(\varepsilon\)-close to \(L\) near \(x_0\)} iff there exists a \(\delta > 0\) such that \(f\) becomes \(\varepsilon\)-close to \(L\) when restricted to the set \(\{x \in X : \abs*{x - x_0} < \delta\}\).
\end{definition}

\setcounter{theorem}{5}
\begin{definition}[Convergence of functions at a point]\label{9.3.6}
    Let \(X\) be a subset of \(\mathbf{R}\), let \(f : X \to \mathbf{R}\) be a function, let \(E\) be a subset of \(X\), \(x_0\) be an adherent point of \(E\), and let \(L\) be a real number.
    We say that \emph{\(f\) converges to \(L\) at \(x_0\) in \(E\)}, and write \(\lim_{x \to x_0 ; x \in E} f(x) = L\), iff \(f\), after restricting to \(E\), is \(\varepsilon\)-close to \(L\) near \(x_0\) for every \(\varepsilon > 0\).
    If \(f\) does not converge to any number \(L\) at \(x_0\), we say that \emph{\(f\) diverges at \(x_0\)}, and leave \(\lim_{x \to x_0 ; x \in E} f(x)\) undefined.
\end{definition}

\begin{note}
    In other words, we have \(\lim_{x \to x_0 ; x \in E} f(x) = L\) iff for every \(\varepsilon > 0\), there exists a \(\delta > 0\) such that \(\abs*{f(x) - L} \leq \varepsilon\) for all \(x \in E\) such that \(\abs*{x - x_0} < \delta\).
\end{note}

\begin{remark}\label{9.3.7}
    In many cases we will omit the set \(E\) from the above notation (i.e., we will just say that \(f\) converges to \(L\) at \(x_0\), or that \(\lim_{x \to x_0} f(x) = L\)), although this is slightly dangerous.
    For instance, it sometimes makes a difference whether \(E\) actually contains \(x_0\) or not.
    To give an example, if \(f : \mathbf{R} \to \mathbf{R}\) is the function defined by setting \(f(x) = 1\) when \(x = 0\) and \(f(x) = 0\) when \(x \neq 0\), then one has \(\lim_{x \to 0 ; x \in \mathbf{R} \setminus \{0\}} f(x) = 0\), but \(\lim_{x \to 0 ; x \in \mathbf{R}} f(x)\) is undefined.
    Some authors only define the limit \(\lim_{x \to x_0 ; x \in E} f(x)\) when \(E\) does not contain \(x_0\) (so that \(x_0\) is now a limit point of \(E\) rather than an adherent point), or would use \(\lim_{x \to x_0 ; x \in E} f(x)\) to denote what we would call \(\lim_{x \in x_0 ; x \in E \setminus \{x_0\}} f(x)\), but we have chosen a slightly more general notation, which allows the possibility that \(E\) contains \(x_0\).
\end{remark}

\setcounter{theorem}{8}
\begin{proposition}\label{9.3.9}
    Let \(X\) be a subset of \(\mathbf{R}\), let \(f : X \to \mathbf{R}\) be a function, let \(E\) be a subset of \(X\), let \(x_0\) be an adherent point of \(E\), and let \(L\) be a real number.
    Then the following two statements are logically equivalent:
    \begin{enumerate}
        \item \(f\) converges to \(L\) at \(x_0\) in \(E\).
        \item For every sequence \((a_n)_{n = 0}^\infty\) which consists entirely of elements of \(E\) and converges to \(x_0\), the sequence \((f(a_n))_{n = 0}^\infty\) converges to \(L\).
    \end{enumerate}
\end{proposition}

\begin{proof}
    We first show that the first statement implies the second statement.
    Since \(f\) converges to \(L\) at \(x_0\) in \(E\), by Definition \ref{9.3.6} we have
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in E, \abs*{x - x_0} < \delta \implies \abs*{f(x) - L} \leq \varepsilon\bigg).
    \]
    Now we fix \(\varepsilon\), and we have some \(\delta\) satisfying the statement above, we also fix such \(\delta\).
    Let \((a_n)_{n = 0}^\infty\) be a sequence which consists entirely of elements of \(E\) and \(\lim_{n \to \infty} a_n = x_0\).
    By Definition \ref{6.1.5} we have
    \[
        \forall\ \varepsilon' \in \mathbf{R}^+, \exists\ n \in \mathbf{N} : \abs*{a_N - x_0} \leq \varepsilon' \ \forall\ N \geq n.
    \]
    In particular, we have
    \[
        \forall\ \varepsilon' < \delta, \exists\ n \in \mathbf{N} : \abs*{a_N - x_0} \leq \varepsilon' < \delta \ \forall\ N \geq n.
    \]
    Since \((a_n)_{n = 0}^\infty\) consists entirely of elements of \(E\), we have
    \[
        \abs*{a_N - x_0} < \delta \implies \abs*{f(a_N) - L} \leq \varepsilon.
    \]
    Since \(\varepsilon\) is arbitrary, we have showed that
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ n \in \mathbf{N} : \abs*{f(a_N) - L} \leq \varepsilon \ \forall\ N \geq n
    \]
    and by Definition \ref{6.1.5} we have \(\lim_{n \to \infty} f(a_n) = L\).

    Now we show that the second statement implies the first statement.
    Suppose for sake of contradiction that \(f\) does not converge to \(L\) at \(x_0\) in \(E\).
    Then by Definition \ref{9.3.6} we have
    \[
        \exists\ \varepsilon \in \mathbf{R}^+ : \forall\ \delta \in \mathbf{R}^+, \bigg(\forall\ x \in E, \big(\abs*{x - x_0} < \delta\big) \land \big(\abs*{f(x) - L} > \varepsilon\big)\bigg).
    \]
    Let \((a_n)_{n = 0}^\infty\) be a sequence which consists entirely of elements of \(E\) and \(\lim_{n \to \infty} a_n = x_0\).
    By hypothesis we have \(\lim_{n \to \infty} f(a_n) = L\).
    By Definition \ref{6.1.5}, the following two statements are true:
    \begin{align*}
         & \exists\ n_1 \in \mathbf{N} : \abs*{a_{N_1} - x_0} \leq \frac{\delta}{2} < \delta \ \forall\ N_1 \geq n_1 \\
         & \exists\ n_2 \in \mathbf{N} : \abs*{f(a_{N_2}) - L} \leq \varepsilon \ \forall\ N_2 \geq n_2
    \end{align*}
    Let \(n = \max(n_1, n_2)\).
    Then we have
    \[
        \forall\ N \geq n, \big(\abs*{a_N - x_0} < \delta\big) \land \big(\abs*{f(a_N) - L} \leq \varepsilon\big).
    \]
    But \(a_N \in E\), so this contradict to \(\abs*{f(a_N) - L} > \varepsilon\).
    Thus \(f\) must converge to \(L\) at \(x_0\) in \(E\).
\end{proof}

\begin{note}
    In view of Proposition \ref{9.3.9}, we will sometimes write ``\(f(x) \to L\) as \(x \to x_0\) in \(E\)'' or ``\(f\) has a limit \(L\) at \(x_0\) in \(E\)'' instead of ``\(f\) converges to \(L\) at \(x_0\)'', or ``\(\lim_{x \to x_0} f(x) = L\)''.
\end{note}

\begin{remark}\label{9.3.10}
    With the notation of Proposition \ref{9.3.9}, we have the following corollary:
    if \(\lim_{x \to x_0 ; x \in E} f(x) = L\), and \(\lim_{n \to \infty} a_n = x_0\), then \(\lim_{n \to \infty} f(a_n) = L\).
\end{remark}

\begin{remark}\label{9.3.11}
    We only consider limits of a function \(f\) at \(x_0\) in the case when \(x_0\) is an adherent point of \(E\).
    When \(x_0\) is not an adherent point then it is not worth it to define the concept of a limit.
\end{remark}

\begin{remark}\label{9.3.12}
    The variable \(x\) used to denote a limit is a dummy variable;
    we could replace it by any other variable and obtain exactly the same limit.
    For instance, if \(\lim_{x \to x_0 ; x \in E} f(x) = L\), then \(\lim_{y \to x_0 ; y \in E} f(y) = L\), and conversely.
    (Since \(x \in \mathbf{R}\).)
\end{remark}

\begin{corollary}\label{9.3.13}
    Let \(X\) be a subset of \(\mathbf{R}\), let \(E\) be a subset of \(X\), let \(x_0\) be an adherent point of \(E\), and let \(f : X \to \mathbf{R}\) be a function.
    Then \(f\) can have at most one limit at \(x_0\) in \(E\).
\end{corollary}

\begin{proof}
    Suppose for sake of contradiction that there are two distinct numbers \(L\) and \(L'\) such that \(f\) has a limit \(L\) at \(x_0\) in \(E\), and such that \(f\) also has a limit \(L'\) at \(x_0\) in \(E\).
    Since \(x_0\) is an adherent point of \(E\), we know by Lemma \ref{9.1.14} that there is a sequence \((a_n)_{n = 0}^\infty\) consisting of elements in \(E\) which converges to \(x_0\).
    Since \(f\) has a limit \(L\) at \(x_0\) in \(E\), we thus see by Proposition \ref{9.3.9}, that \((f(a_n))_{n = 0}^\infty\) converges to \(L\).
    But since \(f\) also has a limit \(L'\) at \(x_0\) in \(E\), we see that \((f(a_n))_{n = 0}^\infty\) also converges to \(L'\).
    But this contradicts the uniqueness of limits of sequences (Proposition \ref{6.1.7}).
\end{proof}

\begin{proposition}[Limit laws for functions]\label{9.3.14}
    Let \(X\) be a subset of \(R\), let \(E\) be a subset of \(X\), let \(x_0\) be an adherent point of \(E\), and let \(f : X \to \mathbf{R}\) and \(g : X \to \mathbf{R}\) be functions.
    Suppose that \(f\) has a limit \(L\) at \(x_0\) in \(E\), and \(g\) has a limit \(M\) at \(x_0\) in \(E\).
    Then \(f + g\) has a limit \(L + M\) at \(x_0\) in \(E\), \(f - g\) has a limit \(L - M\) at \(x_0\) in \(E\), \(\max(f, g\)) has a limit \(\max(L, M)\) at \(x_0\) in \(E\), \(\min(f, g)\) has a limit \(\min(L, M)\) at \(x_0\) in \(E\) and \(fg\) has a limit \(LM\) at \(x_0\) in \(E\).
    If \(c\) is a real number, then \(cf\) has a limit \(cL\) at \(x_0\) in \(E\).
    Finally, if \(g\) is non-zero on \(E\) (i.e., \(g(x) \neq 0\) for all \(x \in E\)) and \(M\) is non-zero, then \(f / g\) has a limit \(L / M\) at \(x_0\) in \(E\).
\end{proposition}

\begin{proof}
    Since \(x_0\) is an adherent point of \(E\), we know by Lemma \ref{9.1.14} that there is a sequence \((a_n)_{n = 0}^\infty\) consisting of elements in \(E\), which converges to \(x_0\).
    Since \(f\) has a limit \(L\) at \(x_0\) in \(E\), we thus see by Proposition \ref{9.3.9}, that \((f(a_n))_{n = 0}^\infty\) converges to \(L\).
    Similarly \((g(a_n))_{n = 0}^\infty\) converges to \(M\).

    By the limit laws for sequences (Theorem \ref{6.1.19}) we conclude that \(((f + g)(a_n))_{n = 0}^\infty\) converges to \(L + M\).
    By Proposition \ref{9.3.9} again, this implies that \(f + g\) has a limit \(L + M\) at \(x_0\) in \(E\)
    (since \((a_n)_{n = 0}^\infty\) was an arbitrary sequence in \(E\) converging to \(x_0\)).

    Similarly, By the limit laws for sequences (Theorem \ref{6.1.19}) we conclude that \(((f - g)(a_n))_{n = 0}^\infty\) converges to \(L - M\).
    By Proposition \ref{9.3.9} again, this implies that \(f - g\) has a limit \(L - M\) at \(x_0\) in \(E\).

    Similarly, By the limit laws for sequences (Theorem \ref{6.1.19}) we conclude that \((\max(f, g)(a_n))_{n = 0}^\infty\) converges to \(\max(L, M)\).
    By Proposition \ref{9.3.9} again, this implies that \(\max(f, g)\) has a limit \(\max(L, M)\) at \(x_0\) in \(E\).

    Similarly, By the limit laws for sequences (Theorem \ref{6.1.19}) we conclude that \((\min(f, g)(a_n))_{n = 0}^\infty\) converges to \(\min(L, M)\).
    By Proposition \ref{9.3.9} again, this implies that \(\min(f, g)\) has a limit \(\min(L, M)\) at \(x_0\) in \(E\).

    Similarly, By the limit laws for sequences (Theorem \ref{6.1.19}) we conclude that \(((fg)(a_n))_{n = 0}^\infty\) converges to \(LM\).
    By Proposition \ref{9.3.9} again, this implies that \(fg\) has a limit \(LM\) at \(x_0\) in \(E\).

    Similarly, By the limit laws for sequences (Theorem \ref{6.1.19}) we conclude that \(((cf)(a_n))_{n = 0}^\infty\) converges to \(cL\).
    By Proposition \ref{9.3.9} again, this implies that \(cf\) has a limit \(cL\) at \(x_0\) in \(E\).

    Now suppose that \(\forall\ x \in E, g(x) \neq 0\) and \(M \neq 0\).
    Using similar arguments above we know by the limit laws for sequences (Theorem \ref{6.1.19}) that \(((f / g)(a_n))_{n = 0}^\infty\) converges to \(L / M\).
    By Proposition \ref{9.3.9} again, this implies that \(f / g\) has a limit \(L / M\) at \(x_0\) in \(E\).
\end{proof}

\begin{remark}\label{9.3.15}
    One can phrase Proposition \ref{9.3.14} more informally as saying that
    \begin{align*}
        \lim_{x \to x_0} (f \pm g)(x)  & = \lim_{x \to x_0} f(x) \pm \lim_{x \to x_0} g(x)              \\
        \lim_{x \to x_0} \max(f, g)(x) & = \max\bigg(\lim_{x \to x_0} f(x), \lim_{x \to x_0} g(x)\bigg) \\
        \lim_{x \to x_0} \min(f, g)(x) & = \min\bigg(\lim_{x \to x_0} f(x), \lim_{x \to x_0} g(x)\bigg) \\
        \lim_{x \to x_0} (fg)(x)       & = \lim_{x \to x_0} f(x) \lim_{x \to x_0} g(x)                  \\
        \lim_{x \to x_0} (f / g)(x)    & = \frac{\lim_{x \to x_0} f(x)}{\lim_{x \to x_0} g(x)}
    \end{align*}
    (where we have dropped the restriction \(x \in E\) for brevity)
    but bear in mind that these identities are only true when the right-hand side makes sense, and furthermore for the final identity we need \(g\) to be non-zero, and also \(\lim_{x \to x_0} g(x)\) to be non-zero.
\end{remark}

\begin{note}
    If \(f\) converges to \(L\) at \(x_0\) in \(X\), and \(Y\) is any subset of \(X\) such that \(x_0\) is still an adherent point of \(Y\), then \(f\) will also converge to \(L\) at \(x_0\) in \(Y\)
    (Since \(Y \subseteq X \subseteq \mathbf{R}\)).
    Thus convergence on a large set implies convergence on a smaller set.
    The converse, however, is not true.
\end{note}

\begin{example}\label{9.3.16}
    Consider the \emph{signum function} \(\text{sgn} : \mathbf{R} \to \mathbf{R}\), defined by
    \[
        \text{sgn}(x) \coloneqq \begin{cases}
            1  & \text{if } x > 0 \\
            0  & \text{if } x = 0 \\
            -1 & \text{if } x < 0
        \end{cases}
    \]
    Then \(\lim_{x \to 0 ; x \in (0, \infty)} \text{sgn}(x) = 1\), whereas \(\lim_{x \to 0 ; x \in (-\infty, 0)} = -1\) and \(\lim_{x \to 0 ; x \in \mathbf{R}} \text{sgn}(x)\) is undefined.
    Thus it is sometimes dangerous to drop the set \(X\) from the notation of limit.
    However, in many cases it is safe to do so.
\end{example}

\begin{example}\label{9.3.17}
    Let \(f(x)\) be the function
    \[
        f(x) \coloneqq \begin{cases}
            1 & \text{if } x = 0     \\
            0 & \text{if } x \neq 0.
        \end{cases}
    \]
    Then \(\lim_{x \to 0 ; x \in \mathbf{R} \setminus \{0\}} f(x) = 0\), but \(\lim_{x \to 0 ; x \in \mathbf{R}} f(x)\) is undefined.
    (When this happens, we say that \(f\) has a ``removable singularity'' or ``removable discontinuity'' at \(0\).
    Because of such singularities, it is sometimes the convention when writing \(\lim_{x \to x_0} f(x)\) to automatically exclude \(x_0\) from the set;
    for instance, in the textbook, \(\lim_{x \to x_0} f(x)\) is used as shorthand for \(\lim_{x \to x_0 ; x \in X \setminus \{x_0\}} f(x)\).)
\end{example}