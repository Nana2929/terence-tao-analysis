\section{Left and right limits}\label{sec 9.5}

\begin{definition}[Left and right limits]\label{9.5.1}
    Let \(X\) be a subset of \(\mathbf{R}\), \(f : X \to \mathbf{R}\) be a function, and let \(x_0\) be a real number.
    If \(x_0\) is an adherent point of \(X \cap (x_0, \infty)\), then we define the \emph{right limit} \(f(x_0+)\) of \(f\) at \(x_0\) by the formula
    \[
        f(x_0+) \coloneqq \lim_{x \to x_0 ; x \in X \cap (x_0, \infty)} f(x),
    \]
    provided of course that this limit exists.
    Similarly, if \(x_0\) is an adherent point of \(X \cap (-\infty, x_0)\), then we define the \emph{left limit} \(f(x_0-)\) of \(f\) at \(x_0\) by the formula
    \[
        f(x_0-) \coloneqq \lim_{x \to x_0 ; x \in X \cap (-\infty, x_0)} f(x),
    \]
    again provided that the limit exists.
    (Thus in many cases \(f(x_0+)\) and \(f(x_0-)\) will not be defined.)
    Sometimes we use the shorthand notations
    \begin{align*}
        \lim_{x \to x_0+} f(x) & \coloneqq \lim_{x \to x_0 ; x \in X \cap (x_0, \infty)} f(x); \\
        \lim_{x \to x_0-} f(x) & \coloneqq \lim_{x \to x_0 ; x \in X \cap (-\infty, x_0)} f(x)
    \end{align*}
    when the domain \(X\) of \(f\) is clear from context.
\end{definition}

\begin{note}
    From Proposition \ref{9.3.9} we see that if the right limit \(f(x_0+)\) exists, and \((a_n)_{n = 0}^\infty\) is a sequence in \(X\) converging to \(x_0\) from the right (i.e., \(a_n > x_0\) for all \(n \in \mathbf{N}\)), then \(\lim_{n \to \infty} f(a_n) = f(x_0+)\).
    Similarly, if \((b_n)_{n = 0}^\infty\) is a sequence converging to \(x_0\) from the left (i.e., \(a_n < x_0\) for all \(n \in \mathbf{N}\)) then \(\lim_{n \to \infty} f(a_n) = f(x_0-)\).
\end{note}

\begin{additional corollary}\label{ac 9.5.1}
Let \(x_0\) be an adherent point of both \(X \cap (x_0, \infty)\) and \(X \cap (-\infty, x_0)\).
If \(f\) is continuous at \(x_0\), then \(f(x_0+)\) and \(f(x_0-)\) both exists and are equal to \(f(x_0)\).
\end{additional corollary}

\begin{proof}
    Since \(f\) is continuous at \(x_0\), by Definition \ref{9.4.1} we know that
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \big(\forall\ x \in X, \abs*{x - x_0} < \delta \implies \abs*{f(x) - f(x_0)} < \varepsilon\big).
    \]
    Since \(X \cap (-\infty, x_0) \subseteq X\), we must have
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \big(\forall\ x \in X \cap (-\infty, x_0), \abs*{x - x_0} < \delta \implies \abs*{f(x) - f(x_0)} < \varepsilon\big)
    \]
    and by Definition \ref{9.5.1} we have \(f(x_0+) = f(x_0)\).
    Similarly we have \(f(x_0-) = f(x_0)\).
\end{proof}

\setcounter{theorem}{2}
\begin{proposition}\label{9.5.3}
    Let \(X\) be a subset of \(\mathbf{R}\) containing a real number \(x_0\), and suppose that \(x_0\) is an adherent point of both \(X \cap (x_0, \infty)\) and \(X \cap (-\infty, x_0)\).
    Let \(f : X \to \mathbf{R}\) be a function.
    If \(f(x_0+)\) and \(f(x_0-)\) both exist and are both equal to \(f(x_0)\), then \(f\) is continuous at \(x_0\).
\end{proposition}

\begin{proof}
    Let us write \(L \coloneqq f(x_0)\).
    Then by hypothesis we have
    \[
        \lim_{x \to x_0 ; x \in X \cap (x_0, \infty)} f(x) = L
    \]
    and
    \[
        \lim_{x \to x_0 ; x \in X \cap (-\infty, x_0)} f(x) = L.
    \]
    Let \(\varepsilon > 0\) be given.
    From the first statement above and Proposition \ref{9.4.7} (applied to the restriction of \(f\) to \(X \cap (x_0, +\infty)\)), we know that there exists a \(\delta_+ > 0\) such that \(\abs*{f(x) - L} < \varepsilon\) for all \(x \in X \cap(x_0, \infty)\) for which \(\abs*{x - x_0} < \delta_+\).
    From the second statement above we similarly know that there exists a \(\delta_- > 0\) such that \(\abs*{f(x) - L} < \varepsilon\) for all \(x \in X \cap (-\infty, x_0)\) for which \(\abs*{x - x_0} < \delta_-\).
    Now let \(\delta \coloneqq \min(\delta_-, \delta_+)\);
    then \(\delta > 0\), and suppose that \(x \in X\) is such that \(\abs*{x - x_0} < \delta\).
    Then there are three cases:
    \(x > x_0\), \(x = x_0\), and \(x < x_0\), but in all three cases we know that \(\abs*{f(x) - L} < \varepsilon\) since
    \begin{itemize}
        \item If \(x > x_0\), then \(x \in X \cap (x_0, \infty)\) and \(\abs*{x - x_0} < \delta \leq \delta_+ \implies \abs*{f(x) - L} < \varepsilon\).
        \item If \(x < x_0\), then \(x \in X \cap (-\infty, x_0)\) and \(\abs*{x - x_0} < \delta \leq \delta_- \implies \abs*{f(x) - L} < \varepsilon\).
        \item If \(x = x_0\), then we have \(\abs*{x_0 - x_0} = 0 < \delta\) and \(\abs*{f(x_0) - f(x_0)} = 0 < \varepsilon\).
    \end{itemize}
    By Proposition \ref{9.4.7} we thus have that \(f\) is continuous at \(x_0\), as desired.
\end{proof}

\begin{note}
    When both \(f(x_0+), f(x_0-)\) exist and \(f(x_0+) \neq f(x_0-)\), we say that \(f\) has a \emph{jump discontinuity} at \(x_0\).
    When both \(f(x_0+), f(x_0-)\) exist and \(f(x_0+) = f(x_0-) \neq f(x_0)\), we say that \(f\) has a \emph{removable discontinuity} (or \emph{removable singularity}) at \(x_0\).
\end{note}

\begin{remark}\label{9.5.4}
    Jump discontinuities and removable discontinuities are not the only way a function can be discontinuous.
    Another way is for a function to go to infinity at the discontinuity:
    for instance, the function \(f : \mathbf{R} \setminus \{0\} \to \mathbf{R}\) defined by \(f(x) \coloneqq 1 / x\) has a discontinuity at \(0\) which is neither a jump discontinuity or a removable singularity;
    informally, \(f(x)\) converges to \(+\infty\) when \(x\) approaches \(0\) from the right, and converges to \(-\infty\) when \(x\) approaches \(0\) from the left.
    These types of singularities are sometimes known as \emph{asymptotic discontinuities}.
    There are also \emph{oscillatory discontinuities}, where the function remains bounded but still does not have a limit near \(x_0\).
    For instance, the function \(f : \mathbf{R} \to \mathbf{R}\) defined by
    \[
        f(x) \coloneqq \begin{cases}
            1 & \text{if } x \in \mathbf{Q}    \\
            0 & \text{if } x \notin \mathbf{Q}
        \end{cases}
    \]
    has an oscillatory discontinuity at \(0\) (and in fact at any other real number also).
    This is because the function does not have left or right limits at \(0\), despite the fact that the function is bounded.
\end{remark}

\begin{note}
    The study of discontinuities is also called \emph{singularities}.
\end{note}

\exercisesection

\begin{exercise}\label{ex 9.5.1}
    Let \(E\) be a subset of \(\mathbf{R}\), let \(f : E \to \mathbf{R}\) be a function, and let \(x_0\) be an adherent point of \(E\).
    Write down a definition of what it would mean for the limit \(\lim_{x \to x_0 ; x \in E} f(x)\) to exist and equal \(+\infty\) or \(-\infty\).
    If \(f : \mathbf{R} \setminus \{0\} \to \mathbf{R}\) is the function \(f(x) \coloneqq 1 / x\), use your definition to conclude \(f(0+) = +\infty\) and \(f(0-) = -\infty\).
    Also, state and prove some analogue of Proposition \ref{9.3.9} when \(L = +\infty\) or \(L = -\infty\).
\end{exercise}

\begin{definition}
    We define \(\lim_{x \to x_0 ; x \in E} f(x) = \infty\) iff
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in E, \abs*{x - x_0} < \delta \implies f(x) > \varepsilon\bigg).
    \]
    And define \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\) iff
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in E, \abs*{x - x_0} < \delta \implies f(x) < -\varepsilon\bigg).
    \]

    Now we show that \(\lim_{x \to 0 ; x \in \mathbf{R} \cap (0, \infty)} 1 / x = \infty\) and \(\lim_{x \to 0 ; x \in \mathbf{R} \cap (-\infty, 0)} 1 / x = -\infty\).
    Let \(\varepsilon \in \mathbf{R}^+\).
    \(\forall\ x \in \mathbf{R} \cap (0, \infty)\), we have
    \[
        x = \abs*{x} = \abs*{x - 0} < 1 / \varepsilon \implies 1 / x < \varepsilon.
    \]
    By letting \(\delta = 1 / \varepsilon\) we have
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in \mathbf{R} \cap (0, \infty), \abs*{x - 0} < \delta \implies 1 / x > \varepsilon\bigg).
    \]
    Thus by our definition \(\lim_{x \to 0 ; x \in \mathbf{R} \cap (0, \infty)} 1 / x = \infty\).
    Similarly, \(\forall\ x \in \mathbf{R} \cap (-\infty, 0)\), we have
    \[
        -x = \abs*{x} = \abs*{x - 0} < 1 / \varepsilon \implies 1 / x < -\varepsilon.
    \]
    By letting \(\delta = 1 / \varepsilon\) we have
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in \mathbf{R} \cap (-\infty, 0), \abs*{x - 0} < \delta \implies 1 / x < -\varepsilon\bigg).
    \]
    Thus by our definition \(\lim_{x \to 0 ; x \in \mathbf{R} \cap (-\infty, 0)} 1 / x = -\infty\).

    Now we define an analogue of Proposition \ref{9.3.9} on \(\infty\).
    The following two statements are equivalent:
    \begin{enumerate}
        \item \(\lim_{x \to x_0 ; x \in E} f(x) = \infty\).
        \item For every sequence \((a_n)_{n = 0}^\infty\) which consists entirely of elements of \(E\) and converges to \(x_0\), the sequence \((f(a_n))_{n = 0}^\infty\) converges to \(\infty\).
    \end{enumerate}
    We first show that the first statement above implies the second statement above.
    Since \(\lim_{x \to x_0 ; x \in E} f(x) = \infty\), by our definition we have
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in E, \abs*{x - x_0} < \delta \implies f(x) > \varepsilon\bigg).
    \]
    Since \(\lim_{n \to \infty} a_n = x_0\), \(\exists\ n \in \mathbf{N}\) such that \(\forall\ N \geq n\) we have \(\abs*{a_N - x_0} \leq \delta / 2 < \delta\).
    But since \(a_N \in E\), we have \(\abs*{a_N - x_0} < \delta \implies f(a_N) > \varepsilon\).
    Thus \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\exists\ n \in \mathbf{N}\) such that \(\forall\ N \geq n\) we have \(f(a_N) > \varepsilon\), which means \(\lim_{n \to \infty} f(a_n) = \infty\)
    (Since all element in \((f(a_n)_{n = 0}^\infty)\) are eventually positive and only bounded above by \(\infty\)).
    Next we show that the second statement above implies the first statement above.
    Suppose for sake of contradiction that \(\lim_{x \to x_0 ; x \in E} f(x) \neq \infty\).
    Then \(\exists\ \varepsilon \in \mathbf{R}^+\) such that \(\forall\ \delta \in \mathbf{R}^+\), we have \(\abs*{x - x_0} < \delta \land f(x) \leq \varepsilon\).
    Since \(\lim_{n \to \infty} a_n = x_0\), we know that \(\exists\ n_1 \in \mathbf{N}\) such that \(\forall\ N \geq n_1\) we have \(\abs*{a_N - x_0} < \delta\).
    Since \(\lim_{n \to \infty} f(a_n) = \infty\), we know that \(\exists\ n_2 \in \mathbf{N}\) such that \(\forall\ N \geq n_2\) we have \(f(a_N) > \varepsilon\).
    Let \(n = \max(n_1, n_2)\).
    Then we have \(\forall\ N \geq n\), \(\abs*{a_N - x_0} < \delta \land f(a_N) > \varepsilon\), a contradiction.
    Thus \(\lim_{x \to x_0 ; x \in E} f(x) = \infty\).

    Finally we define an analogue of Proposition \ref{9.3.9} on \(-\infty\).
    The following two statements are equivalent:
    \begin{enumerate}
        \item \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\).
        \item For every sequence \((a_n)_{n = 0}^\infty\) which consists entirely of elements of \(E\) and converges to \(x_0\), the sequence \((f(a_n))_{n = 0}^\infty\) converges to \(-\infty\).
    \end{enumerate}
    We first show that the first statement above implies the second statement above.
    Since \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\), by our definition we have
    \[
        \forall\ \varepsilon \in \mathbf{R}^+, \exists\ \delta \in \mathbf{R}^+ : \bigg(\forall\ x \in E, \abs*{x - x_0} < \delta \implies f(x) < -\varepsilon\bigg).
    \]
    Since \(\lim_{n \to -\infty} a_n = x_0\), \(\exists\ n \in \mathbf{N}\) such that \(\forall\ N \geq n\) we have \(\abs*{a_N - x_0} \leq \delta / 2 < \delta\).
    But since \(a_N \in E\), we have \(\abs*{a_N - x_0} < \delta \implies f(a_N) < -\varepsilon\).
    Thus \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\exists\ n \in \mathbf{N}\) such that \(\forall\ N \geq n\) we have \(f(a_N) < -\varepsilon\), which means \(\lim_{n \to -\infty} f(a_n) = -\infty\)
    (Since all element in \((f(a_n)_{n = 0}^\infty)\) are eventually negative and only bounded below by \(-\infty\)).
    Next we show that the second statement above implies the first statement above.
    Suppose for sake of contradiction that \(\lim_{x \to x_0 ; x \in E} f(x) \neq -\infty\).
    Then \(\exists\ \varepsilon \in \mathbf{R}^+\) such that \(\forall\ \delta \in \mathbf{R}^+\), we have \(\abs*{x - x_0} < \delta \land f(x) \geq -\varepsilon\).
    Since \(\lim_{n \to -\infty} a_n = x_0\), we know that \(\exists\ n_1 \in \mathbf{N}\) such that \(\forall\ N \geq n_1\) we have \(\abs*{a_N - x_0} < \delta\).
    Since \(\lim_{n \to -\infty} f(a_n) = -\infty\), we know that \(\exists\ n_2 \in \mathbf{N}\) such that \(\forall\ N \geq n_2\) we have \(f(a_N) < -\varepsilon\).
    Let \(n = \max(n_1, n_2)\).
    Then we have \(\forall\ N \geq n\), \(\abs*{a_N - x_0} < \delta \land f(a_N) < -\varepsilon\), a contradiction.
    Thus \(\lim_{x \to x_0 ; x \in E} f(x) = -\infty\).
\end{definition}