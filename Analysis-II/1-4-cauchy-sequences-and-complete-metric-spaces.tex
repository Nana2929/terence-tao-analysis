\section{Cauchy sequences and complete metric spaces}\label{sec 1.4}

\begin{definition}[Subsequences]\label{1.4.1}
    Suppose that \((x^{(n)})_{n = m}^\infty\) is a sequence of points in a metric space \((X, d)\).
    Suppose that \(n_1, n_2, n_3, \dots\) is an increasing sequence of integers which are at least as large as \(m\), thus
    \[
        m \leq n_1 < n_2 < n_3 < \dots.
    \]
    Then we call the sequence \((x^{(n_j)})_{j = 1}^\infty\) a \emph{subsequence} of the original sequence \((x^{(n)})_{n = m}^\infty\).
\end{definition}

\setcounter{theorem}{2}
\begin{lemma}\label{1.4.3}
    Let \((x^{(n)})_{n = m}^\infty\) be a sequence in \((X, d)\) which converges to some limit \(x_0\).
    Then every subsequence \((x^{(n_j)})_{j = 1}^\infty\) of that sequence also converges to \(x_0\).
\end{lemma}

\begin{proof}
    By Definition \ref{1.1.14} we have \(\lim_{n \to \infty} d(x^{(n)}, x_0) = 0\), which means \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\exists\ N \in \mathbf{N}\) and \(N \geq m\) such that
    \[
        \forall\ n \geq N, d(x^{(n)}, x_0) \leq \varepsilon.
    \]
    Let \((x^{(n_j)})_{j = 1}^\infty\) be any subsequence of \((x^{(n)})_{n = m}^\infty\).
    Since \(\forall\ j \in \mathbf{N}\), we have \(n_j \geq j\), we must have \(n_N \geq N\).
    This means \(\forall\ n_j \geq n_N \geq N\), we have \(d(x^{(n_j)}, x_0) \leq \varepsilon\).
    Thus by Definition \ref{1.1.14} \(\lim_{j \to \infty} d(x^{(n_j)}, x_0) = 0\).
\end{proof}

\begin{definition}[Limit points]\label{1.4.4}
    Suppose that \((x^{(n)})_{n = m}^\infty\) is a sequence of points in a metric space \((X, d)\), and let \(L \in X\).
    We say that \(L\) is a \emph{limit point} of \((x^{(n)})_{n = m}^\infty\) iff for every \(N \geq m\) and \(\varepsilon > 0\) there exists an \(n \geq N\) such that \(d(x^{(n)}, L) \leq \varepsilon\).
\end{definition}

\begin{proposition}\label{1.4.5}
    Let \((x^{(n)})_{n = m}^\infty\) be a sequence of points in a metric space \((X, d)\), and let \(L \in X\).
    Then the following are equivalent:
    \begin{itemize}
        \item \(L\) is a limit point of \((x^{(n)})_{n = m}^\infty\).
        \item There exists a subsequence \((x^{(n_j)})_{j = 1}^\infty\) of the original sequence \((x^{(n)})_{n = m}^\infty\) which converges to \(L\).
    \end{itemize}
\end{proposition}

\begin{proof}
    We first show that if \(L\) is a limit point of \((x^{(n)})_{n = 0}^\infty\), then there exists a subsequence of \((x^{(n)})_{n = 0}^\infty\) which converges to \(L\).
    Let \(f : \mathbf{N} \to \mathbf{N}\) be a function where \(f(0) = 0\) and \(f(n_j) = \min\{n > n_{j - 1} : d(x^{(n)}, L) \leq 1 / j\}\).
    Since \(L\) is a limit point of \((x^{(n)})_{n = 0}^\infty\), by Definition \ref{1.4.4} \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\forall\ n_j \geq m\), \(\exists\ n \geq n_j\) such that \(d(x^{(n)}, L) \leq \varepsilon\).
    In particular, \(d(x^{(n)}, L) \leq 1 / j\).
    Thus such \(f\) exists and \((x^{(n_j)})_{j = 1}^\infty\) is a subsequence of \((x^{(n)})_{n = m}^\infty\).
    Since \(\forall\ j \geq 1\) we have \(d(x^{(n_j)}, L) \leq 1 / j\), by squeeze test we have
    \[
        0 = \lim_{j \to \infty} 0 \leq \lim_{j \to \infty} d(x^{(n_j)}, L) \leq \lim_{j \to \infty} 1 / j = 0
    \]
    and thus by Definition \ref{1.1.14} the sequence \((x^{(n_j)})_{n = 1}^\infty\) converges to \(L\).

    Now we show that if a subsequence of \((x^{(n)})_{n = 0}^\infty\) converges to \(L\), then \(L\) is a limit point of \((x^{(n)})_{n = 0}^\infty\).
    Let \((a_n)_{n = 1}^\infty\) be a subsequence of \((x^{(n)})_{n = 0}^\infty\) and \(\lim_{n \to \infty} d(a_n, L) = 0\).
    Since \(\lim_{n \to \infty} d(a_n, L) = 0\), by Definition \ref{1.1.14} \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\exists\ n \geq 0\) such that \(d(a_n, L) \leq \varepsilon\).
    This means \(\forall\ N \in \mathbf{N}\) and \(N \geq 1\), \(\exists\ n \geq N\) such that \(d(a_n, L) = d(x^{(n_j)}, L) \leq \varepsilon\).
    Thus by Definition \ref{1.4.4} \(L\) is a limit point of \((x^{(n)})_{n = 0}^\infty\), and we are done.
\end{proof}

\begin{definition}[Cauchy sequences]\label{1.4.6}
    Let \((x^{(n)})_{n = m}^\infty\) be a sequence of points in a metric space \((X, d)\).
    We say that this sequence is a \emph{Cauchy sequence} iff for every \(\varepsilon > 0\), there exists an \(N \geq m\) such that \(d(x^{(j)}, x^{(k)}) < \varepsilon\) for all \(j, k \geq N\).
\end{definition}

\begin{lemma}[Convergent sequences are Cauchy sequences]\label{1.4.7}
    Let \((x^{(n)})_{n = m}^\infty\) be a sequence in \((X, d)\) which converges to some limit \(x_0\).
    Then \((x^{(n)})_{n = m}^\infty\) is also a Cauchy sequence.
\end{lemma}

\begin{proof}
    Since \(\lim_{n \to \infty} d(x^{(n)}, x_0) = 0\), by Definition \ref{1.1.14} we know that \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\exists\ N \in \mathbf{N}\) and \(N \geq m\) such that \(\forall\ n \geq N\), we have \(d(x^{(n)}, x_0) \leq \varepsilon / 2\).
    Let \(k \in \mathbf{N}\) and \(k \geq N\).
    Then we have
    \begin{align*}
        d(x^{(n)}, x^{(k)}) & \leq d(x^{(n)}, x_0) + d(x_0, x^{(k)}) & \text{(by Definition \ref{1.1.2}(d))} \\
                            & = d(x^{(n)}, x_0) + d(x^{(k)}, x_0)    & \text{(by Definition \ref{1.1.2}(c))} \\
                            & \leq \varepsilon / 2 + \varepsilon / 2                                         \\
                            & = \varepsilon
    \end{align*}
    and by Definition \ref{1.4.6} \((x^{(n)})_{n = m}^\infty\) is a Cauchy sequence.
\end{proof}

\setcounter{theorem}{8}
\begin{lemma}\label{1.4.9}
    Let \((x^{(n)})_{n = m}^\infty\) be a Cauchy sequence in \((X, d)\).
    Suppose that there is some subsequence \((x^{(n_j)})_{j = 1}^\infty\) of this sequence which converges to a limit \(x_0\) in \(X\).
    Then the original sequence \((x^{(n)})_{n = m}^\infty\) also converges to \(x_0\).
\end{lemma}

\begin{proof}
    Since \(\lim_{j \to \infty} d(x^{(n_j)}, x_0) = 0\), by Definition \ref{1.1.14} we know that \(\forall\ \varepsilon \in \mathbf{R}^+\), \(\exists\ N_1 \in \mathbf{N}\) and \(N_1 \geq 1\) such that \(\forall\ j \geq N_1\), we have \(d(x^{(n_j)}, x_0) \leq \varepsilon / 2\).
    Since \((x^{(n)})_{n = m}^\infty\) is a Cauchy sequence, by Definition \ref{1.4.6} we know that \(\exists\ N_2 \in \mathbf{N}\) and \(N_2 \geq m\) such that \(\forall\ i, k \in \mathbf{N}\) and \(i, k \geq N\) we have \(d(x^{(i)}, x^{(k)}) \leq \varepsilon / 2\).
    Let \(N = \max(N_1, N_2)\).
    Then \(\forall\ i, j \geq N\), we have
    \begin{align*}
        d(x^{(i)}, x_0) & \leq d(x^{(i)}, x^{(n_j)}) + d(x^{(n_j)}, x_0) & \text{(by Definition \ref{1.1.2}(d))} \\
                        & \leq \varepsilon / 2 + \varepsilon / 2         & (n_j \geq j \geq N)                   \\
                        & = \varepsilon
    \end{align*}
    and thus by Definition \ref{1.1.14} \(\lim_{n \to \infty} d(x^{(n)}, x_0) = 0\).
\end{proof}

\begin{definition}[Complete metric spaces]\label{1.4.10}
    A metric space \((X, d)\) is said to be \emph{complete} iff every Cauchy sequence in \((X, d)\) is in fact convergent in \((X, d)\).
\end{definition}

\setcounter{theorem}{11}
\begin{proposition}\label{1.4.12}
    \begin{enumerate}
        \item Let \((X, d)\) be a metric space, and let \((Y, d|_{Y \times Y})\) be a subspace of \((X, d)\).
              If \((Y, d|_{Y \times Y})\) is complete, then \(Y\) must be closed in \(X\).
        \item Conversely, suppose that \((X, d)\) is a complete metric space, and \(Y\) is a closed subset of \(X\).
              Then the subspace \((Y, d|_{Y \times Y})\) is also complete.
    \end{enumerate}
\end{proposition}

\begin{proof}
    We first show that the statement (a) is true.
    Suppose that \((X, d)\) is a metric space and \((Y, d|_{Y \times Y})\) is a complete subspace of \((X, d)\).
    Let \(x_0 \in \partial Y\).
    By Proposition \ref{1.2.10} \(\exists\ (x^{(n)})_{n = m}^\infty\) in \(Y\) such that \(\lim_{n \to \infty} d(x^{(n)}, x_0) = 0\).
    Since \(Y\) is complete, by Definition \ref{1.4.10} we know that \(x_0 \in Y\).
    Thus we have \(\partial Y \subseteq Y\) and by Definition \ref{1.2.12} \(Y\) is closed.

    Now we show that the statement (b) is true.
    Suppose that \((X, d)\) is a complete metric space and \(Y\) is a closed subset of \(X\).
    Let \((x^{(n)})_{n = m}^\infty\) be a Cauchy sequence in \(Y\).
    Since \(Y \subseteq X\), we know that \((x^{(n)})_{n = m}^\infty\) is also in \(X\).
    Since \(X\) is complete, we know that \(\lim_{n \to \infty} d(x^{(n)}, x_0) = 0\) for some \(x_0 \in X\).
    Since \(\lim_{n \to \infty} d(x^{(n)}, x_0) = 0\), we know that \(x_0\) is an adherent point of \(Y\).
    But \(Y\) is closed, thus by Proposition \ref{1.2.15}(b) we know that \(x_0 \in Y\), and by Definition \ref{1.4.10} \((Y, d|_{Y \times Y})\) is complete.
\end{proof}

\exercisesection

\begin{exercise}\label{ex 1.4.1}
    Prove Lemma \ref{1.4.3}.
\end{exercise}

\begin{proof}
    See Lemma \ref{1.4.3}.
\end{proof}

\begin{exercise}\label{ex 1.4.2}
    Prove Proposition 1.4.5.
\end{exercise}

\begin{proof}
    See Proposition \ref{1.4.5}.
\end{proof}

\begin{exercise}\label{ex 1.4.3}
    Prove Lemma \ref{1.4.7}.
\end{exercise}

\begin{proof}
    See Lemma \ref{1.4.7}.
\end{proof}

\begin{exercise}\label{ex 1.4.4}
    Prove Lemma \ref{1.4.9}.
\end{exercise}

\begin{proof}
    See Lemma \ref{1.4.9}.
\end{proof}

\begin{exercise}\label{ex 1.4.5}
    Let \((x^{(n)})_{n = m}^\infty\) be a sequence of points in a metric space \((X, d)\), and let \(L \in X\).
    Show that if \(L\) is a limit point of the sequence \((x^{(n)})_{n = m}^\infty\), then \(L\) is an adherent point of the set \(\{x^{(n)} : n \geq m\}\).
    Is the converse true?
\end{exercise}

\begin{proof}
    We first show that if \(L\) is a limit point of \((x^{(n)})_{n = m}^\infty\), then \(L\) is an adherent point of \(\{x^{(n)} : n \geq m\}\).
    Suppose that \(L\) is a limit point of \((x^{(n)})_{n = m}^\infty\).
    Let \(E = \{x^{(n)} : n \geq m\}\).
    By Proposition \ref{1.4.5} we know that \(\exists\ (x^{(n_j)})_{j = 1}^\infty\) in \(E\) such that \(\lim_{j \to \infty} d(x^{(n_j)}, L) = 0\).
    Thus by Proposition \ref{1.2.10} \(L\) is an adherent point of \(E\).

    Now we show that if \(L\) is an adherent point of \(\{x^{(n)} : n \geq m\}\), then \(L\) may not be a limit point of \((x^{(n)})_{n = m}^\infty\).
    Let \(x^{(n)} = 1 / n\) and let \(E = \{x^{(n)} : n \geq m\}\).
    Then by Definition \ref{1.2.9} we know that \(1\) is an adherent point of \(E\).
    But by Definition \ref{1.4.4} we know that \(1\) is not an limit point of \(E\).
    Thus if \(L\) is an adherent point of \(\{x^{(n)} : n \geq m\}\), then \(L\) may not be a limit point of \((x^{(n)})_{n = m}^\infty\).
\end{proof}

\begin{exercise}\label{ex 1.4.6}
    Show that every Cauchy sequence can have at most one limit point.
\end{exercise}

\begin{proof}
    Suppose for sake of contradiction that there exists a Cauchy sequence \((x^{(n)})_{n = m}^\infty\) in some metric space \((X, d)\) which has two limit points \(L\) and \(L'\).
    Then by Lemma \ref{1.4.5} \(\exists\ (x^{(n_i)})_{i = 1}^\infty, (x^{(n_j)})_{j = 1}^\infty,\) which converges to \(L\) and \(L'\) respectively.
    Since \((x^{(n)})_{n = m}^\infty\) is a Cauchy sequence, by Lemma \ref{1.4.9} we know that \((x^{(n)})_{n = m}^\infty\) converges to \(L\) and \(L'\), which contradict to Proposition \ref{1.1.20}.
    Thus every Cauchy sequence can have at most one limit point.
\end{proof}

\begin{exercise}\label{ex 1.4.7}
    Prove Proposition \ref{1.4.12}.
\end{exercise}

\begin{proof}
    See Proposition \ref{1.4.12}.
\end{proof}

\begin{exercise}\label{ex 1.4.8}
    The following construction generalizes the construction of the reals from the rationals in Chapter 5, allowing one to view any metric space as a subspace of a complete metric space.
    In what follows we let \((X, d)\) be a metric space.
    \begin{enumerate}
        \item Given any Cauchy sequence \((x^{(n)})_{n = m}^\infty\) in \(X\), we introduce the \emph{formal limit} \\
              \(\text{LIM}_{n \to \infty} x_n\).
              We say that two formal limits \(\text{LIM}_{n \to \infty} x_n\) and \(\text{LIM}_{n \to \infty} y_n\) are equal if \(\text{lim}_{n \to \infty} d(x_n, y_n)\) is equal to zero.
              Show that this equality relation obeys the reflexive, symmetry, and transitive axioms.
        \item Let \(\overline{X}\) be the space of all formal limits of Cauchy sequences in \(X\), with the above equality relation.
              Define a metric \(d_{\overline{X}} : \overline{X} \times \overline{X} \to \mathbf{R}^+\) by setting
              \[
                  d_{\overline{X}}(\text{LIM}_{n \to \infty} x_n, \text{LIM}_{n \to \infty} y_n) \coloneqq \lim_{n \to \infty} d(x_n, y_n).
              \]
              Show that this function is well-defined (this means not only that the limit \\
              \(\lim_{n \to \infty} d(x_n, y_n)\) exists, but also that the axiom of substitution is obeyed;
              cf. Lemma 5.3.7), and gives \(X\) the structure of a metric space.
        \item Show that the metric space \((\overline{X}, d_{\overline{X}})\) is complete.
        \item We identify an element \(x \in X\) with the corresponding formal limit \(\text{LIM}_{n \to \infty} x\) in \(X\);
              show that this is legitimate by verifying that \(x = y \iff \text{LIM}_{n \to \infty} x = \text{LIM}_{n \to \infty} y\).
              With this identification, show that \(d(x, y) = d_{\overline{X}}(x, y)\), and thus \((X, d)\) can now be thought of as a subspace of \((\overline{X}, d_{\overline{X}})\).
        \item Show that the closure of \(X\) in \(\overline{X}\) is \(\overline{X}\) (which explains the choice of notation \(\overline{X}\)).
        \item Show that the formal limit agrees with the actual limit, thus if \((x_n)_{n = 1}^\infty\) is any Cauchy sequence in \(X\), then we have \(\lim_{n \to \infty} x_n = \text{LIM}_{n \to \infty} x_n\) in \(\overline{X}\).
    \end{enumerate}
\end{exercise}