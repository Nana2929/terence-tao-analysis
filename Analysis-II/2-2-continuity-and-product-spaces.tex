\section{Continuity and product spaces}\label{sec 2.2}

\begin{note}
    Given two functions \(f : X \to Y\) and \(g : X \to Z\), one can define their \emph{direct sum} \(f \oplus g : X \to Y \times Z\) defined by \(f \oplus g(x) \coloneqq \big(f(x), g(x)\big)\), i.e., this is the function taking values in the Cartesian product \(Y \times Z\) whose first co-ordinate is \(f(x)\) and whose second co-ordinate is \(g(x)\)
    (cf. Exercise 3.5.7 in Analysis I).
\end{note}

\begin{lemma}\label{2.2.1}
    Let \(f : X \to \mathbf{R}\) and \(g : X \to \mathbf{R}\) be functions, and let \(f \oplus g : X \to \mathbf{R}^2\) be their direct sum.
    We give \(\mathbf{R}^2\) the Euclidean metric.
    \begin{enumerate}
        \item If \(x_0 \in X\), then \(f\) and \(g\) are both continuous at \(x_0\) if and only if \(f \oplus g\) is continuous at \(x_0\).
        \item \(f\) and \(g\) are both continuous if and only if \(f \oplus g\) is continuous.
    \end{enumerate}
\end{lemma}

\begin{proof}{(a)}
    We have
    \begin{align*}
             & \begin{cases}
            f \text{ is continuous at } x_0 \text{ in } (X, d_X) \\
            g \text{ is continuous at } x_0 \text{ in } (X, d_X)
        \end{cases}                                                                                                                                                       \\
        \iff & \text{every sequence } (x^{(n)})_{n = 1}^\infty \text{ in } X \text{ satisfies the following:}                                                                                  \\
             & \lim_{n \to \infty} d_X\big(x^{(n)}, x_0\big) = 0 \text{ implies }                                                                                                              \\
             & \begin{cases}
            \lim_{n \to \infty} d_{l^2}|_{\mathbf{R} \times \mathbf{R}}\big(f(x^{(n)}), f(x_0)\big) = 0 \\
            \lim_{n \to \infty} d_{l^2}|_{\mathbf{R} \times \mathbf{R}}\big(g(x^{(n)}), g(x_0)\big) = 0
        \end{cases}                                                                                                               & \text{(by Theorem \ref{2.1.4}(a)(b))} \\
        \iff & \text{every sequence } (x^{(n)})_{n = 1}^\infty \text{ in } X \text{ satisfies the following:}                                                                                  \\
             & \lim_{n \to \infty} d_X\big(x^{(n)}, x_0\big) = 0 \text{ implies }                                                                                                              \\
             & \lim_{n \to \infty} d_{l^2}|_{\mathbf{R}^2 \times \mathbf{R}^2}\Big(\big(f(x^{(n)}), g(x^{(n)})\big), \big(f(x_0), g(x_0)\big)\Big) = 0 & \text{(by Proposition \ref{1.1.18})}  \\
        \iff & f \oplus g \text{ is continuous at } x_0 \text{ in } (X, d_X).                                                                          & \text{(by Theorem \ref{2.1.4}(a)(b))}
    \end{align*}
\end{proof}

\begin{proof}
    We have
    \begin{align*}
             & \begin{cases}
            f \text{ is continuous in } (X, d_X) \\
            g \text{ is continuous in } (X, d_X)
        \end{cases}                                                                                              \\
        \iff & \forall\ x_0 \in X, \begin{cases}
            f \text{ is continuous at } x_0 \text{ in } (X, d_X) \\
            g \text{ is continuous at } x_0 \text{ in } (X, d_X)
        \end{cases}                                     & \text{(by Definition \ref{2.1.1})} \\
        \iff & \forall\ x_0 \in X, f \oplus g \text{ is continuous at } x_0 \text{ in } (X, d_X) & \text{(by Lemma \ref{2.2.1}(a))}   \\
        \iff & f \oplus g \text{ is continuous in } (X, d_X).                                    & \text{(by Definition \ref{2.1.1})}
    \end{align*}
\end{proof}

\begin{lemma}\label{2.2.2}
    The addition function \((x, y) \mapsto x + y\), the subtraction function \((x, y) \mapsto x - y\), the multiplication function \((x, y) \mapsto xy\), the maximum function \((x, y) \mapsto \max(x, y)\), and the minimum function \((x, y) \mapsto \min(x, y)\), are all continuous functions from \(\mathbf{R}^2\) to \(\mathbf{R}\).
    The division function \((x, y) \mapsto x / y\) is a continuous function from \(\mathbf{R} \times (\mathbf{R} \setminus \{0\}) = \{(x, y) \in \mathbf{R}^2 : y \neq 0\}\) to \(\mathbf{R}\).
    For any real number \(c\), the function \(x \mapsto cx\) is a continuous function from \(\mathbf{R}\) to \(\mathbf{R}\).
\end{lemma}

\begin{proof}
    First we show that the addition, subtraction, multiplication, maximum and minimum functions from \(\mathbf{R}^2\) to \(\mathbf{R}\) are continuous in \((\mathbf{R}^2, d_{l^1}|_{\mathbf{R}^2 \times \mathbf{R}^2})\).
    Let \((x, y) \in \mathbf{R}^2\) and let \((x^{(n)}, y^{(n)})_{n = 1}^\infty\) be a sequence in \(\mathbf{R}^2\) such that
    \[
        \lim_{n \to \infty} d_{l^1}|_{\mathbf{R}^2 \times \mathbf{R}^2}\big((x^{(n)}, y^{(n)}), (x, y)\big) = 0
    \]
    By limit laws we know that
    \begin{align*}
         & \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}(x^{(n)} + y^{(n)}, x + y) = 0                   \\
         & \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}(x^{(n)} - y^{(n)}, x - y) = 0                   \\
         & \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}(x^{(n)} y^{(n)}, xy) = 0                        \\
         & \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}\big(\max(x^{(n)}, y^{(n)}), \max(x, y)\big) = 0 \\
         & \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}\big(\min(x^{(n)}, y^{(n)}), \min(x, y)\big) = 0 \\
    \end{align*}
    Since \((x^{(n)}, y^{(n)})_{n = 1}^\infty\) is arbitrary, by Theorem \ref{2.1.4}(a)(b) we know that the addition, subtraction, multiplication, maximum and minimum functions from \(\mathbf{R}^2\) to \(\mathbf{R}\) are continuous at \((x, y)\) in \((\mathbf{R}^2, d_{l^1}|_{\mathbf{R}^2 \times \mathbf{R}^2})\).
    Since \((x, y)\) is arbitrary, by Theorem \ref{2.1.5}(a)(b) we know that the addition, subtraction, multiplication, maximum and minimum functions from \(\mathbf{R}^2\) to \(\mathbf{R}\) are continuous in \((\mathbf{R}^2, d_{l^1}|_{\mathbf{R}^2 \times \mathbf{R}^2})\).

    Next we show that the division function from \(E = \mathbf{R} \times (\mathbf{R} \setminus \{0\})\) to \(\mathbf{R}\) is continuous in \(E, d_{l^1}|_{E \times E}\).
    Let \((x, y) \in E\) and let \((x^{(n)}, y^{(n)})_{n = 1}^\infty\) be a sequence in \(E\) such that
    \[
        \lim_{n \to \infty} d_{l^1}|_{E \times E}\big((x^{(n)}, y^{(n)}), (x, y)\big) = 0
    \]
    By limit laws we know that
    \[
        \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}(x^{(n)} / y^{(n)}, x / y) = 0.
    \]
    Thus using similar arguments as above we know that the division function from \(E\) to \(\mathbf{R}\) is continuous in \((E, d_{l^1}|_{E \times E})\).

    Finally we show that the constant multiplication function from \(\mathbf{R}\) to \(\mathbf{R}\) is continuous in \((\mathbf{R}^2, d_{l^1}|_{\mathbf{R} \times \mathbf{R}})\).
    Let \(c, x \in \mathbf{R}\) and let \((x^{(n)})_{n = 1}^\infty\) be a sequence in \(\mathbf{R}\) such that
    \[
        \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}(x^{(n)}, x) = 0.
    \]
    By limit laws we know that
    \[
        \lim_{n \to \infty} d_{l^1}|_{\mathbf{R} \times \mathbf{R}}(cx^{(n)}, cx) = 0.
    \]
    Thus using similar arguments as above we know that the constant function from \(\mathbf{R}\) to \(\mathbf{R}\) is continuous in \((\mathbf{R}, d_{l^1}|_{\mathbf{R} \times \mathbf{R}})\).
\end{proof}

\begin{corollary}\label{2.2.3}
    Let \((X, d)\) be a metric space, let \(f : X \to \mathbf{R}\) and \(g : X \to \mathbf{R}\) be functions.
    Let \(c\) be a real number.
    \begin{enumerate}
        \item If \(x_0 \in X\) and \(f\) and \(g\) are continuous at \(x_0\), then the functions \(f + g : X \to \mathbf{R}\), \(f - g : X \to \mathbf{R}\), \(fg : X \to \mathbf{R}\), \(\max(f, g) : X \to \mathbf{R}\), \(\min(f, g) : X \to \mathbf{R}\), and \(cf : X \to \mathbf{R}\) (see Definition 9.2.1 in Analysis I for definitions) are also continuous at \(x_0\).
              If \(g(x) \neq 0\) for all \(x \in X\), then \(f / g : X \to \mathbf{R}\) is also continuous at \(x_0\).
        \item If \(f\) and \(g\) are continuous, then the functions \(f + g : X \to \mathbf{R}\), \(f - g : X \to \mathbf{R}\), \(fg : X \to \mathbf{R}\), \(\max(f, g) : X \to \mathbf{R}\), \(\min(f, g) : X \to \mathbf{R}\), and \(cf : X \to \mathbf{R}\) are also continuous at \(x_0\).
              If \(g(x) \neq 0\) for all \(x \in X\), then \(f / g : X \to \mathbf{R}\) is also continuous at \(x_0\).
    \end{enumerate}
\end{corollary}

\begin{proof}
    We first prove (a). Since \(f\) and \(g\) are continuous at \(x_0\), then by Lemma \ref{2.2.1} \(f \oplus g : X \to \mathbf{R}^2\) is also continuous at \(x_0\).
    On the other hand, from Lemma \ref{2.2.2} the function \((x, y) \mapsto x + y\) is continuous at every point in \(\mathbf{R}^2\), and in particular is continuous at \(f \oplus g(x_0)\).
    If we then compose these two functions using Corollary \ref{2.1.7} we conclude that \(f + g : X \to \mathbf{R}\) is continuous.
    A similar argument gives the continuity of \(f - g\), \(fg\), \(\max(f, g)\), \(\min(f, g)\) and \(cf\).
    To prove the claim for \(f / g\), we first use Exercise \ref{ex 2.1.7} to restrict the range of \(g\) from \(\mathbf{R}\) to \(\mathbf{R} \setminus \{0\}\), and then one can argue as before.
    The claim (b) follows immediately from (a).
\end{proof}

\exercisesection

\begin{exercise}\label{ex 2.2.1}
    Prove Lemma \ref{2.2.1}.
\end{exercise}

\begin{proof}
    See Lemma \ref{2.2.1}.
\end{proof}

\begin{exercise}\label{ex 2.2.2}
    Prove Lemma \ref{2.2.2}.
\end{exercise}

\begin{proof}
    See Lemma \ref{2.2.2}.
\end{proof}

\begin{exercise}\label{ex 2.2.3}
    Show that if \(f : X \to \mathbf{R}\) is a continuous function, so is the function \(\abs*{f} : X \to \mathbf{R}\) defined by \(\abs*{f}(x) \coloneqq \abs*{f(x)}\).
\end{exercise}

\begin{proof}
    Let \((X, d_X)\) be a metric space and let \(f : X \to \mathbf{R}\) be a function which is continuous in \((X, d_X)\).
    Since
    \begin{align*}
                 & \forall\ x_0 \in X, \abs*{f}(x) = \abs*{f(x)} = \max\big(-f(x), f(x)\big) \\
        \implies & \abs*{f} = \max(-f, f),
    \end{align*}
    we have
    \begin{align*}
                 & f \text{ is continuous in } (X, d_X)                                                  \\
        \implies & -f \text{ is continuous in } (X, d_X)          & \text{(by Corollary \ref{2.2.3}(b))} \\
        \implies & \max(f, -f) \text{ is continuous in } (X, d_X) & \text{(by Corollary \ref{2.2.3}(b))} \\
        \implies & \abs*{f} \text{ is continuous in } (X, d_X).
    \end{align*}
\end{proof}

\begin{exercise}\label{ex 2.2.4}
    Let \(\pi_1 : \mathbf{R}^2 \to \mathbf{R}\) and \(\pi_2 : \mathbf{R}^2 \to \mathbf{R}\) be the functions \(\pi_1(x, y) \coloneqq x\) and \(\pi_2(x, y) \coloneqq y\) (these two functions are sometimes called the \emph{co-ordinate functions} on \(\mathbf{R}^2\)).
    Show that \(\pi_1\) and \(\pi_2\) are continuous.
    Conclude that if \(f : \mathbf{R} \to X\) is any continuous function into a metric space \((X, d)\), then the functions \(g_1 : \mathbf{R}^2 \to X\) and \(g_2 : \mathbf{R}^2 \to X\) defined by \(g_1(x, y) \coloneqq f(x)\) and \(g_2(x, y) \coloneqq f(y)\) are also continuous.
\end{exercise}

\begin{exercise}\label{ex 2.2.5}
    Let \(n, m \geq 0\) be integers.
    Suppose that for every \(0 \leq i \leq n\) and \(0 \leq j \leq m\) we have a real number \(c_{ij}\).
    Form the function \(P : \mathbf{R}^2 \to \mathbf{R}\) defined by
    \[
        P(x, y) \coloneqq \sum_{i = 0}^n \sum_{j = 0}^m c_{ij} x^i y^j.
    \]
    (Such a function is known as a \emph{polynomial of two variables})
    Show that \(P\) is continuous.
    Conclude that if \(f : X \to \mathbf{R}\) and \(g : X \to \mathbf{R}\) are continuous functions, then the function \(P(f, g) : X \to \mathbf{R}\) defined by \(P(f, g)(x) \coloneqq P\big(f(x), g(x)\big)\) is also continuous.
\end{exercise}

\begin{exercise}\label{ex 2.2.6}
    Let \(\mathbf{R}^m\) and \(\mathbf{R}^n\) be Euclidean spaces.
    If \(f : X \to \mathbf{R}^m\) and \(g : X \to \mathbf{R}^n\) are continuous functions, show that \(f \oplus g : X \to \mathbf{R}^{m + n}\) is also continuous, where we have identified \(\mathbf{R}^m \times \mathbf{R}^n\) with \(\mathbf{R}^{m + n}\) in the obvious manner.
    Is the converse statement true?
\end{exercise}

\begin{exercise}\label{ex 2.2.7}
    Let \(k \geq 1\), let \(I\) be a finite subset of \(\mathbf{N}^k\), and let \(c : I \to \mathbf{R}\) be a function.
    Form the function \(P : \mathbf{R}^k \to \mathbf{R}\) defined by
    \[
        P(x_1, \dots, x_k) \coloneqq \sum_{(i_1, \dots, i_k) \in I} c(i_1, \dots, i_k) x_1^{i_1} \dots x_k^{i_k}.
    \]
    (Such a function is known as a \emph{polynomial of \(k\) variables};
    Show that \(P\) is continuous.
\end{exercise}

\begin{exercise}\label{ex 2.2.8}
    Let \((X, d_X)\) and \((Y, d_Y)\) be metric spaces.
    Define the metric \(d_{X \times Y} : (X \times Y) \times (X \times Y) \to [0, \infty)\) by the formula
    \[
        d_{X \times Y}\big((x, y), (x', y')\big) \coloneqq d_X(x, x') + d_Y(y, y').
    \]
    Show that \((X \times Y, d_{X \times Y})\) is a metric space, and deduce an analogue of Proposition \ref{1.1.18} and Lemma \ref{2.2.1}.
\end{exercise}

\begin{exercise}\label{ex 2.2.9}
    Let \(f : \mathbf{R}^2 \to \mathbf{R}\) be a function from \(\mathbf{R}^2\) to \(\mathbf{R}\).
    Let \((x_0, y_0)\) be a point in \(\mathbf{R}^2\).
    If \(f\) is continuous at \((x_0, y_0)\), show that
    \[
        \lim_{x \to x_0} \limsup_{y \to y_0} f(x, y) = \lim_{y \to y_0} \limsup_{x \to x_0} f(x, y) = f(x_0, y_0)
    \]
    and
    \[
        \lim_{x \to x_0} \liminf_{y \to y_0} f(x, y) = \lim_{y \to y_0} \liminf_{x \to x_0} f(x, y) = f(x_0, y_0).
    \]
    Recall that
    \begin{align*}
         & \limsup_{x \to x_0} f(x) \coloneqq \inf_{r > 0} \sup_{\abs*{x - x_0} < r} f(x) \\
         & \liminf_{x \to x_0} f(x) \coloneqq \sup_{r > 0} \inf_{\abs*{x - x_0} < r} f(x)
    \end{align*}
    In particular, we have
    \[
        \lim_{x \to x_0} \lim_{y \to y_0} f(x, y) = \lim_{y \to y_0} \lim_{x \to x_0} f(x, y)
    \]
    whenever the limits on both sides exist.
    (Note that the limits do not necessarily exist in general.)
    Discuss the comparison between this result and Example 1.2.7.
\end{exercise}

\begin{exercise}\label{ex 2.2.10}
    Let \(f : \mathbf{R}^2 \to \mathbf{R}\) be a continuous function.
    Show that for each \(x \in \mathbf{R}\), the function \(y \mapsto f(x, y)\) is continuous on \(\mathbf{R}\), and for each \(y \in \mathbf{R}\), the function \(x \mapsto f(x, y)\) is continuous on \(\mathbf{R}\).
    Thus a function \(f(x, y)\) which is jointly continuous in \((x, y)\) is also continuous in each variable \(x, y\) separately.
\end{exercise}

\begin{exercise}\label{ex 2.2.11}
    Let \(f : \mathbf{R}^2 \to \mathbf{R}\) be the function defined by \(f(x, y) = \frac{xy}{x^2 + y^2}\) when \((x, y) \neq (0, 0)\), and \(f(x, y) = 0\) otherwise.
    Show that for each fixed \(x \in \mathbf{R}\), the function \(y \mapsto f(x, y)\) is continuous on \(\mathbf{R}\), and that for each fixed \(y \in \mathbf{R}\), the function \(x \mapsto f(x, y)\) is continuous on \(\mathbf{R}\), but that the function \(f : \mathbf{R}^2 \to \mathbf{R}\) is not continuous on \(\mathbf{R}^2\).
    This shows that the converse to Exercise \ref{ex 2.2.10} fails;
    it is possible to be continuous in each variable separately without being jointly continuous.
\end{exercise}

\begin{exercise}\label{ex 2.2.12}
    Let \(f: \mathbf{R}^2 \to \mathbf{R}\) be the function defined by \(f(x, y) \coloneqq x^2 / y\) when \(y \neq 0\), and \(f(x, y) \coloneqq 0\) when \(y = 0\).
    Show that \(\lim_{t \to 0} f(tx, ty) = f(0, 0)\) for every \((x, y) \in \mathbf{R}^2\), but that \(f\) is not continuous at the origin.
    Thus being continuous on every line through the origin is not enough to guarantee continuity at the origin!
\end{exercise}