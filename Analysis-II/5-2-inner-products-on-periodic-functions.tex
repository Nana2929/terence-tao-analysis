\section{Inner products on periodic functions}\label{sec 5.2}

\begin{definition}[Inner product]\label{5.2.1}
    If \(f, g \in \big(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C}), d_\infty\big)\), we define the \emph{inner product} \(\inner*{f, g}\) to be the quantity
    \[
        \inner*{f, g} = \int_{[0, 1]} f(x) \overline{g(x)} \; dx.
    \]
\end{definition}

\begin{remark}\label{5.2.2}
    In order to integrate a complex-valued function over real variables, we use the definition that
    \[
        \int_{[a, b]} f(x) \; dx \coloneqq \int_{[a, b]} \Re\big(f(x)\big) \; dx + i \int_{[a,b]} \Im\big(f(x)\big) \; dx;
    \]
    i.e., we integrate the real and imaginary parts of the function separately.
    It is easy to verify that all the standard rules of calculus (integration by parts, fundamental theorem of calculus, substitution, etc.) still hold when the functions are complex-valued instead of real-valued.
\end{remark}

\begin{example}\label{5.2.3}
    Let \(f\) be the constant function \(f(x) \coloneqq 1\), and let \(g(x)\) be the function \(g(x) \coloneqq e^{2 \pi i x}\).
    Then we have
    \begin{align*}
        \inner*{f, g} & = \int_{[0, 1]} 1 \overline{e^{2 \pi i x}} \; dx      \\
                      & = \int_{[0, 1]} e^{- 2 \pi i x} \; dx                 \\
                      & = \frac{e^{- 2 \pi i x}}{- 2 \pi i} |_{x = 0}^{x = 1} \\
                      & = \frac{e^{- 2 \pi i } - e^0}{- 2 \pi i}              \\
                      & = \frac{1 - 1}{- 2 \pi i}                             \\
                      & = 0.
    \end{align*}
\end{example}

\begin{remark}\label{5.2.4}
    In general, the inner product \(\inner*{f, g}\) will be a complex number.
    (Note that \(f(x) \overline{g(x)}\) will be Riemann integrable since both functions are bounded and continuous.)
\end{remark}

\begin{note}
    Roughly speaking, the inner product \(\inner*{f, g}\) is to the space \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) what the dot product \(x \cdot y\) is to Euclidean spaces such as \(\mathbf{R}^n\).
    A more in-depth study of inner products on vector spaces can be found in any linear algebra text but is beyond the scope of this text.
\end{note}

\begin{lemma}\label{5.2.5}
    Let \(f, g, h \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\).
    \begin{enumerate}
        \item (Hermitian property)
              We have \(\inner*{g, f} = \inner*{f, g}\).
        \item (Positivity)
              We have \(\inner*{f, f} \geq 0\).
              Furthermore, we have \(\inner*{f, f} = 0\) if and only if \(f = 0\)
              (i.e., \(f(x) = 0\) for all \(x \in \mathbf{R}\)).
        \item (Linearity in the first variable)
              We have \(\inner*{f +g, h}\) = \(\inner*{f, h} + \inner*{g, h}\).
              For any complex number \(c\), we have \(\inner*{cf, g} = c \inner*{f, g}\).
        \item (Antilinearity in the second variable)
              We have \(\inner*{f, g + h} = \inner*{f, g} + \inner*{f, h}\).
              For any complex number \(c\), we have \(\inner*{f, cg} = c \inner*{f, g}\).
    \end{enumerate}
\end{lemma}

\begin{note}
    From the positivity property, it makes sense to define the \(L^2\) norm \(\norm*{f}_2\) of a function \(f \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) by the formula
    \[
        \norm*{f}_2 = \sqrt{\inner*{f, f}} = \bigg(\int_{[0, 1]} f(x) \overline{f(x)} \; dx\bigg)^{1 / 2} = \bigg(\int_{[0, 1]} \abs*{f(x)}^2 \; dx\bigg)^{1 / 2}.
    \]
    Thus \(\norm*{f}_2 \geq 0\) for all \(f\).
    The norm \(\norm*{f}_2\) is sometimes called the \emph{root mean square} of \(f\).
\end{note}

\begin{note}
    This \(L^2\) norm is related to, but is distinct from, the \(L^\infty\) norm
    \[
        \norm*{f}_\infty \coloneqq \sup_{x \in \mathbf{R}} \abs*{f(x)}.
    \]
    In general, the best one can say is that \(0 \leq \norm*{f}_2 \leq \norm*{f}_\infty\).
\end{note}

\setcounter{theorem}{6}
\begin{lemma}\label{5.2.7}
    Let \(f, g \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\).
    \begin{enumerate}
        \item (Non-degeneracy)
              We have \(\norm*{f}_2 = 0\) if and only if \(f = 0\).
        \item (Cauchy-Schwarz inequality)
              We have \(\abs*{\inner*{f, g}} \leq \norm*{f}_2 \norm*{g}_2\).
        \item (Triangle inequality)
              We have \(\norm*{f + g}_2 \leq \norm*{f}_2 + \norm*{g}_2\).
        \item (Pythagorasâ€™ theorem)
              If \(\inner*{f, g} = 0\), then \(\norm*{f + g}_2^2 = \norm*{f}2^2 + \norm*{g}_2^2\).
        \item (Homogeneity)
              We have \(\norm*{cf}_2 = \abs*{c} \norm*{f}_2\) for all \(c \in \mathbf{C}\).
    \end{enumerate}
\end{lemma}

\begin{note}
    In light of Pythagoras' theorem, we sometimes say that \(f\) and \(g\) are \emph{orthogonal} iff \(\inner*{f, g} = 0\).
\end{note}

\begin{note}
    We can now define the \(L^2\) metric \(d_{L^2}\) on \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) by defining
    \[
        d_{L^2}(f, g) \coloneqq \norm*{f - g}_2 = \bigg(\int_{[0, 1]} \abs*{f(x) - g(x)}^2 \; dx\bigg)^{1 / 2}.
    \]
\end{note}

\begin{remark}\label{5.2.8}
    One can verify that \(d_{L^2}\) is indeed a metric.
    Indeed, the \(L^2\) metric is very similar to the \(l^2\) metric on Euclidean spaces \(\mathbf{R}^n\), which is why the notation is deliberately chosen to be similar;
    you should compare the two metrics yourself to see the analogy.
\end{remark}

\begin{note}
    a sequence \(f_n\) of functions in \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) will \emph{converge in the \(L^2\) metric} to \(f \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) if \(d_{L^2}(f_n, f) \to 0\) as \(n \to \infty\), or in other words that
    \[
        \lim_{n \to \infty} \int_{[0, 1]} \abs*{f_n(x) - f(x)}^2 \; dx = 0.
    \]
\end{note}

\begin{remark}\label{5.2.9}
    The notion of convergence in \(L^2\) metric is different from that of uniform or pointwise convergence.
\end{remark}

\begin{remark}\label{5.2.10}
    The \(L^2\) metric is not as well-behaved as the \(L_\infty\) metric.
    For instance, it turns out the space \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) is not complete in the \(L^2\) metric, despite being complete in the \(L_\infty\) metric.
\end{remark}

\exercisesection

\begin{exercise}\label{ex 5.2.1}
    Prove Lemma \ref{5.2.5}.
\end{exercise}

\begin{proof}
    See Lemma \ref{5.2.5}.
\end{proof}

\begin{exercise}\label{ex 5.2.2}
    Prove Lemma \ref{5.2.7}.
\end{exercise}

\begin{proof}
    See Lemma \ref{5.2.7}.
\end{proof}

\begin{exercise}\label{ex 5.2.3}
    If \(f \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) is a non-zero function, show that \(0 < \norm*{f}_2 \leq \norm*{f}_\infty\).
    Conversely, if \(0 < A \leq B\) are real numbers, show that there exists a non-zero function \(f \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) such that \(\norm*{f}_2 = A\) and \(\norm*{f}_\infty = B\).
\end{exercise}

\begin{exercise}\label{ex 5.2.4}
    Prove that the \(L^2\) metric on \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) does indeed turn \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\) into a metric space.
\end{exercise}

\begin{exercise}\label{ex 5.2.5}
    Find a sequence of continuous periodic functions which converge in \(L^2\) to a discontinuous periodic function.
\end{exercise}

\begin{exercise}\label{5.2.6}
    Let \(f \in C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\), and let \((f_n)_{n = 1}^\infty\) be a sequence of functions in \(C(\mathbf{R} / \mathbf{Z} ; \mathbf{C})\).
    \begin{enumerate}
        \item Show that if \(f_n\) converges uniformly to \(f\), then \(f_n\) also converges to \(f\) in the \(L^2\) metric.
        \item Give an example where \(f_n\) converges to \(f\) in the \(L^2\) metric, but does not converge to \(f\) uniformly.
        \item Give an example where \(f_n\) converges to \(f\) in the \(L^2\) metric, but does not converge to \(f\) pointwise.
        \item Give an example where \(f_n\) converges to \(f\) pointwise, but does not converge to \(f\) in the \(L^2\) metric.
    \end{enumerate}
\end{exercise}